  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20090509030350)
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.9ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.2ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "password_hash" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (3.8ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (3.2ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090509030350')[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (4.2ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "password_hash" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (2.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (7.3ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (2.4ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090509030350')[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.5ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "password_hash" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (2.8ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (3.3ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090509030350')[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (5.7ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "password_hash" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.7ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (3.6ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (4.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090509030350')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.4ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "password_hash" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.7ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (5.3ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.3ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (2.5ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090509030350')[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.9ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.8ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "password_hash" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (3.4ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090509030350')[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.3ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "password_hash" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (4.4ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (2.9ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090509030350')[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (4.3ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "password_hash" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (3.0ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090509030350')[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.9ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.2ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "password_hash" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.7ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (3.1ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (3.2ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090509030350')[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.2ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "password_hash" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.4ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (3.1ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (3.3ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090509030350')[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.1ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "password_hash" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (4.4ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (2.8ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (3.1ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090509030350')[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.2ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "password_hash" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.1ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (3.1ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (3.1ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090509030350')[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.5ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "password_hash" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.6ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (3.5ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (3.1ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (2.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090509030350')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20090509030350)
Migrating to CreateStories (20090509090126)
  [4;36;1mSQL (0.4ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.4ms)[0m   [0mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090509090126')[0m
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("stories")[0m
  [4;35;1mSQL (0.8ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.3ms)[0m   [0;1mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.3ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "password_hash" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.9ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (2.6ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090509090126')[0m
  [4;35;1mSQL (2.7ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090509030350')[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.7ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "password_hash" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.6ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (2.9ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (2.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090509090126')[0m
  [4;35;1mSQL (4.8ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090509030350')[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (4.3ms)[0m   [0;1mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.6ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "password_hash" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (5.3ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (3.2ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (2.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (5.3ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090509090126')[0m
  [4;35;1mSQL (3.3ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090509030350')[0m


Processing UsersController#new (for 127.0.0.1 at 2009-05-09 19:43:21) [GET]
Rendering template within layouts/application
Rendering users/new
Completed in 414ms (View: 358, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#new (for 127.0.0.1 at 2009-05-09 19:44:12) [GET]
Rendering template within layouts/application
Rendering users/new
Completed in 259ms (View: 215, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#new (for 127.0.0.1 at 2009-05-09 19:44:18) [GET]
Rendering template within layouts/application
Rendering users/new
Completed in 74ms (View: 21, DB: 0) | 200 OK [http://localhost/users/new]
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.4ms)[0m   [0;1mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.5ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "password_hash" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (4.6ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (3.2ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (2.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090509090126')[0m
  [4;35;1mSQL (2.6ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090509030350')[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("stories")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20090509030350)
Migrating to CreateStories (20090509095110)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSQLite3::SQLException: table "stories" already exists: CREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (1.1ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateStories (20090509095110)
Migrating to CreateUsers (20090509030350)
  [4;36;1mSQL (0.9ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (10.6ms)[0m   [0mDROP TABLE "users"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090509030350'[0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("stories")[0m


Processing UsersController#new (for 127.0.0.1 at 2009-05-09 19:56:34) [GET]

ActiveRecord::StatementInvalid (Could not find table 'users'):
  faker (0.3.1) lib/extensions/object.rb:3:in `returning'
  app/controllers/users_controller.rb:3:in `new'
  app/controllers/users_controller.rb:3:in `new'

Rendered rescues/_trace (146.4ms)
Rendered rescues/_request_and_response (33.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (1.1ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20090509030350)
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "password_hash" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090509030350')[0m
Migrating to CreateStories (20090509095110)
  [4;35;1mSQL (0.0ms)[0m   [0mSQLite3::SQLException: table "stories" already exists: CREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (1.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.9ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateStories (20090509095110)
Migrating to CreateUsers (20090509030350)
  [4;36;1mSQL (0.9ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mDROP TABLE "users"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090509030350'[0m
  [4;35;1mSQL (1.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("stories")[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (2.5ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (9.0ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20090509030350)
  [4;36;1mSQL (1.0ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "password_hash" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090509030350')[0m
Migrating to CreateStories (20090509095110)
  [4;36;1mSQL (1.0ms)[0m   [0;1mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090509095110')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("stories")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("users")[0m


Processing UsersController#new (for 127.0.0.1 at 2009-05-09 19:58:56) [GET]
Rendering template within layouts/application
Rendering users/new
Completed in 236ms (View: 185, DB: 0) | 200 OK [http://localhost/users/new]


Processing StoriesController#index (for 127.0.0.1 at 2009-05-10 00:34:25) [GET]
  [4;36;1mStory Load (1.2ms)[0m   [0;1mSELECT * FROM "stories" [0m
Rendering template within layouts/application
Rendering stories/index
Completed in 104ms (View: 70, DB: 1) | 200 OK [http://localhost/stories]
  [4;36;1mSQL (1.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.4ms)[0m   [0;1mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.6ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "password_hash" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.7ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (3.6ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (3.2ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090509095110')[0m
  [4;35;1mSQL (3.5ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090509030350')[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.5ms)[0m   [0;1mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "password_hash" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.1ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (2.2ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090509095110')[0m
  [4;35;1mSQL (1.8ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090509030350')[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.1ms)[0m   [0;1mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.2ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "password_hash" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (5.5ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (2.1ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.2ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090509095110')[0m
  [4;35;1mSQL (2.4ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090509030350')[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (4.8ms)[0m   [0;1mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.7ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "password_hash" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (5.3ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (3.0ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090509095110')[0m
  [4;35;1mSQL (2.2ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090509030350')[0m
  [4;36;1mSQL (2.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.9ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.4ms)[0m   [0;1mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.3ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "password_hash" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.6ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (3.3ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (3.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (4.6ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090509095110')[0m
  [4;35;1mSQL (2.9ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090509030350')[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.8ms)[0m   [0;1mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.8ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "password_hash" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.7ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (2.5ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090509095110')[0m
  [4;35;1mSQL (1.6ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090509030350')[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.6ms)[0m   [0;1mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (3.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "password_hash" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (3.2ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (2.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090509095110')[0m
  [4;35;1mSQL (2.4ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090509030350')[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.8ms)[0m   [0;1mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.9ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "password_hash" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.9ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (2.8ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (3.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090509095110')[0m
  [4;35;1mSQL (4.0ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090509030350')[0m


Processing StoriesController#new (for 127.0.0.1 at 2009-05-10 01:20:29) [GET]
Rendering template within layouts/application
Rendering stories/new
Rendered stories/_form (15.7ms)
Completed in 88ms (View: 48, DB: 0) | 200 OK [http://localhost/stories/new]


Processing StoriesController#index (for 127.0.0.1 at 2009-05-10 10:20:36) [GET]
  [4;35;1mStory Load (1.1ms)[0m   [0mSELECT * FROM "stories" [0m
Rendering template within layouts/application
Rendering stories/index
Completed in 41ms (View: 6, DB: 1) | 200 OK [http://localhost/stories]
  [4;36;1mSQL (2.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (19.9ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (9.8ms)[0m   [0;1mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "password_hash" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (4.8ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (3.1ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (2.6ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090509095110')[0m
  [4;35;1mSQL (2.5ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090509030350')[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.4ms)[0m   [0;1mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.1ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "password_hash" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.2ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (3.1ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (3.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090509095110')[0m
  [4;35;1mSQL (2.6ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090509030350')[0m


Processing StoriesController#index (for 127.0.0.1 at 2009-05-10 11:48:58) [GET]
  [4;36;1mStory Load (42.9ms)[0m   [0;1mSELECT * FROM "stories" [0m
Rendering template within layouts/application
Rendering stories/index
Completed in 396ms (View: 54, DB: 43) | 200 OK [http://localhost/stories]
  [4;36;1mSQL (1.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.3ms)[0m   [0;1mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.1ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "password_hash" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.2ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (3.3ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (3.2ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090509095110')[0m
  [4;35;1mSQL (2.9ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090509030350')[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.1ms)[0m   [0;1mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.2ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "password_hash" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.3ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (3.0ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (4.3ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090509095110')[0m
  [4;35;1mSQL (3.5ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090509030350')[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.7ms)[0m   [0;1mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.6ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "password_hash" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (5.5ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (3.6ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (3.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090509095110')[0m
  [4;35;1mSQL (3.3ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090509030350')[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.9ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.2ms)[0m   [0;1mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.2ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "password_hash" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.5ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (3.5ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (3.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090509095110')[0m
  [4;35;1mSQL (3.0ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090509030350')[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.2ms)[0m   [0;1mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.1ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "password_hash" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.6ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (4.0ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (3.6ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090509095110')[0m
  [4;35;1mSQL (3.6ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090509030350')[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.5ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "password_hash" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.5ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (3.3ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (3.1ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090509095110')[0m
  [4;35;1mSQL (3.1ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090509030350')[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.9ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.1ms)[0m   [0;1mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.8ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "password_hash" varchar(255), "password_salt" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.7ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (2.0ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090509095110')[0m
  [4;35;1mSQL (3.0ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090509030350')[0m


Processing StoriesController#new (for 127.0.0.1 at 2009-05-10 12:32:08) [GET]
Redirected to http://localhost:3000/login
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 118ms (DB: 0) | 302 Found [http://localhost/stories/new]


Processing SessionsController#new (for 127.0.0.1 at 2009-05-10 12:32:12) [GET]
Rendering template within layouts/application
Rendering sessions/new
Completed in 94ms (View: 75, DB: 0) | 200 OK [http://localhost/login]


Processing UsersController#new (for 127.0.0.1 at 2009-05-10 12:32:16) [GET]
Rendering template within layouts/application
Rendering users/new
Completed in 51ms (View: 15, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#create (for 127.0.0.1 at 2009-05-10 12:32:30) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"abc123", "username"=>"Shoaib", "password"=>"abc123", "email"=>"saburq@gmail.com"}, "commit"=>"Sign up", "authenticity_token"=>"24coRX5DN5B7DmFbIFMj0LbOSlAukWjJ7LfVhI6YnXE="}
  [4;35;1mUser Exists (15.8ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'Shoaib') LIMIT 1[0m
  [4;36;1mUser Exists (0.5ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'saburq@gmail.com') LIMIT 1[0m
  [4;35;1mUser Create (17.5ms)[0m   [0mINSERT INTO "users" ("updated_at", "username", "password_salt", "password_hash", "email", "created_at") VALUES('2009-05-10 02:32:30', 'Shoaib', 'e69c6f657fb947ffc5af36e0f0994fcb50b257b2', '1e0ddb3046c5acd19ae8e8348d8faec984d062cc', 'saburq@gmail.com', '2009-05-10 02:32:30')[0m
Redirected to http://localhost:3000/
Completed in 174ms (DB: 34) | 302 Found [http://localhost/users]


Processing StoriesController#new (for 127.0.0.1 at 2009-05-10 12:32:44) [GET]
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/new
Rendered stories/_form (15.7ms)
Completed in 98ms (View: 22, DB: 1) | 200 OK [http://localhost/stories/new]


Processing StoriesController#index (for 127.0.0.1 at 2009-05-10 12:35:17) [GET]
  [4;35;1mStory Load (0.7ms)[0m   [0mSELECT * FROM "stories" [0m
Rendering template within layouts/application
Rendering stories/index
Completed in 41ms (View: 4, DB: 1) | 200 OK [http://localhost/]


Processing StoriesController#new (for 127.0.0.1 at 2009-05-10 12:35:33) [GET]
  [4;36;1mUser Load (1.9ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/new
Rendered stories/_form (11.1ms)
Completed in 94ms (View: 18, DB: 2) | 200 OK [http://localhost/stories/new]
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateStories (20090509095110)
  [4;36;1mSQL (0.4ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.1ms)[0m   [0mDROP TABLE "stories"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090509095110'[0m
Migrating to CreateUsers (20090509030350)
  [4;35;1mSQL (0.9ms)[0m   [0mDROP TABLE "users"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090509030350'[0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20090509030350)
  [4;36;1mSQL (0.4ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.7ms)[0m   [0mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "persistance_token" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090509030350')[0m
Migrating to CreateStories (20090509095110)
  [4;35;1mSQL (0.8ms)[0m   [0mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090509095110')[0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (28.8ms)[0m   [0;1mPRAGMA index_list("stories")[0m
  [4;35;1mSQL (0.3ms)[0m   [0mPRAGMA index_list("users")[0m


Processing StoriesController#index (for 127.0.0.1 at 2009-05-10 19:21:10) [GET]
  [4;36;1mStory Load (1.5ms)[0m   [0;1mSELECT * FROM "stories" [0m
Rendering template within layouts/application
Rendering stories/index

ActionView::TemplateError (undefined local variable or method `new_user_path' for #<ActionView::Base:0x2392aa4>) on line #14 of app/views/layouts/application.html.erb:
11:       <h1><a href="/">Pakistan Refugee Crisis</a></h1>
12:       <div id="user-navigation">
13:         <ul>
14:           <li><%= link_to "Register", new_user_path %></li>
15:           <li><a href="#">Settings</a></li>
16:           <li><a href="/logout">Logout</a></li>
17:         </ul>

    app/views/layouts/application.html.erb:14

Rendered rescues/_trace (376.8ms)
Rendered rescues/_request_and_response (36.5ms)
Rendering rescues/layout (internal_server_error)


Processing StoriesController#index (for 127.0.0.1 at 2009-05-10 19:22:04) [GET]
  [4;35;1mStory Load (0.7ms)[0m   [0mSELECT * FROM "stories" [0m
Rendering template within layouts/application
Rendering stories/index
Completed in 48ms (View: 4, DB: 1) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-05-10 19:26:07) [GET]
Rendering template within layouts/application
Rendering users/new
Completed in 140ms (View: 61, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-05-10 19:26:16) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"", "username"=>"", "password"=>"abc123", "email"=>"saburq@gmail.com"}, "commit"=>"Sign up", "authenticity_token"=>"24coRX5DN5B7DmFbIFMj0LbOSlAukWjJ7LfVhI6YnXE="}

NoMethodError (undefined method `persistence_token=' for #<User:0x217d87c>):
  authlogic (2.0.11) lib/authlogic/acts_as_authentic/persistence_token.rb:50:in `reset_persistence_token'
  authlogic (2.0.11) lib/authlogic/acts_as_authentic/password.rb:188:in `after_password_set'
  authlogic (2.0.11) lib/authlogic/acts_as_authentic/password.rb:231:in `password='
  app/controllers/users_controller.rb:7:in `new'
  app/controllers/users_controller.rb:7:in `create'

Rendered rescues/_trace (355.7ms)
Rendered rescues/_request_and_response (1.8ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.6ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (3.1ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (6.4ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20090509030350)
  [4;36;1mSQL (1.7ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "persistance_token" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090509030350')[0m
Migrating to CreateStories (20090509095110)
  [4;36;1mSQL (0.9ms)[0m   [0;1mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090509095110')[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("stories")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mPRAGMA index_list("users")[0m


Processing UsersController#create (for 127.0.0.1 at 2009-05-10 19:28:14) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"", "username"=>"", "password"=>"abc123", "email"=>"saburq@gmail.com"}, "commit"=>"Sign up", "authenticity_token"=>"24coRX5DN5B7DmFbIFMj0LbOSlAukWjJ7LfVhI6YnXE="}

NoMethodError (undefined method `persistence_token=' for #<User:0x2359c04>):
  authlogic (2.0.11) lib/authlogic/acts_as_authentic/persistence_token.rb:50:in `reset_persistence_token'
  authlogic (2.0.11) lib/authlogic/acts_as_authentic/password.rb:188:in `after_password_set'
  authlogic (2.0.11) lib/authlogic/acts_as_authentic/password.rb:231:in `password='
  app/controllers/users_controller.rb:7:in `new'
  app/controllers/users_controller.rb:7:in `create'

Rendered rescues/_trace (212.7ms)
Rendered rescues/_request_and_response (5.7ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#new (for 127.0.0.1 at 2009-05-10 19:28:23) [GET]
Rendering template within layouts/application
Rendering users/new
Completed in 283ms (View: 196, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-05-10 19:28:35) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"abc123", "username"=>"shoaib", "password"=>"abc123", "email"=>"saburq@gmail.com"}, "commit"=>"Sign up", "authenticity_token"=>"24coRX5DN5B7DmFbIFMj0LbOSlAukWjJ7LfVhI6YnXE="}

NoMethodError (undefined method `persistence_token=' for #<User:0x2476ec0>):
  authlogic (2.0.11) lib/authlogic/acts_as_authentic/persistence_token.rb:50:in `reset_persistence_token'
  authlogic (2.0.11) lib/authlogic/acts_as_authentic/password.rb:188:in `after_password_set'
  authlogic (2.0.11) lib/authlogic/acts_as_authentic/password.rb:231:in `password='
  app/controllers/users_controller.rb:7:in `new'
  app/controllers/users_controller.rb:7:in `create'

Rendered rescues/_trace (196.1ms)
Rendered rescues/_request_and_response (1.7ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#create (for 127.0.0.1 at 2009-05-10 19:44:28) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"abc123", "username"=>"shoaib", "password"=>"abc123", "email"=>"saburq@gmail.com"}, "commit"=>"Sign up", "authenticity_token"=>"24coRX5DN5B7DmFbIFMj0LbOSlAukWjJ7LfVhI6YnXE="}

NoMethodError (undefined method `persistence_token=' for #<User:0x21b7a54>):
  authlogic (2.0.11) lib/authlogic/acts_as_authentic/persistence_token.rb:50:in `reset_persistence_token'
  authlogic (2.0.11) lib/authlogic/acts_as_authentic/password.rb:188:in `after_password_set'
  authlogic (2.0.11) lib/authlogic/acts_as_authentic/password.rb:231:in `password='
  app/controllers/users_controller.rb:7:in `new'
  app/controllers/users_controller.rb:7:in `create'

Rendered rescues/_trace (356.1ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateStories (20090509095110)
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.8ms)[0m   [0mDROP TABLE "stories"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090509095110'[0m
Migrating to CreateUsers (20090509030350)
  [4;35;1mSQL (0.8ms)[0m   [0mDROP TABLE "users"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090509030350'[0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m


Processing UsersController#create (for 127.0.0.1 at 2009-05-10 19:55:14) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"abc123", "username"=>"shoaib", "password"=>"abc123", "email"=>"saburq@gmail.com"}, "commit"=>"Sign up", "authenticity_token"=>"24coRX5DN5B7DmFbIFMj0LbOSlAukWjJ7LfVhI6YnXE="}

ActiveRecord::StatementInvalid (Could not find table 'users'):
  app/controllers/users_controller.rb:7:in `new'
  app/controllers/users_controller.rb:7:in `create'

Rendered rescues/_trace (190.0ms)
Rendered rescues/_request_and_response (10.5ms)
Rendering rescues/layout (internal_server_error)


Processing StoriesController#index (for 127.0.0.1 at 2009-05-10 19:55:39) [GET]
  [4;36;1mStory Load (0.0ms)[0m   [0;1mSQLite3::SQLException: no such table: stories: SELECT * FROM "stories" [0m

ActiveRecord::StatementInvalid (SQLite3::SQLException: no such table: stories: SELECT * FROM "stories" ):
  app/controllers/stories_controller.rb:3:in `index'

Rendered rescues/_trace (366.2ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20090509030350)
  [4;36;1mSQL (0.6ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.8ms)[0m   [0mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "persistence_token" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090509030350')[0m
Migrating to CreateStories (20090509095110)
  [4;35;1mSQL (298.7ms)[0m   [0mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090509095110')[0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("stories")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("users")[0m


Processing StoriesController#index (for 127.0.0.1 at 2009-05-10 19:56:24) [GET]
  [4;36;1mStory Load (0.7ms)[0m   [0;1mSELECT * FROM "stories" [0m
Rendering template within layouts/application
Rendering stories/index
Completed in 82ms (View: 47, DB: 1) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-05-10 19:56:27) [GET]
Rendering template within layouts/application
Rendering users/new
Completed in 128ms (View: 59, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-05-10 19:56:38) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"abc123", "username"=>"shoaib", "password"=>"abc123", "email"=>"saburq@gmail.com"}, "commit"=>"Sign up", "authenticity_token"=>"24coRX5DN5B7DmFbIFMj0LbOSlAukWjJ7LfVhI6YnXE="}
  [4;35;1mUser Exists (0.6ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'saburq@gmail.com') LIMIT 1[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."username") = 'shoaib') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = '7633ec2c1f7be1ec34863b959eceab7af9b01776d5792ff1e994f6749784ea2ca0420a9253e472cfb0061f03da09c5567d6d16cb07f9bed4fa07f737988b721f') LIMIT 1[0m
  [4;36;1mUser Create (0.9ms)[0m   [0;1mINSERT INTO "users" ("updated_at", "crypted_password", "username", "password_salt", "persistence_token", "email", "created_at") VALUES('2009-05-10 09:56:39', 'e275d46639ce8ce53d36b5ae2d0b739c561046d529fbf671267fdd702536ecdd90d6ade738c8477e920cde8c1dbe8e955ea4d0aa44d67ced83fb07fd3072828d', 'shoaib', 'HoOyOZPiZOWo9JqDq4n7', '7633ec2c1f7be1ec34863b959eceab7af9b01776d5792ff1e994f6749784ea2ca0420a9253e472cfb0061f03da09c5567d6d16cb07f9bed4fa07f737988b721f', 'saburq@gmail.com', '2009-05-10 09:56:39')[0m
Redirected to http://localhost:3000/
Completed in 555ms (DB: 2) | 302 Found [http://localhost/users]


Processing StoriesController#index (for 127.0.0.1 at 2009-05-10 19:56:39) [GET]
  [4;35;1mStory Load (0.9ms)[0m   [0mSELECT * FROM "stories" [0m
Rendering template within layouts/application
Rendering stories/index
Completed in 48ms (View: 5, DB: 1) | 200 OK [http://localhost/]


Processing StoriesController#index (for 127.0.0.1 at 2009-05-10 20:45:26) [GET]
  [4;36;1mStory Load (0.7ms)[0m   [0;1mSELECT * FROM "stories" [0m
Rendering template within layouts/application
Rendering stories/index
Completed in 65ms (View: 25, DB: 1) | 200 OK [http://localhost/]


Processing StoriesController#index (for 127.0.0.1 at 2009-05-10 20:46:13) [GET]
  [4;35;1mStory Load (1.2ms)[0m   [0mSELECT * FROM "stories" [0m
Rendering template within layouts/application
Rendering stories/index
Completed in 70ms (View: 10, DB: 1) | 200 OK [http://localhost/]


Processing SessionsController#destroy (for 127.0.0.1 at 2009-05-10 20:46:17) [GET]
Redirected to http://localhost:3000/
Completed in 16ms (DB: 0) | 302 Found [http://localhost/logout]


Processing StoriesController#index (for 127.0.0.1 at 2009-05-10 20:46:17) [GET]
  [4;36;1mStory Load (1.2ms)[0m   [0;1mSELECT * FROM "stories" [0m
Rendering template within layouts/application
Rendering stories/index
Completed in 52ms (View: 9, DB: 1) | 200 OK [http://localhost/]


Processing SessionsController#new (for 127.0.0.1 at 2009-05-10 20:46:33) [GET]
Rendering template within layouts/application
Rendering sessions/new
Completed in 83ms (View: 58, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#create (for 127.0.0.1 at 2009-05-10 20:46:36) [POST]
  Parameters: {"commit"=>"Log in", "authenticity_token"=>"24coRX5DN5B7DmFbIFMj0LbOSlAukWjJ7LfVhI6YnXE=", "login"=>"saburq@gmail.com", "password"=>"abc123"}
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `authenticate' for #<Class:0x229b9fc>):
  app/controllers/sessions_controller.rb:6:in `create'

Rendered rescues/_trace (185.2ms)
Rendered rescues/_request_and_response (7.7ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (1.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20090509030350)
Migrating to CreateStories (20090509095110)
  [4;36;1mSQL (0.6ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mPRAGMA index_list("stories")[0m
  [4;35;1mSQL (0.3ms)[0m   [0mPRAGMA index_list("users")[0m


Processing StoriesController#index (for 127.0.0.1 at 2009-05-10 21:28:34) [GET]
  [4;36;1mStory Load (0.8ms)[0m   [0;1mSELECT * FROM "stories" [0m
Rendering template within layouts/application
Rendering stories/index
Completed in 67ms (View: 21, DB: 1) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-05-10 21:28:38) [GET]
Rendering template within layouts/application
Rendering users/new
Completed in 82ms (View: 19, DB: 0) | 200 OK [http://localhost/users/new]


Processing UserSessionsController#new (for 127.0.0.1 at 2009-05-10 21:28:41) [GET]
Rendering template within layouts/application
Rendering user_sessions/new
Completed in 101ms (View: 26, DB: 0) | 200 OK [http://localhost/login]


Processing UserSessionsController#create (for 127.0.0.1 at 2009-05-10 21:28:43) [POST]
  Parameters: {"commit"=>"Submit", "user_session"=>{"username"=>"saburq@gmail.com", "password"=>"abc123"}, "authenticity_token"=>"24coRX5DN5B7DmFbIFMj0LbOSlAukWjJ7LfVhI6YnXE="}
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE (LOWER("users".username) = 'saburq@gmail.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering user_sessions/new
Completed in 96ms (View: 11, DB: 1) | 200 OK [http://localhost/user_sessions]


Processing UsersController#new (for 127.0.0.1 at 2009-05-10 21:28:48) [GET]
Rendering template within layouts/application
Rendering users/new
Completed in 93ms (View: 25, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-05-10 21:28:55) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"abc123", "username"=>"shoaib", "password"=>"abc123", "email"=>"saburq@gmail.com"}, "commit"=>"Sign up", "authenticity_token"=>"24coRX5DN5B7DmFbIFMj0LbOSlAukWjJ7LfVhI6YnXE="}
  [4;36;1mUser Exists (0.7ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'saburq@gmail.com') LIMIT 1[0m
  [4;35;1mUser Exists (1.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."username") = 'shoaib') LIMIT 1[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = '90683febc670e0a55b90ee0e6c8ffee907e3d2a2debdc9d1965ecfcdf0f2cadcef4297833a774ca07b76d0d89bff1c9e1283a7639b81f20fe29d67acc83c27e0') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 300ms (View: 17, DB: 2) | 200 OK [http://localhost/users]


Processing UserSessionsController#new (for 127.0.0.1 at 2009-05-10 21:29:01) [GET]
Rendering template within layouts/application
Rendering user_sessions/new
Completed in 104ms (View: 9, DB: 0) | 200 OK [http://localhost/login]


Processing UserSessionsController#create (for 127.0.0.1 at 2009-05-10 21:29:07) [POST]
  Parameters: {"commit"=>"Submit", "user_session"=>{"username"=>"shoaib", "password"=>"abc123"}, "authenticity_token"=>"24coRX5DN5B7DmFbIFMj0LbOSlAukWjJ7LfVhI6YnXE="}
  [4;35;1mUser Load (2.2ms)[0m   [0mSELECT * FROM "users" WHERE (LOWER("users".username) = 'shoaib') LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 116ms (DB: 2) | 302 Found [http://localhost/user_sessions]


Processing StoriesController#index (for 127.0.0.1 at 2009-05-10 21:29:07) [GET]
  [4;36;1mStory Load (0.8ms)[0m   [0;1mSELECT * FROM "stories" [0m
Rendering template within layouts/application
Rendering stories/index
Completed in 54ms (View: 7, DB: 1) | 200 OK [http://localhost/]


Processing StoriesController#index (for 127.0.0.1 at 2009-05-10 21:37:52) [GET]
  [4;35;1mStory Load (0.8ms)[0m   [0mSELECT * FROM "stories" [0m
Rendering template within layouts/application
Rendering stories/index

ActionView::TemplateError (undefined local variable or method `current_user' for #<ActionView::Base:0x2189028>) on line #14 of app/views/layouts/application.html.erb:
11:       <h1><a href="/">Pakistan Refugee Crisis</a></h1>
12:       <div id="user-navigation">
13:         <ul>
14:           <%- if current_user -%>
15:             <li><%= link_to "Edit Profile", edit_user_path(:current) %></li> 
16:             <li><%= link_to "Logout",   logout_path %></li> 
17:           <%- else -%>

    app/views/layouts/application.html.erb:14

Rendered rescues/_trace (204.6ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing StoriesController#index (for 127.0.0.1 at 2009-05-10 21:38:20) [GET]
  [4;36;1mStory Load (0.6ms)[0m   [0;1mSELECT * FROM "stories" [0m
Rendering template within layouts/application
Rendering stories/index
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 138ms (View: 100, DB: 2) | 200 OK [http://localhost/]


Processing UsersController#edit (for 127.0.0.1 at 2009-05-10 21:38:25) [GET]
  Parameters: {"id"=>"current"}

ActionController::UnknownAction (No action responded to edit. Actions: create and new):
  

Rendering rescues/layout (not_found)


Processing UserSessionsController#destroy (for 127.0.0.1 at 2009-05-10 23:14:03) [GET]
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Redirected to http://localhost:3000/user_sessions
Completed in 112ms (DB: 1) | 302 Found [http://localhost/logout]


Processing UserSessionsController#index (for 127.0.0.1 at 2009-05-10 23:14:03) [GET]

ActionController::UnknownAction (No action responded to index. Actions: create, destroy, and new):
  

Rendering rescues/layout (not_found)


Processing UserSessionsController#index (for 127.0.0.1 at 2009-05-11 08:40:09) [GET]

ActionController::UnknownAction (No action responded to index. Actions: create, destroy, and new):
  

Rendering rescues/layout (not_found)


Processing UserSessionsController#index (for 127.0.0.1 at 2009-05-11 08:40:15) [GET]

ActionController::UnknownAction (No action responded to index. Actions: create, destroy, and new):
  

Rendering rescues/layout (not_found)


Processing UserSessionsController#index (for 127.0.0.1 at 2009-05-11 08:43:21) [GET]

ActionController::UnknownAction (No action responded to index. Actions: create, destroy, and new):
  

Rendering rescues/layout (not_found)


Processing StoriesController#index (for 127.0.0.1 at 2009-05-11 08:43:27) [GET]
  [4;36;1mStory Load (1.4ms)[0m   [0;1mSELECT * FROM "stories" [0m
Rendering template within layouts/application
Rendering stories/index
Completed in 184ms (View: 129, DB: 1) | 200 OK [http://localhost/]


Processing UserSessionsController#new (for 127.0.0.1 at 2009-05-11 08:43:31) [GET]
Rendering template within layouts/application
Rendering user_sessions/new
Completed in 116ms (View: 37, DB: 0) | 200 OK [http://localhost/login]


Processing UserSessionsController#create (for 127.0.0.1 at 2009-05-11 08:43:37) [POST]
  Parameters: {"commit"=>"Submit", "user_session"=>{"username"=>"shoaib", "password"=>"abc123"}, "authenticity_token"=>"24coRX5DN5B7DmFbIFMj0LbOSlAukWjJ7LfVhI6YnXE="}
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE (LOWER("users".username) = 'shoaib') LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 144ms (DB: 1) | 302 Found [http://localhost/user_sessions]


Processing StoriesController#index (for 127.0.0.1 at 2009-05-11 08:43:37) [GET]
  [4;36;1mStory Load (0.6ms)[0m   [0;1mSELECT * FROM "stories" [0m
Rendering template within layouts/application
Rendering stories/index
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 144ms (View: 101, DB: 2) | 200 OK [http://localhost/]


Processing UsersController#edit (for 127.0.0.1 at 2009-05-11 08:43:39) [GET]
  Parameters: {"id"=>"current"}
  [4;36;1mUser Load (2.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit

ActionView::TemplateError (undefined method `login' for #<User:0x21c1b08>) on line #2 of app/views/users/_form.html.erb:
1: <%= form.label :login %><br />
2: <%= form.text_field :login %><br />
3: <br />
4: <%= form.label :password, form.object.new_record? ? nil : "Change password" %><br />
5: <%= form.password_field :password %><br />

    app/views/users/_form.html.erb:2
    app/views/users/edit.html.erb:5
    app/views/users/edit.html.erb:3

Rendered rescues/_trace (286.8ms)
Rendered rescues/_request_and_response (5.4ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#edit (for 127.0.0.1 at 2009-05-11 08:44:25) [GET]
  Parameters: {"id"=>"current"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
Rendered users/_form (6.3ms)
Completed in 158ms (View: 31, DB: 1) | 200 OK [http://localhost/users/current/edit]


Processing UsersController#show (for 127.0.0.1 at 2009-05-11 08:44:37) [GET]
  Parameters: {"id"=>"current"}

ActionController::UnknownAction (No action responded to show. Actions: create, edit, new, and update):
  

Rendering rescues/layout (not_found)


Processing UsersController#show (for 127.0.0.1 at 2009-05-11 08:44:51) [GET]
  Parameters: {"id"=>"current"}

ActionController::UnknownAction (No action responded to show. Actions: create, edit, new, and update):
  

Rendering rescues/layout (not_found)


Processing UsersController#show (for 127.0.0.1 at 2009-05-11 08:56:16) [GET]
  Parameters: {"id"=>"current"}

ActionController::UnknownAction (No action responded to show. Actions: create, edit, new, and update):
  

Rendering rescues/layout (not_found)


Processing UsersController#show (for 127.0.0.1 at 2009-05-11 08:57:23) [GET]
  Parameters: {"id"=>"current"}

ActionController::UnknownAction (No action responded to show. Actions: create, edit, new, and update):
  

Rendering rescues/layout (not_found)


Processing UsersController#show (for 127.0.0.1 at 2009-05-11 08:57:40) [GET]
  Parameters: {"id"=>"current"}

ActionController::UnknownAction (No action responded to show. Actions: create, edit, new, and update):
  

Rendering rescues/layout (not_found)


Processing UsersController#show (for 127.0.0.1 at 2009-05-11 09:07:04) [GET]
  Parameters: {"id"=>"current"}
  [4;36;1mUser Load (1.9ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/show
Completed in 291ms (View: 32, DB: 2) | 200 OK [http://localhost/users/current]


Processing UsersController#edit (for 127.0.0.1 at 2009-05-11 09:07:15) [GET]
  Parameters: {"id"=>"current"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
Rendered users/_form (3.4ms)
Completed in 140ms (View: 21, DB: 1) | 200 OK [http://localhost/users/current/edit]


Processing UsersController#update (for 127.0.0.1 at 2009-05-11 09:07:29) [PUT]
  Parameters: {"user"=>{"password_confirmation"=>"", "username"=>"Shoaib", "password"=>"abc123"}, "commit"=>"Update", "authenticity_token"=>"24coRX5DN5B7DmFbIFMj0LbOSlAukWjJ7LfVhI6YnXE=", "id"=>"current"}
  [4;36;1mUser Load (2.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."username") = 'shoaib' AND "users".id <> 1) LIMIT 1[0m
  [4;36;1mUser Exists (0.6ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = '75efb4c9f4cac2e3efcd5297ed513cafdf08e41d0ef8e5392e143cdcc95c9df1db3d6fdeb26eb7fbc22dc7509e18916198d39c3f6f96be335a02c11542518785' AND "users".id <> 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
Rendered users/_form (4.0ms)
Completed in 633ms (View: 30, DB: 3) | 200 OK [http://localhost/users/current]


Processing UsersController#update (for 127.0.0.1 at 2009-05-11 09:07:39) [PUT]
  Parameters: {"user"=>{"password_confirmation"=>"abc123", "username"=>"Shoaib", "password"=>"abc123"}, "commit"=>"Update", "authenticity_token"=>"24coRX5DN5B7DmFbIFMj0LbOSlAukWjJ7LfVhI6YnXE=", "id"=>"current"}
  [4;35;1mUser Load (1.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Exists (0.6ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."username") = 'shoaib' AND "users".id <> 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = '35fe1f5ec83dda3a71ce82237bd6d8992213f46de89d6f219e3daa89f286d6831aec28acafb81d32bc744278355b2730bdf6e056412c542e9ce180a83ccdf1b5' AND "users".id <> 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Update (0.7ms)[0m   [0mUPDATE "users" SET "persistence_token" = '35fe1f5ec83dda3a71ce82237bd6d8992213f46de89d6f219e3daa89f286d6831aec28acafb81d32bc744278355b2730bdf6e056412c542e9ce180a83ccdf1b5', "username" = 'Shoaib', "crypted_password" = 'cbe0ca98fb41836ad996e31d6876f8e766f502cad131e1168672482398fb04730b68aee8b88c814aa660675f38eadbefb88b4a80ec8df6ccb1faf3303c0c08e7', "updated_at" = '2009-05-10 23:07:39', "password_salt" = '4RSXOUOJo_1vJg89eIyE' WHERE "id" = 1[0m
Redirected to http://localhost:3000/
Completed in 150ms (DB: 3) | 302 Found [http://localhost/users/current]


Processing StoriesController#index (for 127.0.0.1 at 2009-05-11 09:07:40) [GET]
  [4;36;1mStory Load (0.7ms)[0m   [0;1mSELECT * FROM "stories" [0m
Rendering template within layouts/application
Rendering stories/index
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 152ms (View: 99, DB: 2) | 200 OK [http://localhost/]


Processing UsersController#edit (for 127.0.0.1 at 2009-05-11 09:07:48) [GET]
  Parameters: {"id"=>"current"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
Rendered users/_form (4.1ms)
Completed in 131ms (View: 22, DB: 1) | 200 OK [http://localhost/users/current/edit]


Processing UserSessionsController#destroy (for 127.0.0.1 at 2009-05-11 09:07:53) [GET]
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Redirected to http://localhost:3000/user_sessions
Completed in 102ms (DB: 1) | 302 Found [http://localhost/logout]


Processing UserSessionsController#index (for 127.0.0.1 at 2009-05-11 09:07:53) [GET]

ActionController::UnknownAction (No action responded to index. Actions: create, destroy, and new):
  

Rendering rescues/layout (not_found)


Processing UserSessionsController#index (for 127.0.0.1 at 2009-05-11 09:08:31) [GET]

ActionController::UnknownAction (No action responded to index. Actions: create, destroy, and new):
  

Rendering rescues/layout (not_found)


Processing UserSessionsController#destroy (for 127.0.0.1 at 2009-05-11 09:08:38) [GET]

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of ActiveRecord::Base.
The error occurred while evaluating nil.destroy):
  app/controllers/user_sessions_controller.rb:18:in `destroy'

Rendered rescues/_trace (158.0ms)
Rendered rescues/_request_and_response (1.3ms)
Rendering rescues/layout (internal_server_error)


Processing StoriesController#index (for 127.0.0.1 at 2009-05-11 09:08:44) [GET]
  [4;36;1mStory Load (0.8ms)[0m   [0;1mSELECT * FROM "stories" [0m
Rendering template within layouts/application
Rendering stories/index
Completed in 314ms (View: 277, DB: 1) | 200 OK [http://localhost/]


Processing StoriesController#index (for 127.0.0.1 at 2009-05-11 09:09:46) [GET]
  [4;35;1mStory Load (0.7ms)[0m   [0mSELECT * FROM "stories" [0m
Rendering template within layouts/application
Rendering stories/index
Completed in 120ms (View: 85, DB: 1) | 200 OK [http://localhost/]
  [4;36;1mSQL (2.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.7ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "persistence_token" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.5ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (3.6ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (3.6ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090509095110')[0m
  [4;35;1mSQL (3.2ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090509030350')[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.4ms)[0m   [0;1mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.5ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "persistence_token" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.4ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (3.2ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (3.6ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090509095110')[0m
  [4;35;1mSQL (3.3ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090509030350')[0m
  [4;36;1mSQL (2.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.6ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.6ms)[0m   [0;1mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.4ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "persistence_token" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (2.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.1ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (3.2ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (3.5ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090509095110')[0m
  [4;35;1mSQL (3.4ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090509030350')[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.9ms)[0m   [0;1mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.6ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "persistence_token" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.9ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (3.5ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090509095110')[0m
  [4;35;1mSQL (3.0ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090509030350')[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.8ms)[0m   [0;1mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "persistence_token" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.7ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (3.5ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (2.5ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090509095110')[0m
  [4;35;1mSQL (2.6ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090509030350')[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (7.5ms)[0m   [0;1mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "persistence_token" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.4ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (3.3ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (3.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090509095110')[0m
  [4;35;1mSQL (3.2ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090509030350')[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.9ms)[0m   [0;1mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.9ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "persistence_token" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.7ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (3.8ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (3.5ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090509095110')[0m
  [4;35;1mSQL (2.6ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090509030350')[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (16.3ms)[0m   [0;1mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.1ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "persistence_token" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.5ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (2.6ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (2.6ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090509095110')[0m
  [4;35;1mSQL (2.3ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090509030350')[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.9ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.9ms)[0m   [0;1mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.5ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "persistence_token" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.6ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (3.6ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (3.5ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090509095110')[0m
  [4;35;1mSQL (3.2ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090509030350')[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.8ms)[0m   [0;1mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.1ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "persistence_token" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (4.2ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (3.8ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (4.4ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090509095110')[0m
  [4;35;1mSQL (3.2ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090509030350')[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.3ms)[0m   [0;1mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.1ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "persistence_token" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.4ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (3.7ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (3.5ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090509095110')[0m
  [4;35;1mSQL (3.1ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090509030350')[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.1ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "persistence_token" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (4.1ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (3.8ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (3.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090509095110')[0m
  [4;35;1mSQL (4.0ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090509030350')[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (4.1ms)[0m   [0;1mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.7ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "persistence_token" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (4.8ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (4.3ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.4ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (3.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090509095110')[0m
  [4;35;1mSQL (3.7ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090509030350')[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.3ms)[0m   [0;1mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.4ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "persistence_token" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.5ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (3.4ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (3.6ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090509095110')[0m
  [4;35;1mSQL (2.9ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090509030350')[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.4ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "persistence_token" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.5ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (3.5ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (3.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090509095110')[0m
  [4;35;1mSQL (3.2ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090509030350')[0m
  [4;36;1mSQL (2.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.9ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.9ms)[0m   [0;1mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "persistence_token" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (2.0ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090509095110')[0m
  [4;35;1mSQL (2.8ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090509030350')[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.2ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "persistence_token" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.5ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (3.5ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (3.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090509095110')[0m
  [4;35;1mSQL (3.3ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090509030350')[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateStories (20090509095110)
  [4;36;1mSQL (0.4ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (7.7ms)[0m   [0mDROP TABLE "stories"[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090509095110'[0m
Migrating to CreateUsers (20090509030350)
  [4;35;1mSQL (1.0ms)[0m   [0mDROP TABLE "users"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090509030350'[0m
  [4;35;1mSQL (1.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20090509030350)
  [4;36;1mSQL (0.8ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "persistence_token" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090509030350')[0m
Migrating to CreateStories (20090509095110)
  [4;35;1mSQL (1.1ms)[0m   [0mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090509095110')[0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mPRAGMA index_list("stories")[0m
  [4;35;1mSQL (0.4ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.1ms)[0m   [0;1mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.4ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "persistence_token" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.5ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (3.7ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (3.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090509095110')[0m
  [4;35;1mSQL (3.2ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090509030350')[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.1ms)[0m   [0;1mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.9ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "persistence_token" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.1ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (3.6ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (3.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090509095110')[0m
  [4;35;1mSQL (2.9ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090509030350')[0m
  [4;36;1mSQL (2.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.5ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "persistence_token" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.4ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (3.3ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (3.1ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090509095110')[0m
  [4;35;1mSQL (2.1ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090509030350')[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.9ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.5ms)[0m   [0;1mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.5ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "persistence_token" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.4ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (3.7ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090509095110')[0m
  [4;35;1mSQL (3.0ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090509030350')[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.3ms)[0m   [0;1mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.4ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "persistence_token" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.8ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (2.9ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.1ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (3.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090509095110')[0m
  [4;35;1mSQL (3.1ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090509030350')[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.9ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.7ms)[0m   [0;1mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.9ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "persistence_token" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.7ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (3.8ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (3.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090509095110')[0m
  [4;35;1mSQL (2.9ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090509030350')[0m


Processing StoriesController#index (for 127.0.0.1 at 2009-05-13 23:26:53) [GET]
  [4;36;1mStory Load (0.9ms)[0m   [0;1mSELECT * FROM "stories" [0m
Rendering template within layouts/application
Rendering stories/index
Completed in 181ms (View: 121, DB: 1) | 200 OK [http://localhost/]


Processing StoriesController#new (for 127.0.0.1 at 2009-05-13 23:26:59) [GET]
Rendering template within layouts/application
Rendering stories/new
Rendered stories/_form (18.6ms)
Completed in 158ms (View: 113, DB: 0) | 200 OK [http://localhost/stories/new]


Processing StoriesController#new (for 127.0.0.1 at 2009-05-13 23:27:29) [GET]

NoMethodError (undefined method `request_url' for #<ActionController::Request:0x217ce18>):
  app/controllers/application_controller.rb:44:in `store_location'
  app/controllers/application_controller.rb:27:in `require_user'

Rendered rescues/_trace (166.9ms)
Rendered rescues/_request_and_response (36.7ms)
Rendering rescues/layout (internal_server_error)


Processing StoriesController#new (for 127.0.0.1 at 2009-05-13 23:29:09) [GET]
Redirected to http://localhost:3000/user_sessions/new
Filter chain halted as [:require_user] rendered_or_redirected.
Completed in 72ms (DB: 0) | 302 Found [http://localhost/stories/new]


Processing UserSessionsController#new (for 127.0.0.1 at 2009-05-13 23:29:09) [GET]
Rendering template within layouts/application
Rendering user_sessions/new
Completed in 121ms (View: 26, DB: 0) | 200 OK [http://localhost/user_sessions/new]


Processing UserSessionsController#create (for 127.0.0.1 at 2009-05-13 23:29:21) [POST]
  Parameters: {"commit"=>"Submit", "user_session"=>{"username"=>"sabman", "password"=>"abc123"}, "authenticity_token"=>"0OxSTFtGiVSZiSMkiDMbmgym6R63wZFRU6Dj6izEqWY="}
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM "users" WHERE (LOWER("users".username) = 'sabman') LIMIT 1[0m
Rendering template within layouts/application
Rendering user_sessions/new
Completed in 273ms (View: 24, DB: 1) | 200 OK [http://localhost/user_sessions]


Processing UserSessionsController#create (for 127.0.0.1 at 2009-05-13 23:29:28) [POST]
  Parameters: {"commit"=>"Submit", "user_session"=>{"username"=>"shoaib", "password"=>"abc123"}, "authenticity_token"=>"0OxSTFtGiVSZiSMkiDMbmgym6R63wZFRU6Dj6izEqWY="}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE (LOWER("users".username) = 'shoaib') LIMIT 1[0m
Rendering template within layouts/application
Rendering user_sessions/new
Completed in 115ms (View: 15, DB: 0) | 200 OK [http://localhost/user_sessions]


Processing UsersController#new (for 127.0.0.1 at 2009-05-13 23:29:35) [GET]
Rendering template within layouts/application
Rendering users/new
Completed in 126ms (View: 34, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-05-13 23:29:50) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"abc123", "username"=>"sabman", "password"=>"abc123", "email"=>"saburq@gmail.com"}, "commit"=>"Sign up", "authenticity_token"=>"0OxSTFtGiVSZiSMkiDMbmgym6R63wZFRU6Dj6izEqWY="}
  [4;35;1mUser Exists (0.5ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'saburq@gmail.com') LIMIT 1[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."username") = 'sabman') LIMIT 1[0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = '229ebbaaa1a9a9ce7c55280730c89d4a879300e0ba34a92c4b556b1e73808a90dbb11fb39c94041d541115d255530e56f6f975a4914744d52d908af5a2fbbe1a') LIMIT 1[0m
  [4;36;1mUser Create (0.8ms)[0m   [0;1mINSERT INTO "users" ("updated_at", "crypted_password", "username", "password_salt", "persistence_token", "email", "created_at") VALUES('2009-05-13 13:29:50', 'a651bb4e35cbce622105aebbcbf1e2c0f590afcc546aba611bf83d8683769dfd37a6bcd8288a1405c5c225ddf91785de130cd8887125a8e0a0905403a71be024', 'sabman', 'ag_KxUGa48c-q9RhLP2R', '229ebbaaa1a9a9ce7c55280730c89d4a879300e0ba34a92c4b556b1e73808a90dbb11fb39c94041d541115d255530e56f6f975a4914744d52d908af5a2fbbe1a', 'saburq@gmail.com', '2009-05-13 13:29:50')[0m
Redirected to http://localhost:3000/
Completed in 610ms (DB: 2) | 302 Found [http://localhost/users]


Processing StoriesController#index (for 127.0.0.1 at 2009-05-13 23:29:51) [GET]
  [4;35;1mStory Load (1.3ms)[0m   [0mSELECT * FROM "stories" [0m
Rendering template within layouts/application
Rendering stories/index
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '229ebbaaa1a9a9ce7c55280730c89d4a879300e0ba34a92c4b556b1e73808a90dbb11fb39c94041d541115d255530e56f6f975a4914744d52d908af5a2fbbe1a') LIMIT 1[0m
Completed in 173ms (View: 121, DB: 3) | 200 OK [http://localhost/]


Processing StoriesController#new (for 127.0.0.1 at 2009-05-13 23:29:54) [GET]
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '229ebbaaa1a9a9ce7c55280730c89d4a879300e0ba34a92c4b556b1e73808a90dbb11fb39c94041d541115d255530e56f6f975a4914744d52d908af5a2fbbe1a') LIMIT 1[0m
Rendering template within layouts/application
Rendering stories/new
Rendered stories/_form (18.1ms)
Completed in 147ms (View: 27, DB: 1) | 200 OK [http://localhost/stories/new]


Processing StoriesController#index (for 127.0.0.1 at 2009-05-14 08:20:00) [GET]
  [4;36;1mStory Load (0.8ms)[0m   [0;1mSELECT * FROM "stories" [0m
Rendering template within layouts/application
Rendering stories/index
Completed in 1588ms (View: 1538, DB: 1) | 200 OK [http://localhost/]


Processing StoriesController#new (for 127.0.0.1 at 2009-05-14 08:20:08) [GET]
Redirected to http://localhost:3000/user_sessions/new
Filter chain halted as [:require_user] rendered_or_redirected.
Completed in 88ms (DB: 0) | 302 Found [http://localhost/stories/new]


Processing UserSessionsController#new (for 127.0.0.1 at 2009-05-14 08:20:08) [GET]
Rendering template within layouts/application
Rendering user_sessions/new
Completed in 97ms (View: 15, DB: 0) | 200 OK [http://localhost/user_sessions/new]


Processing UserSessionsController#create (for 127.0.0.1 at 2009-05-14 08:20:33) [POST]
  Parameters: {"commit"=>"Submit", "user_session"=>{"username"=>"sabman", "password"=>"abc123"}, "authenticity_token"=>"y4Xmh95xPTUJMmpqL9Kw09WNmKVKrDY0ZT+MooCi5+k="}
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE (LOWER("users".username) = 'sabman') LIMIT 1[0m
Redirected to http://localhost:3000/stories/new
Completed in 99ms (DB: 1) | 302 Found [http://localhost/user_sessions]


Processing StoriesController#new (for 127.0.0.1 at 2009-05-14 08:20:34) [GET]
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendering template within layouts/application
Rendering stories/new
Rendered stories/_form (11.3ms)
Completed in 154ms (View: 18, DB: 1) | 200 OK [http://localhost/stories/new]


Processing UsersController#edit (for 127.0.0.1 at 2009-05-14 08:20:41) [GET]
  Parameters: {"id"=>"current"}
  [4;35;1mUser Load (2.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
Rendered users/_form (555.1ms)
Completed in 1332ms (View: 1237, DB: 2) | 200 OK [http://localhost/users/current/edit]


Processing UsersController#show (for 127.0.0.1 at 2009-05-14 08:20:46) [GET]
  Parameters: {"id"=>"current"}
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/show
Completed in 385ms (View: 295, DB: 1) | 200 OK [http://localhost/users/current]
  [4;36;1mSQL (2.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20090509030350)
Migrating to CreateStories (20090509095110)
Migrating to ActsAsCommentableWithThreadingMigration (20090514112706)
  [4;36;1mSQL (0.8ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20090509030350)
Migrating to CreateStories (20090509095110)
Migrating to ActsAsCommentableWithThreadingMigration (20090514113916)
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mCREATE TABLE "comments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "commentable_id" integer DEFAULT 0, "commentable_type" varchar(15) DEFAULT '', "title" varchar(255) DEFAULT '', "body" text DEFAULT '', "subject" varchar(255) DEFAULT '', "user_id" integer DEFAULT 0 NOT NULL, "parent_id" integer, "lft" integer, "rgt" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mCREATE INDEX "index_comments_on_user_id" ON "comments" ("user_id")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE INDEX "index_comments_on_commentable_id" ON "comments" ("commentable_id")[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090514113916')[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.9ms)[0m   [0mPRAGMA index_list("comments")[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mPRAGMA index_info('index_comments_on_commentable_id')[0m
  [4;35;1mSQL (0.5ms)[0m   [0mPRAGMA index_info('index_comments_on_user_id')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mPRAGMA index_list("stories")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (29.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (30.1ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (2.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.5ms)[0m   [0;1mCREATE TABLE "comments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "commentable_id" integer DEFAULT 0, "commentable_type" varchar(15) DEFAULT '', "title" varchar(255) DEFAULT '', "body" text DEFAULT '', "subject" varchar(255) DEFAULT '', "user_id" integer DEFAULT 0 NOT NULL, "parent_id" integer, "lft" integer, "rgt" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (3.6ms)[0m   [0mCREATE INDEX "index_comments_on_commentable_id" ON "comments" ("commentable_id")[0m
  [4;36;1mSQL (3.8ms)[0m   [0;1mCREATE INDEX "index_comments_on_user_id" ON "comments" ("user_id")[0m
  [4;35;1mSQL (3.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.8ms)[0m   [0;1mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.9ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "persistence_token" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (4.8ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (3.9ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (4.1ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090514113916')[0m
  [4;35;1mSQL (3.5ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090509030350')[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090509095110')[0m
  [4;36;1mSQL (40.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (4.3ms)[0m   [0;1mCREATE TABLE "comments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "commentable_id" integer DEFAULT 0, "commentable_type" varchar(15) DEFAULT '', "title" varchar(255) DEFAULT '', "body" text DEFAULT '', "subject" varchar(255) DEFAULT '', "user_id" integer DEFAULT 0 NOT NULL, "parent_id" integer, "lft" integer, "rgt" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (4.0ms)[0m   [0mCREATE INDEX "index_comments_on_commentable_id" ON "comments" ("commentable_id")[0m
  [4;36;1mSQL (4.9ms)[0m   [0;1mCREATE INDEX "index_comments_on_user_id" ON "comments" ("user_id")[0m
  [4;35;1mSQL (1.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.5ms)[0m   [0;1mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.3ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "persistence_token" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (5.1ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (5.2ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (9.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (4.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090514113916')[0m
  [4;35;1mSQL (4.1ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090509030350')[0m
  [4;36;1mSQL (3.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090509095110')[0m
  [4;36;1mSQL (26.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.8ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.6ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to ActsAsCommentableWithThreadingMigration (20090514113916)
  [4;36;1mSQL (0.6ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.5ms)[0m   [0mDROP TABLE "comments"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090514113916'[0m
Migrating to CreateStories (20090509095110)
  [4;35;1mSQL (0.9ms)[0m   [0mDROP TABLE "stories"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090509095110'[0m
Migrating to CreateUsers (20090509030350)
  [4;35;1mSQL (0.8ms)[0m   [0mDROP TABLE "users"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090509030350'[0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20090509030350)
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "persistence_token" varchar(255), "admin" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090509030350')[0m
Migrating to CreateStories (20090509095110)
  [4;35;1mSQL (1.0ms)[0m   [0mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090509095110')[0m
Migrating to ActsAsCommentableWithThreadingMigration (20090514113916)
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCREATE TABLE "comments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "commentable_id" integer DEFAULT 0, "commentable_type" varchar(15) DEFAULT '', "title" varchar(255) DEFAULT '', "body" text DEFAULT '', "subject" varchar(255) DEFAULT '', "user_id" integer DEFAULT 0 NOT NULL, "parent_id" integer, "lft" integer, "rgt" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE INDEX "index_comments_on_user_id" ON "comments" ("user_id")[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCREATE INDEX "index_comments_on_commentable_id" ON "comments" ("commentable_id")[0m
  [4;35;1mSQL (0.6ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090514113916')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.2ms)[0m   [0mPRAGMA index_list("comments")[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mPRAGMA index_info('index_comments_on_commentable_id')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mPRAGMA index_info('index_comments_on_user_id')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mPRAGMA index_list("stories")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (2.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.1ms)[0m   [0;1mCREATE TABLE "comments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "commentable_id" integer DEFAULT 0, "commentable_type" varchar(15) DEFAULT '', "title" varchar(255) DEFAULT '', "body" text DEFAULT '', "subject" varchar(255) DEFAULT '', "user_id" integer DEFAULT 0 NOT NULL, "parent_id" integer, "lft" integer, "rgt" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (3.0ms)[0m   [0mCREATE INDEX "index_comments_on_commentable_id" ON "comments" ("commentable_id")[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mCREATE INDEX "index_comments_on_user_id" ON "comments" ("user_id")[0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.9ms)[0m   [0;1mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.3ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "persistence_token" varchar(255), "admin" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.6ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (3.4ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (3.5ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090514113916')[0m
  [4;35;1mSQL (3.4ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090509030350')[0m
  [4;36;1mSQL (3.1ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090509095110')[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (3.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.9ms)[0m   [0;1mCREATE TABLE "comments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "commentable_id" integer DEFAULT 0, "commentable_type" varchar(15) DEFAULT '', "title" varchar(255) DEFAULT '', "body" text DEFAULT '', "subject" varchar(255) DEFAULT '', "user_id" integer DEFAULT 0 NOT NULL, "parent_id" integer, "lft" integer, "rgt" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (2.4ms)[0m   [0mCREATE INDEX "index_comments_on_commentable_id" ON "comments" ("commentable_id")[0m
  [4;36;1mSQL (2.5ms)[0m   [0;1mCREATE INDEX "index_comments_on_user_id" ON "comments" ("user_id")[0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.5ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "persistence_token" varchar(255), "admin" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.7ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (3.8ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (13.4ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090514113916')[0m
  [4;35;1mSQL (2.3ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090509030350')[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090509095110')[0m
  [4;36;1mSQL (3.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (2.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (4.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mCREATE TABLE "comments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "commentable_id" integer DEFAULT 0, "commentable_type" varchar(15) DEFAULT '', "title" varchar(255) DEFAULT '', "body" text DEFAULT '', "subject" varchar(255) DEFAULT '', "user_id" integer DEFAULT 0 NOT NULL, "parent_id" integer, "lft" integer, "rgt" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (3.0ms)[0m   [0mCREATE INDEX "index_comments_on_commentable_id" ON "comments" ("commentable_id")[0m
  [4;36;1mSQL (4.4ms)[0m   [0;1mCREATE INDEX "index_comments_on_user_id" ON "comments" ("user_id")[0m
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.6ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "persistence_token" varchar(255), "admin" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (2.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (4.6ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (4.3ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (4.3ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090514113916')[0m
  [4;35;1mSQL (3.6ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20090509030350')[0m
  [4;36;1mSQL (8.1ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20090509095110')[0m


Processing StoriesController#index (for 127.0.0.1 at 2009-05-15 22:53:02) [GET]
  [4;36;1mStory Load (0.9ms)[0m   [0;1mSELECT * FROM "stories" [0m
Rendering stories/index
Completed in 80ms (View: 32, DB: 1) | 200 OK [http://localhost/]


Processing StoriesController#index (for 127.0.0.1 at 2009-05-15 22:53:08) [GET]
  [4;35;1mStory Load (1.0ms)[0m   [0mSELECT * FROM "stories" [0m
Rendering stories/index
Completed in 46ms (View: 4, DB: 1) | 200 OK [http://localhost/]


Processing StoriesController#index (for 127.0.0.1 at 2009-05-15 22:53:29) [GET]
  [4;36;1mStory Load (1.0ms)[0m   [0;1mSELECT * FROM "stories" [0m
Rendering stories/index
Completed in 60ms (View: 14, DB: 1) | 200 OK [http://localhost/]


Processing StoriesController#index (for 127.0.0.1 at 2009-05-15 22:53:31) [GET]
  [4;35;1mStory Load (1.1ms)[0m   [0mSELECT * FROM "stories" [0m
Rendering stories/index
Completed in 49ms (View: 4, DB: 1) | 200 OK [http://localhost/]


Processing StoriesController#index (for 127.0.0.1 at 2009-05-15 22:54:37) [GET]
  [4;36;1mStory Load (1.3ms)[0m   [0;1mSELECT * FROM "stories" [0m
Rendering template within layouts/application
Rendering stories/index

ActionView::TemplateError (You don't need to use "- end" in Haml. Use indentation instead:
- if foo?
  %strong Foo!
- else
  Not foo.) on line #15 of app/views/layouts/application.html.haml:
12:         #main
13:           - flash.each do |name, msg|
14:           = content_tag :div, msg, :id => "flash_#{name}"
15:           - end
16:           = yield
17:           #footer
18:             .block

    app/views/layouts/application.html.haml:15
    haml (2.0.9) lib/haml/precompiler.rb:206:in `process_line'
    haml (2.0.9) lib/haml/precompiler.rb:156:in `precompile'
    haml (2.0.9) lib/haml/precompiler.rb:122:in `each'
    haml (2.0.9) lib/haml/precompiler.rb:122:in `each_with_index'
    haml (2.0.9) lib/haml/precompiler.rb:122:in `precompile'
    haml (2.0.9) lib/haml/engine.rb:100:in `initialize'
    haml (2.0.9) lib/haml/template/plugin.rb:21:in `new'
    haml (2.0.9) lib/haml/template/plugin.rb:21:in `compile'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (239.8ms)
Rendered rescues/_request_and_response (38.8ms)
Rendering rescues/layout (internal_server_error)


Processing StoriesController#index (for 127.0.0.1 at 2009-05-15 22:55:29) [GET]
  [4;35;1mStory Load (1.0ms)[0m   [0mSELECT * FROM "stories" [0m
Rendering template within layouts/application
Rendering stories/index

ActionView::TemplateError (Missing template stories/_header.erb in view path app/views) on line #10 of app/views/layouts/application.html.haml:
7:     = stylesheet_link_tag 'web_app_theme', "themes/kathleene/style"
8:   %body
9:     #container
10:       = render :partial => 'header'
11:       #wrapper
12:         #main
13:           - flash.each do |name, msg|

    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:12:in `render'
    haml (2.0.9) lib/haml/helpers.rb:57:in `non_haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:12:in `render'
    app/views/layouts/application.html.haml:10:in `_run_haml_app47views47layouts47application46html46haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (211.6ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing StoriesController#index (for 127.0.0.1 at 2009-05-15 22:56:02) [GET]
  [4;36;1mStory Load (1.0ms)[0m   [0;1mSELECT * FROM "stories" [0m
Rendering template within layouts/application
Rendering stories/index
ERROR: compiling _run_haml_app47views47layouts47_header46html46haml_locals_header_object RAISED compile error
/Users/sabman/Rails/projects/pakistan-map/pakistanmap/app/views/layouts/_header.html.haml:8: syntax error, unexpected tIDENTIFIER, expecting kEND
_hamlout.push_text("<div id='header'>\n  <h1>\n    <a href='/'>\n      Pakistan Refugee Crisis\n    </a>\n  </h1>\n  <div id='user-navigation'>\n    <ul>\n      <li>\n        ", false, 4);haml_temp =  link_to "Start a Story" start_story_path;
                                                                                                                                                                                                                                                 ^
Function body:           def _run_haml_app47views47layouts47_header46html46haml_locals_header_object(local_assigns)
            old_output_buffer = output_buffer;header = local_assigns[:header];object = local_assigns[:object];;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:format=>:xhtml, :attr_wrapper=>"'", :preserve=>["textarea", "pre"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :ugly=>false});_erbout = _hamlout.buffer;__in_erb_template = true;;






_hamlout.push_text("<div id='header'>\n  <h1>\n    <a href='/'>\n      Pakistan Refugee Crisis\n    </a>\n  </h1>\n  <div id='user-navigation'>\n    <ul>\n      <li>\n        ", false, 4);haml_temp =  link_to "Start a Story" start_story_path;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);_hamlout.push_text("      </li>\n", false, -1); if current_user;

_hamlout.push_text("      <li>\n        ", false, 1);haml_temp =  link_to "Edit Profile", edit_user_path(:current);
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
_hamlout.push_text("      </li>\n      <li>\n        ");haml_temp =  link_to "Logout",   logout_path;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);_hamlout.push_text("      </li>\n", false, -1); else;

_hamlout.push_text("      <li>\n        ", false, 1);haml_temp =  link_to "Register", new_user_path;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
_hamlout.push_text("      </li>\n      <li>\n        ");haml_temp =  link_to "Login",    login_path;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);_hamlout.push_text("      </li>\n", false, -1);end;




_hamlout.push_text("    </ul>\n    <div class='clear'></div>\n  </div>\n  <div id='main-navigation'>\n    <ul></ul>\n    <div class='clear'></div>\n  </div>\n</div>\n", false, -3);@haml_buffer = @haml_buffer.upper;_erbout;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/sabman/Rails/projects/pakistan-map/pakistanmap/app/views/layouts/_header.html.haml:27:in `compile!'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:61:in `compile'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:28:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable_partial.rb:20:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:26:in `benchmark'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:26:in `benchmark'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable_partial.rb:19:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/template.rb:194:in `render_template'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable_partial.rb:44:in `render_partial'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/partials.rb:184:in `render_partial'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:262:in `render_without_haml'
/usr/local/lib/ruby/gems/1.8/gems/haml-2.0.9/lib/haml/helpers/action_view_mods.rb:12:in `render'
/usr/local/lib/ruby/gems/1.8/gems/haml-2.0.9/lib/haml/helpers.rb:57:in `non_haml'
/usr/local/lib/ruby/gems/1.8/gems/haml-2.0.9/lib/haml/helpers/action_view_mods.rb:12:in `render'
/Users/sabman/Rails/projects/pakistan-map/pakistanmap/app/views/layouts/application.html.haml:10:in `_run_haml_app47views47layouts47application46html46haml'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:34:in `send'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:34:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:301:in `with_template'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:30:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/template.rb:194:in `render_template'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:260:in `render_without_haml'
/usr/local/lib/ruby/gems/1.8/gems/haml-2.0.9/lib/haml/helpers/action_view_mods.rb:14:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:347:in `_render_with_layout'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:257:in `render_without_haml'
/usr/local/lib/ruby/gems/1.8/gems/haml-2.0.9/lib/haml/helpers/action_view_mods.rb:14:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1241:in `render_for_file'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:937:in `render_without_benchmark'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1317:in `default_render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1323:in `perform_action_without_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:617:in `call_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/flash.rb:141:in `perform_action'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `send'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `process_without_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:606:in `sass_old_process'
/usr/local/lib/ruby/gems/1.8/gems/haml-2.0.9/lib/sass/plugin/rails.rb:19:in `process'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:391:in `process'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:386:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/routing/route_set.rb:433:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:88:in `dispatch'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:111:in `_call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:82:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:9:in `cache'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:28:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/head.rb:9:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/methodoverride.rb:24:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/params_parser.rb:15:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rewindable_input.rb:25:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/session/cookie_store.rb:93:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/reloader.rb:9:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/failsafe.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `synchronize'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:106:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/cgi_process.rb:44:in `dispatch_cgi'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:102:in `dispatch_cgi'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:28:in `dispatch'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:76:in `process'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `synchronize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `process'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:159:in `process_client'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:158:in `each'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:158:in `process_client'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:285:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:285:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:285:in `new'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:285:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:268:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:268:in `new'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:268:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/configurator.rb:282:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/configurator.rb:281:in `each'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/configurator.rb:281:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/command.rb:212:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
/usr/local/bin/mongrel_rails:19:in `load'
/usr/local/bin/mongrel_rails:19

ActionView::TemplateError (compile error
/Users/sabman/Rails/projects/pakistan-map/pakistanmap/app/views/layouts/_header.html.haml:8: syntax error, unexpected tIDENTIFIER, expecting kEND
_hamlout.push_text("<div id='header'>\n  <h1>\n    <a href='/'>\n      Pakistan Refugee Crisis\n    </a>\n  </h1>\n  <div id='user-navigation'>\n    <ul>\n      <li>\n        ", false, 4);haml_temp =  link_to "Start a Story" start_story_path;
                                                                                                                                                                                                                                                 ^) on line #8 of app/views/layouts/_header.html.haml:
5:   #user-navigation
6:     %ul
7:       %li
8:         = link_to "Start a Story" start_story_path
9:       - if current_user
10:         %li
11:           = link_to "Edit Profile", edit_user_path(:current)

    app/views/layouts/_header.html.haml:27:in `compile!'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:12:in `render'
    haml (2.0.9) lib/haml/helpers.rb:57:in `non_haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:12:in `render'
    app/views/layouts/application.html.haml:10:in `_run_haml_app47views47layouts47application46html46haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (229.8ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (internal_server_error)


Processing StoriesController#index (for 127.0.0.1 at 2009-05-15 22:57:20) [GET]
  [4;35;1mStory Load (0.9ms)[0m   [0mSELECT * FROM "stories" [0m
Rendering template within layouts/application
Rendering stories/index
ERROR: compiling _run_haml_app47views47layouts47_header46html46haml_locals_header_object RAISED compile error
/Users/sabman/Rails/projects/pakistan-map/pakistanmap/app/views/layouts/_header.html.haml:8: syntax error, unexpected tIDENTIFIER, expecting kEND
_hamlout.push_text("<div id='header'>\n  <h1>\n    <a href='/'>\n      Pakistan Refugee Crisis\n    </a>\n  </h1>\n  <div id='user-navigation'>\n    <ul>\n      <li>\n        ", false, 4);haml_temp =  link_to "Start a Story" start_story_path;
                                                                                                                                                                                                                                                 ^
/Users/sabman/Rails/projects/pakistan-map/pakistanmap/app/views/layouts/_header.html.haml:25: syntax error, unexpected kENSURE, expecting kEND
/Users/sabman/Rails/projects/pakistan-map/pakistanmap/app/views/layouts/_header.html.haml:27: syntax error, unexpected $end, expecting kEND
Function body:           def _run_haml_app47views47layouts47_header46html46haml_locals_header_object(local_assigns)
            old_output_buffer = output_buffer;header = local_assigns[:header];object = local_assigns[:object];;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:format=>:xhtml, :attr_wrapper=>"'", :preserve=>["textarea", "pre"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :ugly=>false});_erbout = _hamlout.buffer;__in_erb_template = true;;






_hamlout.push_text("<div id='header'>\n  <h1>\n    <a href='/'>\n      Pakistan Refugee Crisis\n    </a>\n  </h1>\n  <div id='user-navigation'>\n    <ul>\n      <li>\n        ", false, 4);haml_temp =  link_to "Start a Story" start_story_path;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);_hamlout.push_text("      </li>\n", false, -1); if current_user;

_hamlout.push_text("      <li>\n        ", false, 1);haml_temp =  link_to "Edit Profile", edit_user_path(:current);
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
_hamlout.push_text("      </li>\n      <li>\n        ");haml_temp =  link_to "Logout",   logout_path;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false); else;

_hamlout.push_text("      </li>\n      <li>\n        ");haml_temp =  link_to "Register", new_user_path;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
_hamlout.push_text("      </li>\n      <li>\n        ");haml_temp =  link_to "Login",    login_path;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);




_hamlout.push_text("      </li>\n    </ul>\n    <div class='clear'></div>\n  </div>\n  <div id='main-navigation'>\n    <ul></ul>\n    <div class='clear'></div>\n  </div>\n</div>\n", false, -4);@haml_buffer = @haml_buffer.upper;_erbout;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/sabman/Rails/projects/pakistan-map/pakistanmap/app/views/layouts/_header.html.haml:27:in `compile!'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:61:in `compile'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:28:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable_partial.rb:20:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:26:in `benchmark'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:26:in `benchmark'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable_partial.rb:19:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/template.rb:194:in `render_template'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable_partial.rb:44:in `render_partial'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/partials.rb:184:in `render_partial'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:262:in `render_without_haml'
/usr/local/lib/ruby/gems/1.8/gems/haml-2.0.9/lib/haml/helpers/action_view_mods.rb:12:in `render'
/usr/local/lib/ruby/gems/1.8/gems/haml-2.0.9/lib/haml/helpers.rb:57:in `non_haml'
/usr/local/lib/ruby/gems/1.8/gems/haml-2.0.9/lib/haml/helpers/action_view_mods.rb:12:in `render'
/Users/sabman/Rails/projects/pakistan-map/pakistanmap/app/views/layouts/application.html.haml:10:in `_run_haml_app47views47layouts47application46html46haml'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:34:in `send'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:34:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:301:in `with_template'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:30:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/template.rb:194:in `render_template'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:260:in `render_without_haml'
/usr/local/lib/ruby/gems/1.8/gems/haml-2.0.9/lib/haml/helpers/action_view_mods.rb:14:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:347:in `_render_with_layout'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:257:in `render_without_haml'
/usr/local/lib/ruby/gems/1.8/gems/haml-2.0.9/lib/haml/helpers/action_view_mods.rb:14:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1241:in `render_for_file'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:937:in `render_without_benchmark'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1317:in `default_render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1323:in `perform_action_without_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:617:in `call_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/flash.rb:141:in `perform_action'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `send'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `process_without_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:606:in `sass_old_process'
/usr/local/lib/ruby/gems/1.8/gems/haml-2.0.9/lib/sass/plugin/rails.rb:19:in `process'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:391:in `process'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:386:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/routing/route_set.rb:433:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:88:in `dispatch'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:111:in `_call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:82:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:9:in `cache'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:28:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/head.rb:9:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/methodoverride.rb:24:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/params_parser.rb:15:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rewindable_input.rb:25:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/session/cookie_store.rb:93:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/reloader.rb:9:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/failsafe.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `synchronize'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:106:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/cgi_process.rb:44:in `dispatch_cgi'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:102:in `dispatch_cgi'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:28:in `dispatch'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:76:in `process'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `synchronize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `process'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:159:in `process_client'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:158:in `each'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:158:in `process_client'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:285:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:285:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:285:in `new'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:285:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:268:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:268:in `new'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:268:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/configurator.rb:282:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/configurator.rb:281:in `each'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/configurator.rb:281:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/command.rb:212:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
/usr/local/bin/mongrel_rails:19:in `load'
/usr/local/bin/mongrel_rails:19

ActionView::TemplateError (compile error
/Users/sabman/Rails/projects/pakistan-map/pakistanmap/app/views/layouts/_header.html.haml:8: syntax error, unexpected tIDENTIFIER, expecting kEND
_hamlout.push_text("<div id='header'>\n  <h1>\n    <a href='/'>\n      Pakistan Refugee Crisis\n    </a>\n  </h1>\n  <div id='user-navigation'>\n    <ul>\n      <li>\n        ", false, 4);haml_temp =  link_to "Start a Story" start_story_path;
                                                                                                                                                                                                                                                 ^
/Users/sabman/Rails/projects/pakistan-map/pakistanmap/app/views/layouts/_header.html.haml:25: syntax error, unexpected kENSURE, expecting kEND
/Users/sabman/Rails/projects/pakistan-map/pakistanmap/app/views/layouts/_header.html.haml:27: syntax error, unexpected $end, expecting kEND) on line #8 of app/views/layouts/_header.html.haml:
5:   #user-navigation
6:     %ul
7:       %li
8:         = link_to "Start a Story" start_story_path
9:       - if current_user
10:       %li
11:         = link_to "Edit Profile", edit_user_path(:current)

    app/views/layouts/_header.html.haml:27:in `compile!'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:12:in `render'
    haml (2.0.9) lib/haml/helpers.rb:57:in `non_haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:12:in `render'
    app/views/layouts/application.html.haml:10:in `_run_haml_app47views47layouts47application46html46haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (246.3ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing StoriesController#index (for 127.0.0.1 at 2009-05-15 22:58:13) [GET]
  [4;36;1mStory Load (0.8ms)[0m   [0;1mSELECT * FROM "stories" [0m
Rendering template within layouts/application
Rendering stories/index
ERROR: compiling _run_haml_app47views47layouts47_header46html46haml_locals_header_object RAISED compile error
/Users/sabman/Rails/projects/pakistan-map/pakistanmap/app/views/layouts/_header.html.haml:8: syntax error, unexpected tIDENTIFIER, expecting kEND
_hamlout.push_text("<div id='header'>\n  <h1>\n    <a href='/'>\n      Pakistan Refugee Crisis\n    </a>\n  </h1>\n  <div id='user-navigation'>\n    <ul>\n      <li>\n        ", false, 4);haml_temp =  link_to "Start a Story" start_story_path;
                                                                                                                                                                                                                                                 ^
Function body:           def _run_haml_app47views47layouts47_header46html46haml_locals_header_object(local_assigns)
            old_output_buffer = output_buffer;header = local_assigns[:header];object = local_assigns[:object];;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:format=>:xhtml, :attr_wrapper=>"'", :preserve=>["textarea", "pre"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :ugly=>false});_erbout = _hamlout.buffer;__in_erb_template = true;;






_hamlout.push_text("<div id='header'>\n  <h1>\n    <a href='/'>\n      Pakistan Refugee Crisis\n    </a>\n  </h1>\n  <div id='user-navigation'>\n    <ul>\n      <li>\n        ", false, 4);haml_temp =  link_to "Start a Story" start_story_path;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);_hamlout.push_text("      </li>\n", false, -1); if current_user;

_hamlout.push_text("      <li>\n        ", false, 1);haml_temp =  link_to "Edit Profile", edit_user_path(:current);
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
_hamlout.push_text("      </li>\n      <li>\n        ");haml_temp =  link_to "Logout",   logout_path;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);_hamlout.push_text("      </li>\n", false, -1); else;

_hamlout.push_text("      <li>\n        ", false, 1);haml_temp =  link_to "Register", new_user_path;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
_hamlout.push_text("      </li>\n      <li>\n        ");haml_temp =  link_to "Login",    login_path;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);_hamlout.push_text("      </li>\n", false, -1);end;




_hamlout.push_text("    </ul>\n    <div class='clear'></div>\n  </div>\n  <div id='main-navigation'>\n    <ul></ul>\n    <div class='clear'></div>\n  </div>\n</div>\n", false, -3);@haml_buffer = @haml_buffer.upper;_erbout;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/sabman/Rails/projects/pakistan-map/pakistanmap/app/views/layouts/_header.html.haml:27:in `compile!'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:61:in `compile'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:28:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable_partial.rb:20:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:26:in `benchmark'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:26:in `benchmark'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable_partial.rb:19:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/template.rb:194:in `render_template'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable_partial.rb:44:in `render_partial'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/partials.rb:184:in `render_partial'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:262:in `render_without_haml'
/usr/local/lib/ruby/gems/1.8/gems/haml-2.0.9/lib/haml/helpers/action_view_mods.rb:12:in `render'
/usr/local/lib/ruby/gems/1.8/gems/haml-2.0.9/lib/haml/helpers.rb:57:in `non_haml'
/usr/local/lib/ruby/gems/1.8/gems/haml-2.0.9/lib/haml/helpers/action_view_mods.rb:12:in `render'
/Users/sabman/Rails/projects/pakistan-map/pakistanmap/app/views/layouts/application.html.haml:10:in `_run_haml_app47views47layouts47application46html46haml'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:34:in `send'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:34:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:301:in `with_template'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:30:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/template.rb:194:in `render_template'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:260:in `render_without_haml'
/usr/local/lib/ruby/gems/1.8/gems/haml-2.0.9/lib/haml/helpers/action_view_mods.rb:14:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:347:in `_render_with_layout'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:257:in `render_without_haml'
/usr/local/lib/ruby/gems/1.8/gems/haml-2.0.9/lib/haml/helpers/action_view_mods.rb:14:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1241:in `render_for_file'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:937:in `render_without_benchmark'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1317:in `default_render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1323:in `perform_action_without_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:617:in `call_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/flash.rb:141:in `perform_action'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `send'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `process_without_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:606:in `sass_old_process'
/usr/local/lib/ruby/gems/1.8/gems/haml-2.0.9/lib/sass/plugin/rails.rb:19:in `process'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:391:in `process'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:386:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/routing/route_set.rb:433:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:88:in `dispatch'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:111:in `_call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:82:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:9:in `cache'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:28:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/head.rb:9:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/methodoverride.rb:24:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/params_parser.rb:15:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rewindable_input.rb:25:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/session/cookie_store.rb:93:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/reloader.rb:9:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/failsafe.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `synchronize'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:106:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/cgi_process.rb:44:in `dispatch_cgi'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:102:in `dispatch_cgi'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:28:in `dispatch'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:76:in `process'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `synchronize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `process'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:159:in `process_client'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:158:in `each'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:158:in `process_client'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:285:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:285:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:285:in `new'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:285:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:268:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:268:in `new'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:268:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/configurator.rb:282:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/configurator.rb:281:in `each'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/configurator.rb:281:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/command.rb:212:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
/usr/local/bin/mongrel_rails:19:in `load'
/usr/local/bin/mongrel_rails:19

ActionView::TemplateError (compile error
/Users/sabman/Rails/projects/pakistan-map/pakistanmap/app/views/layouts/_header.html.haml:8: syntax error, unexpected tIDENTIFIER, expecting kEND
_hamlout.push_text("<div id='header'>\n  <h1>\n    <a href='/'>\n      Pakistan Refugee Crisis\n    </a>\n  </h1>\n  <div id='user-navigation'>\n    <ul>\n      <li>\n        ", false, 4);haml_temp =  link_to "Start a Story" start_story_path;
                                                                                                                                                                                                                                                 ^) on line #8 of app/views/layouts/_header.html.haml:
5:   #user-navigation
6:     %ul
7:       %li
8:         = link_to "Start a Story" start_story_path
9:       - if current_user
10:         %li
11:           = link_to "Edit Profile", edit_user_path(:current)

    app/views/layouts/_header.html.haml:27:in `compile!'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:12:in `render'
    haml (2.0.9) lib/haml/helpers.rb:57:in `non_haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:12:in `render'
    app/views/layouts/application.html.haml:10:in `_run_haml_app47views47layouts47application46html46haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (377.9ms)
Rendered rescues/_request_and_response (0.9ms)
Rendering rescues/layout (internal_server_error)


Processing StoriesController#index (for 127.0.0.1 at 2009-05-15 22:59:46) [GET]
  [4;35;1mStory Load (1.0ms)[0m   [0mSELECT * FROM "stories" [0m
Rendering template within layouts/application
Rendering stories/index

ActionView::TemplateError (You don't need to use "- end" in Haml. Use indentation instead:
- if foo?
  %strong Foo!
- else
  Not foo.) on line #34 of app/views/layouts/application.html.haml:
31:         #main
32:           - flash.each do |name, msg|
33:           = content_tag :div, msg, :id => "flash_#{name}"
34:           - end
35:           = yield
36:           #footer
37:             .block

    app/views/layouts/application.html.haml:34
    haml (2.0.9) lib/haml/precompiler.rb:206:in `process_line'
    haml (2.0.9) lib/haml/precompiler.rb:156:in `precompile'
    haml (2.0.9) lib/haml/precompiler.rb:122:in `each'
    haml (2.0.9) lib/haml/precompiler.rb:122:in `each_with_index'
    haml (2.0.9) lib/haml/precompiler.rb:122:in `precompile'
    haml (2.0.9) lib/haml/engine.rb:100:in `initialize'
    haml (2.0.9) lib/haml/template/plugin.rb:21:in `new'
    haml (2.0.9) lib/haml/template/plugin.rb:21:in `compile'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (372.3ms)
Rendered rescues/_request_and_response (0.9ms)
Rendering rescues/layout (internal_server_error)


Processing StoriesController#index (for 127.0.0.1 at 2009-05-15 23:00:10) [GET]
  [4;36;1mStory Load (0.9ms)[0m   [0;1mSELECT * FROM "stories" [0m
Rendering template within layouts/application
Rendering stories/index
ERROR: compiling _run_haml_app47views47layouts47application46html46haml RAISED compile error
/Users/sabman/Rails/projects/pakistan-map/pakistanmap/app/views/layouts/application.html.haml:44: syntax error, unexpected kENSURE, expecting kEND
/Users/sabman/Rails/projects/pakistan-map/pakistanmap/app/views/layouts/application.html.haml:46: syntax error, unexpected $end, expecting kEND
Function body:           def _run_haml_app47views47layouts47application46html46haml(local_assigns)
            old_output_buffer = output_buffer;;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:format=>:xhtml, :attr_wrapper=>"'", :preserve=>["textarea", "pre"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :ugly=>false});_erbout = _hamlout.buffer;__in_erb_template = true;;





_hamlout.push_text("<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\">\n<html lang='en' xmlns='http://www.w3.org/1999/xhtml'>\n  <head>\n    <meta content='text/html; charset=utf-8' http-equiv='Content-Type' />\n    <title>\n      Pakistan Refugee Crisis\n    </title>\n    ", false, 2);haml_temp =  stylesheet_link_tag 'web_app_theme', "themes/kathleene/style";
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);







_hamlout.push_text("  </head>\n  <body>\n    <div id='container'>\n      <div id='header'>\n        <h1>\n          <a href='/'>\n            Pakistan Refugee Crisis\n          </a>\n        </h1>\n        <div id='user-navigation'>\n          <ul></ul>\n", false, 3); if current_user;

_hamlout.push_text("          <li>\n            ", false, 1);haml_temp =  link_to "Edit Profile", edit_user_path(:current);
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
_hamlout.push_text("          </li>\n          <li>\n            ");haml_temp =  link_to "Logout",   logout_path;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);_hamlout.push_text("          </li>\n", false, -1); else;

_hamlout.push_text("          <li>\n            ", false, 1);haml_temp =  link_to "Register", new_user_path;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
_hamlout.push_text("          </li>\n          <li>\n            ");haml_temp =  link_to "Login",    login_path;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);_hamlout.push_text("          </li>\n", false, -1);end;





_hamlout.push_text("          <div class='clear'></div>\n        </div>\n        <div id='main-navigation'>\n          <ul></ul>\n          <div class='clear'></div>\n        </div>\n      </div>\n      <div id='wrapper'>\n        <div id='main'>\n"); flash.each do |name, msg|;
_hamlout.push_text("          ");haml_temp =  content_tag :div, msg, :id => "flash_#{name}";
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);_hamlout.push_text("          ");haml_temp =  yield;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);




_hamlout.push_text("          <div id='footer'>\n            <div class='block'>\n              <p>\n                Copyright &copy; 2009 Your Site.\n              </p>\n            </div>\n          </div>\n        </div>\n        <div id='sidebar'>\n          ");haml_temp =  yield :sidebar;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);

_hamlout.push_text("        </div>\n        <div class='clear'></div>\n      </div>\n    </div>\n  </body>\n</html>\n", false, -5);@haml_buffer = @haml_buffer.upper;_erbout;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/sabman/Rails/projects/pakistan-map/pakistanmap/app/views/layouts/application.html.haml:46:in `compile!'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:61:in `compile'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:28:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/template.rb:194:in `render_template'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:260:in `render_without_haml'
/usr/local/lib/ruby/gems/1.8/gems/haml-2.0.9/lib/haml/helpers/action_view_mods.rb:14:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:347:in `_render_with_layout'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:257:in `render_without_haml'
/usr/local/lib/ruby/gems/1.8/gems/haml-2.0.9/lib/haml/helpers/action_view_mods.rb:14:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1241:in `render_for_file'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:937:in `render_without_benchmark'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1317:in `default_render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1323:in `perform_action_without_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:617:in `call_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/flash.rb:141:in `perform_action'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `send'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `process_without_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:606:in `sass_old_process'
/usr/local/lib/ruby/gems/1.8/gems/haml-2.0.9/lib/sass/plugin/rails.rb:19:in `process'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:391:in `process'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:386:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/routing/route_set.rb:433:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:88:in `dispatch'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:111:in `_call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:82:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:9:in `cache'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:28:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/head.rb:9:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/methodoverride.rb:24:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/params_parser.rb:15:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rewindable_input.rb:25:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/session/cookie_store.rb:93:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/reloader.rb:9:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/failsafe.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `synchronize'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:106:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/cgi_process.rb:44:in `dispatch_cgi'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:102:in `dispatch_cgi'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:28:in `dispatch'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:76:in `process'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `synchronize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `process'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:159:in `process_client'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:158:in `each'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:158:in `process_client'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:285:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:285:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:285:in `new'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:285:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:268:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:268:in `new'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:268:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/configurator.rb:282:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/configurator.rb:281:in `each'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/configurator.rb:281:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/command.rb:212:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
/usr/local/bin/mongrel_rails:19:in `load'
/usr/local/bin/mongrel_rails:19

ActionView::TemplateError (compile error
/Users/sabman/Rails/projects/pakistan-map/pakistanmap/app/views/layouts/application.html.haml:44: syntax error, unexpected kENSURE, expecting kEND
/Users/sabman/Rails/projects/pakistan-map/pakistanmap/app/views/layouts/application.html.haml:46: syntax error, unexpected $end, expecting kEND) on line #44 of app/views/layouts/application.html.haml:
41:         .clear

    app/views/layouts/application.html.haml:46:in `compile!'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (350.5ms)
Rendered rescues/_request_and_response (0.9ms)
Rendering rescues/layout (internal_server_error)


Processing StoriesController#index (for 127.0.0.1 at 2009-05-15 23:00:35) [GET]
  [4;35;1mStory Load (0.7ms)[0m   [0mSELECT * FROM "stories" [0m
Rendering template within layouts/application
Rendering stories/index
Completed in 148ms (View: 108, DB: 1) | 200 OK [http://localhost/]


Processing StoriesController#index (for 127.0.0.1 at 2009-05-15 23:01:46) [GET]
  [4;36;1mStory Load (0.8ms)[0m   [0;1mSELECT * FROM "stories" [0m
Rendering template within layouts/application
Rendering stories/index
ERROR: compiling _run_haml_app47views47layouts47_header46html46haml_locals_header_object RAISED compile error
/Users/sabman/Rails/projects/pakistan-map/pakistanmap/app/views/layouts/_header.html.haml:8: syntax error, unexpected tIDENTIFIER, expecting kEND
_hamlout.push_text("<div id='header'>\n  <h1>\n    <a href='/'>\n      Pakistan Refugee Crisis\n    </a>\n  </h1>\n  <div id='user-navigation'>\n    <ul>\n      <li>\n        ", false, 4);haml_temp =  link_to "Start a Story" start_story_path;
                                                                                                                                                                                                                                                 ^
Function body:           def _run_haml_app47views47layouts47_header46html46haml_locals_header_object(local_assigns)
            old_output_buffer = output_buffer;header = local_assigns[:header];object = local_assigns[:object];;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:format=>:xhtml, :attr_wrapper=>"'", :preserve=>["textarea", "pre"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :ugly=>false});_erbout = _hamlout.buffer;__in_erb_template = true;;






_hamlout.push_text("<div id='header'>\n  <h1>\n    <a href='/'>\n      Pakistan Refugee Crisis\n    </a>\n  </h1>\n  <div id='user-navigation'>\n    <ul>\n      <li>\n        ", false, 4);haml_temp =  link_to "Start a Story" start_story_path;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);_hamlout.push_text("      </li>\n", false, -1); if current_user;

_hamlout.push_text("      <li>\n        ", false, 1);haml_temp =  link_to "Edit Profile", edit_user_path(:current);
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
_hamlout.push_text("      </li>\n      <li>\n        ");haml_temp =  link_to "Logout",   logout_path;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);_hamlout.push_text("      </li>\n", false, -1); else;

_hamlout.push_text("      <li>\n        ", false, 1);haml_temp =  link_to "Register", new_user_path;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
_hamlout.push_text("      </li>\n      <li>\n        ");haml_temp =  link_to "Login",    login_path;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);_hamlout.push_text("      </li>\n", false, -1);end;




_hamlout.push_text("    </ul>\n    <div class='clear'></div>\n  </div>\n  <div id='main-navigation'>\n    <ul></ul>\n    <div class='clear'></div>\n  </div>\n</div>\n", false, -3);@haml_buffer = @haml_buffer.upper;_erbout;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/sabman/Rails/projects/pakistan-map/pakistanmap/app/views/layouts/_header.html.haml:27:in `compile!'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:61:in `compile'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:28:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable_partial.rb:20:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:26:in `benchmark'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:26:in `benchmark'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable_partial.rb:19:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/template.rb:194:in `render_template'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable_partial.rb:44:in `render_partial'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/partials.rb:184:in `render_partial'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:262:in `render_without_haml'
/usr/local/lib/ruby/gems/1.8/gems/haml-2.0.9/lib/haml/helpers/action_view_mods.rb:12:in `render'
/usr/local/lib/ruby/gems/1.8/gems/haml-2.0.9/lib/haml/helpers.rb:57:in `non_haml'
/usr/local/lib/ruby/gems/1.8/gems/haml-2.0.9/lib/haml/helpers/action_view_mods.rb:12:in `render'
/Users/sabman/Rails/projects/pakistan-map/pakistanmap/app/views/layouts/application.html.haml:10:in `_run_haml_app47views47layouts47application46html46haml'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:34:in `send'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:34:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:301:in `with_template'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:30:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/template.rb:194:in `render_template'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:260:in `render_without_haml'
/usr/local/lib/ruby/gems/1.8/gems/haml-2.0.9/lib/haml/helpers/action_view_mods.rb:14:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:347:in `_render_with_layout'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:257:in `render_without_haml'
/usr/local/lib/ruby/gems/1.8/gems/haml-2.0.9/lib/haml/helpers/action_view_mods.rb:14:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1241:in `render_for_file'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:937:in `render_without_benchmark'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1317:in `default_render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1323:in `perform_action_without_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:617:in `call_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/flash.rb:141:in `perform_action'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `send'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `process_without_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:606:in `sass_old_process'
/usr/local/lib/ruby/gems/1.8/gems/haml-2.0.9/lib/sass/plugin/rails.rb:19:in `process'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:391:in `process'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:386:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/routing/route_set.rb:433:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:88:in `dispatch'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:111:in `_call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:82:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:9:in `cache'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:28:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/head.rb:9:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/methodoverride.rb:24:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/params_parser.rb:15:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rewindable_input.rb:25:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/session/cookie_store.rb:93:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/reloader.rb:9:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/failsafe.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `synchronize'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:106:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/cgi_process.rb:44:in `dispatch_cgi'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:102:in `dispatch_cgi'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:28:in `dispatch'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:76:in `process'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `synchronize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `process'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:159:in `process_client'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:158:in `each'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:158:in `process_client'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:285:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:285:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:285:in `new'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:285:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:268:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:268:in `new'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:268:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/configurator.rb:282:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/configurator.rb:281:in `each'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/configurator.rb:281:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/command.rb:212:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
/usr/local/bin/mongrel_rails:19:in `load'
/usr/local/bin/mongrel_rails:19

ActionView::TemplateError (compile error
/Users/sabman/Rails/projects/pakistan-map/pakistanmap/app/views/layouts/_header.html.haml:8: syntax error, unexpected tIDENTIFIER, expecting kEND
_hamlout.push_text("<div id='header'>\n  <h1>\n    <a href='/'>\n      Pakistan Refugee Crisis\n    </a>\n  </h1>\n  <div id='user-navigation'>\n    <ul>\n      <li>\n        ", false, 4);haml_temp =  link_to "Start a Story" start_story_path;
                                                                                                                                                                                                                                                 ^) on line #8 of app/views/layouts/_header.html.haml:
5:   #user-navigation
6:     %ul
7:       %li
8:         = link_to "Start a Story" start_story_path
9:       - if current_user
10:         %li
11:           = link_to "Edit Profile", edit_user_path(:current)

    app/views/layouts/_header.html.haml:27:in `compile!'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:12:in `render'
    haml (2.0.9) lib/haml/helpers.rb:57:in `non_haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:12:in `render'
    app/views/layouts/application.html.haml:10:in `_run_haml_app47views47layouts47application46html46haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (435.6ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing StoriesController#index (for 127.0.0.1 at 2009-05-15 23:01:54) [GET]
  [4;35;1mStory Load (0.8ms)[0m   [0mSELECT * FROM "stories" [0m
Rendering template within layouts/application
Rendering stories/index
ERROR: compiling _run_haml_app47views47layouts47application46html46haml RAISED compile error
/Users/sabman/Rails/projects/pakistan-map/pakistanmap/app/views/layouts/application.html.haml:25: syntax error, unexpected kENSURE, expecting $end
Function body:           def _run_haml_app47views47layouts47application46html46haml(local_assigns)
            old_output_buffer = output_buffer;;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:format=>:xhtml, :attr_wrapper=>"'", :preserve=>["textarea", "pre"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :ugly=>false});_erbout = _hamlout.buffer;__in_erb_template = true;;





_hamlout.push_text("<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\">\n<html lang='en' xmlns='http://www.w3.org/1999/xhtml'>\n  <head>\n    <meta content='text/html; charset=utf-8' http-equiv='Content-Type' />\n    <title>\n      Pakistan Refugee Crisis\n    </title>\n    ", false, 2);haml_temp =  stylesheet_link_tag 'web_app_theme', "themes/kathleene/style";
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);

_hamlout.push_text("  </head>\n  <body>\n    <div id='container'></div>\n    ");haml_temp =  render :partial => "layouts/header";


_hamlout.push_text("    <div id='wrapper'>\n      <div id='main'>\n", false, 2); flash.each do |name, msg|;
_hamlout.push_text("        ");haml_temp =  content_tag :div, msg, :id => "flash_#{name}";
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);end;_hamlout.push_text("        ");haml_temp =  yield;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);




_hamlout.push_text("        <div id='footer'>\n          <div class='block'>\n            <p>\n              Copyright &copy; 2009 Your Site.\n            </p>\n          </div>\n        </div>\n      </div>\n      <div id='sidebar'>\n        ");haml_temp =  yield :sidebar;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
_hamlout.push_text("      </div>\n      <div class='clear'></div>\n    </div>\n", false, -2);end;haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
_hamlout.push_text("  </body>\n</html>\n", false, -2);@haml_buffer = @haml_buffer.upper;_erbout;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/sabman/Rails/projects/pakistan-map/pakistanmap/app/views/layouts/application.html.haml:25:in `compile!'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:61:in `compile'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:28:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/template.rb:194:in `render_template'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:260:in `render_without_haml'
/usr/local/lib/ruby/gems/1.8/gems/haml-2.0.9/lib/haml/helpers/action_view_mods.rb:14:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:347:in `_render_with_layout'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:257:in `render_without_haml'
/usr/local/lib/ruby/gems/1.8/gems/haml-2.0.9/lib/haml/helpers/action_view_mods.rb:14:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1241:in `render_for_file'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:937:in `render_without_benchmark'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1317:in `default_render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1323:in `perform_action_without_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:617:in `call_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/flash.rb:141:in `perform_action'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `send'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `process_without_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:606:in `sass_old_process'
/usr/local/lib/ruby/gems/1.8/gems/haml-2.0.9/lib/sass/plugin/rails.rb:19:in `process'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:391:in `process'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:386:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/routing/route_set.rb:433:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:88:in `dispatch'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:111:in `_call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:82:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:9:in `cache'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:28:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/head.rb:9:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/methodoverride.rb:24:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/params_parser.rb:15:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rewindable_input.rb:25:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/session/cookie_store.rb:93:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/reloader.rb:9:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/failsafe.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `synchronize'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:106:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/cgi_process.rb:44:in `dispatch_cgi'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:102:in `dispatch_cgi'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:28:in `dispatch'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:76:in `process'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `synchronize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `process'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:159:in `process_client'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:158:in `each'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:158:in `process_client'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:285:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:285:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:285:in `new'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:285:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:268:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:268:in `new'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:268:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/configurator.rb:282:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/configurator.rb:281:in `each'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/configurator.rb:281:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/command.rb:212:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
/usr/local/bin/mongrel_rails:19:in `load'
/usr/local/bin/mongrel_rails:19

ActionView::TemplateError (compile error
/Users/sabman/Rails/projects/pakistan-map/pakistanmap/app/views/layouts/application.html.haml:25: syntax error, unexpected kENSURE, expecting $end) on line #25 of app/views/layouts/application.html.haml:
22:         .clear

    app/views/layouts/application.html.haml:25:in `compile!'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (351.0ms)
Rendered rescues/_request_and_response (1.4ms)
Rendering rescues/layout (internal_server_error)


Processing StoriesController#index (for 127.0.0.1 at 2009-05-15 23:02:05) [GET]
  [4;36;1mStory Load (1.0ms)[0m   [0;1mSELECT * FROM "stories" [0m
Rendering template within layouts/application
Rendering stories/index
ERROR: compiling _run_haml_app47views47layouts47_header46html46haml_locals_header_object RAISED compile error
/Users/sabman/Rails/projects/pakistan-map/pakistanmap/app/views/layouts/_header.html.haml:8: syntax error, unexpected tIDENTIFIER, expecting kEND
_hamlout.push_text("<div id='header'>\n  <h1>\n    <a href='/'>\n      Pakistan Refugee Crisis\n    </a>\n  </h1>\n  <div id='user-navigation'>\n    <ul>\n      <li>\n        ", false, 4);haml_temp =  link_to "Start a Story" start_story_path;
                                                                                                                                                                                                                                                 ^
Function body:           def _run_haml_app47views47layouts47_header46html46haml_locals_header_object(local_assigns)
            old_output_buffer = output_buffer;header = local_assigns[:header];object = local_assigns[:object];;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:format=>:xhtml, :attr_wrapper=>"'", :preserve=>["textarea", "pre"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :ugly=>false});_erbout = _hamlout.buffer;__in_erb_template = true;;






_hamlout.push_text("<div id='header'>\n  <h1>\n    <a href='/'>\n      Pakistan Refugee Crisis\n    </a>\n  </h1>\n  <div id='user-navigation'>\n    <ul>\n      <li>\n        ", false, 4);haml_temp =  link_to "Start a Story" start_story_path;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);_hamlout.push_text("      </li>\n", false, -1); if current_user;

_hamlout.push_text("      <li>\n        ", false, 1);haml_temp =  link_to "Edit Profile", edit_user_path(:current);
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
_hamlout.push_text("      </li>\n      <li>\n        ");haml_temp =  link_to "Logout",   logout_path;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);_hamlout.push_text("      </li>\n", false, -1); else;

_hamlout.push_text("      <li>\n        ", false, 1);haml_temp =  link_to "Register", new_user_path;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
_hamlout.push_text("      </li>\n      <li>\n        ");haml_temp =  link_to "Login",    login_path;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);_hamlout.push_text("      </li>\n", false, -1);end;




_hamlout.push_text("    </ul>\n    <div class='clear'></div>\n  </div>\n  <div id='main-navigation'>\n    <ul></ul>\n    <div class='clear'></div>\n  </div>\n</div>\n", false, -3);@haml_buffer = @haml_buffer.upper;_erbout;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/sabman/Rails/projects/pakistan-map/pakistanmap/app/views/layouts/_header.html.haml:27:in `compile!'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:61:in `compile'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:28:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable_partial.rb:20:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:26:in `benchmark'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:26:in `benchmark'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable_partial.rb:19:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/template.rb:194:in `render_template'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable_partial.rb:44:in `render_partial'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/partials.rb:184:in `render_partial'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:262:in `render_without_haml'
/usr/local/lib/ruby/gems/1.8/gems/haml-2.0.9/lib/haml/helpers/action_view_mods.rb:12:in `render'
/usr/local/lib/ruby/gems/1.8/gems/haml-2.0.9/lib/haml/helpers.rb:57:in `non_haml'
/usr/local/lib/ruby/gems/1.8/gems/haml-2.0.9/lib/haml/helpers/action_view_mods.rb:12:in `render'
/Users/sabman/Rails/projects/pakistan-map/pakistanmap/app/views/layouts/application.html.haml:10:in `_run_haml_app47views47layouts47application46html46haml'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:34:in `send'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:34:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:301:in `with_template'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:30:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/template.rb:194:in `render_template'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:260:in `render_without_haml'
/usr/local/lib/ruby/gems/1.8/gems/haml-2.0.9/lib/haml/helpers/action_view_mods.rb:14:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:347:in `_render_with_layout'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:257:in `render_without_haml'
/usr/local/lib/ruby/gems/1.8/gems/haml-2.0.9/lib/haml/helpers/action_view_mods.rb:14:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1241:in `render_for_file'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:937:in `render_without_benchmark'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1317:in `default_render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1323:in `perform_action_without_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:617:in `call_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/flash.rb:141:in `perform_action'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `send'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `process_without_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:606:in `sass_old_process'
/usr/local/lib/ruby/gems/1.8/gems/haml-2.0.9/lib/sass/plugin/rails.rb:19:in `process'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:391:in `process'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:386:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/routing/route_set.rb:433:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:88:in `dispatch'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:111:in `_call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:82:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:9:in `cache'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:28:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/head.rb:9:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/methodoverride.rb:24:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/params_parser.rb:15:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rewindable_input.rb:25:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/session/cookie_store.rb:93:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/reloader.rb:9:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/failsafe.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `synchronize'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:106:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/cgi_process.rb:44:in `dispatch_cgi'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:102:in `dispatch_cgi'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:28:in `dispatch'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:76:in `process'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `synchronize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `process'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:159:in `process_client'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:158:in `each'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:158:in `process_client'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:285:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:285:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:285:in `new'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:285:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:268:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:268:in `new'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:268:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/configurator.rb:282:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/configurator.rb:281:in `each'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/configurator.rb:281:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/command.rb:212:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
/usr/local/bin/mongrel_rails:19:in `load'
/usr/local/bin/mongrel_rails:19

ActionView::TemplateError (compile error
/Users/sabman/Rails/projects/pakistan-map/pakistanmap/app/views/layouts/_header.html.haml:8: syntax error, unexpected tIDENTIFIER, expecting kEND
_hamlout.push_text("<div id='header'>\n  <h1>\n    <a href='/'>\n      Pakistan Refugee Crisis\n    </a>\n  </h1>\n  <div id='user-navigation'>\n    <ul>\n      <li>\n        ", false, 4);haml_temp =  link_to "Start a Story" start_story_path;
                                                                                                                                                                                                                                                 ^) on line #8 of app/views/layouts/_header.html.haml:
5:   #user-navigation
6:     %ul
7:       %li
8:         = link_to "Start a Story" start_story_path
9:       - if current_user
10:         %li
11:           = link_to "Edit Profile", edit_user_path(:current)

    app/views/layouts/_header.html.haml:27:in `compile!'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:12:in `render'
    haml (2.0.9) lib/haml/helpers.rb:57:in `non_haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:12:in `render'
    app/views/layouts/application.html.haml:10:in `_run_haml_app47views47layouts47application46html46haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (207.6ms)
Rendered rescues/_request_and_response (0.9ms)
Rendering rescues/layout (internal_server_error)


Processing StoriesController#index (for 127.0.0.1 at 2009-05-15 23:02:18) [GET]
  [4;35;1mStory Load (3.4ms)[0m   [0mSELECT * FROM "stories" [0m
Rendering template within layouts/application
Rendering stories/index
Rendered layouts/_header (84.4ms)
Completed in 152ms (View: 100, DB: 3) | 200 OK [http://localhost/]


Processing StoriesController#index (for 127.0.0.1 at 2009-05-15 23:03:43) [GET]
  [4;36;1mStory Load (0.9ms)[0m   [0;1mSELECT * FROM "stories" [0m
Rendering template within layouts/application
Rendering stories/index
Rendered layouts/_header (96.7ms)
Completed in 156ms (View: 110, DB: 1) | 200 OK [http://localhost/]


Processing StoriesController#index (for 127.0.0.1 at 2009-05-15 23:04:32) [GET]
  [4;35;1mStory Load (0.7ms)[0m   [0mSELECT * FROM "stories" [0m
Rendering template within layouts/application
Rendering stories/index
Rendered layouts/_header (89.8ms)
Completed in 143ms (View: 105, DB: 1) | 200 OK [http://localhost/]


Processing StoriesController#index (for 127.0.0.1 at 2009-05-15 23:04:47) [GET]
  [4;36;1mStory Load (1.6ms)[0m   [0;1mSELECT * FROM "stories" [0m
Rendering template within layouts/application
Rendering stories/index
Rendered layouts/_header (100.0ms)
Completed in 165ms (View: 120, DB: 2) | 200 OK [http://localhost/]


Processing StoriesController#index (for 127.0.0.1 at 2009-05-15 23:05:06) [GET]
  [4;35;1mStory Load (1.3ms)[0m   [0mSELECT * FROM "stories" [0m
Rendering template within layouts/application
Rendering stories/index
Rendered layouts/_header (85.4ms)
Completed in 145ms (View: 101, DB: 1) | 200 OK [http://localhost/]


Processing StoriesController#new (for 127.0.0.1 at 2009-05-15 23:05:10) [GET]
Redirected to http://localhost:3000/user_sessions/new
Filter chain halted as [:require_user] rendered_or_redirected.
Completed in 80ms (DB: 0) | 302 Found [http://localhost/stories/new]


Processing UserSessionsController#new (for 127.0.0.1 at 2009-05-15 23:05:10) [GET]
Rendering template within layouts/application
Rendering user_sessions/new
Rendered layouts/_header (7.2ms)
Completed in 280ms (View: 182, DB: 0) | 200 OK [http://localhost/user_sessions/new]


Processing UserSessionsController#new (for 127.0.0.1 at 2009-05-15 23:14:30) [GET]
Rendering template within layouts/application
Rendering user_sessions/new
ERROR: compiling _run_haml_app47views47layouts47application46html46haml RAISED compile error
/Users/sabman/Rails/projects/pakistan-map/pakistanmap/app/views/layouts/application.html.haml:6: syntax error, unexpected ';', expecting ')'
Function body:           def _run_haml_app47views47layouts47application46html46haml(local_assigns)
            old_output_buffer = output_buffer;;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:format=>:xhtml, :attr_wrapper=>"'", :preserve=>["textarea", "pre"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :ugly=>false});_erbout = _hamlout.buffer;__in_erb_template = true;;




_hamlout.push_text("<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\">\n<html lang='en' xmlns='http://www.w3.org/1999/xhtml'>\n  <head>\n    <meta content='text/html; charset=utf-8' http-equiv='Content-Type' />\n    <title>\n      ", false, 3);haml_temp =  h(yield(:title) || "Pakistan Refugee Crisis";
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);_hamlout.push_text("    </title>\n    ", false, -1);haml_temp =  stylesheet_link_tag 'web_app_theme', "themes/kathleene/style";
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);

_hamlout.push_text("  </head>\n  <body>\n    <div id='container'>\n      ", false, 1);haml_temp =  render :partial => "layouts/header";
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);

_hamlout.push_text("      <div id='wrapper'>\n        <div id='main'>\n", false, 2); flash.each do |name, msg|;
_hamlout.push_text("          ");haml_temp =  content_tag :div, msg, :id => "flash_#{name}";
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);end;_hamlout.push_text("          ");haml_temp =  yield;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);




_hamlout.push_text("          <div id='footer'>\n            <div class='block'>\n              <p>\n                Copyright &copy; 2009 Your Site.\n              </p>\n            </div>\n          </div>\n        </div>\n        <div id='sidebar'>\n          ");haml_temp =  yield :sidebar;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);

_hamlout.push_text("        </div>\n        <div class='clear'></div>\n      </div>\n    </div>\n  </body>\n</html>\n", false, -5);@haml_buffer = @haml_buffer.upper;_erbout;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/sabman/Rails/projects/pakistan-map/pakistanmap/app/views/layouts/application.html.haml:27:in `compile!'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:61:in `compile'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:28:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/template.rb:194:in `render_template'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:260:in `render_without_haml'
/usr/local/lib/ruby/gems/1.8/gems/haml-2.0.9/lib/haml/helpers/action_view_mods.rb:14:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:347:in `_render_with_layout'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:257:in `render_without_haml'
/usr/local/lib/ruby/gems/1.8/gems/haml-2.0.9/lib/haml/helpers/action_view_mods.rb:14:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1241:in `render_for_file'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:937:in `render_without_benchmark'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1317:in `default_render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1323:in `perform_action_without_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:617:in `call_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/flash.rb:141:in `perform_action'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `send'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `process_without_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:606:in `sass_old_process'
/usr/local/lib/ruby/gems/1.8/gems/haml-2.0.9/lib/sass/plugin/rails.rb:19:in `process'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:391:in `process'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:386:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/routing/route_set.rb:433:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:88:in `dispatch'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:111:in `_call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:82:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:9:in `cache'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:28:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/head.rb:9:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/methodoverride.rb:24:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/params_parser.rb:15:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rewindable_input.rb:25:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/session/cookie_store.rb:93:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/reloader.rb:9:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/failsafe.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `synchronize'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:106:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/cgi_process.rb:44:in `dispatch_cgi'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:102:in `dispatch_cgi'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:28:in `dispatch'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:76:in `process'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `synchronize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `process'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:159:in `process_client'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:158:in `each'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:158:in `process_client'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:285:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:285:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:285:in `new'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:285:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:268:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:268:in `new'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:268:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/configurator.rb:282:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/configurator.rb:281:in `each'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/configurator.rb:281:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/command.rb:212:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
/usr/local/bin/mongrel_rails:19:in `load'
/usr/local/bin/mongrel_rails:19

ActionView::TemplateError (compile error
/Users/sabman/Rails/projects/pakistan-map/pakistanmap/app/views/layouts/application.html.haml:6: syntax error, unexpected ';', expecting ')') on line #6 of app/views/layouts/application.html.haml:
3:   %head
4:     %meta{ :content => "text/html; charset=utf-8", "http-equiv" => "Content-Type" }
5:     %title
6:       = h(yield(:title) || "Pakistan Refugee Crisis"
7:     = stylesheet_link_tag 'web_app_theme', "themes/kathleene/style"
8:   %body
9:     #container

    app/views/layouts/application.html.haml:27:in `compile!'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (204.6ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (internal_server_error)


Processing UserSessionsController#new (for 127.0.0.1 at 2009-05-15 23:16:37) [GET]
Rendering template within layouts/application
Rendering user_sessions/new
Rendered layouts/_header (5.7ms)
Completed in 295ms (View: 55, DB: 0) | 200 OK [http://localhost/user_sessions/new]


Processing UserSessionsController#new (for 127.0.0.1 at 2009-05-15 23:19:18) [GET]
Rendering template within layouts/application
Rendering user_sessions/new

ActionView::TemplateError (You don't need to use "- end" in Haml. Use indentation instead:
- if foo?
  %strong Foo!
- else
  Not foo.) on line #14 of app/views/user_sessions/new.html.haml:
11:   = f.password_field :password
12: %p
13:   = f.submit "Submit"
14: - end

    app/views/user_sessions/new.html.haml:14
    haml (2.0.9) lib/haml/precompiler.rb:206:in `process_line'
    haml (2.0.9) lib/haml/precompiler.rb:156:in `precompile'
    authlogic (2.0.11) lib/authlogic/session/password.rb:86:in `each_with_index'
    haml (2.0.9) lib/haml/precompiler.rb:122:in `each'
    haml (2.0.9) lib/haml/precompiler.rb:122:in `each_with_index'
    haml (2.0.9) lib/haml/precompiler.rb:122:in `precompile'
    haml (2.0.9) lib/haml/engine.rb:100:in `initialize'
    haml (2.0.9) lib/haml/template/plugin.rb:21:in `new'
    haml (2.0.9) lib/haml/template/plugin.rb:21:in `compile'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (363.8ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (internal_server_error)


Processing UserSessionsController#new (for 127.0.0.1 at 2009-05-15 23:19:31) [GET]
Rendering template within layouts/application
Rendering user_sessions/new
ERROR: compiling _run_haml_app47views47user_sessions47new46html46haml RAISED compile error
/Users/sabman/Rails/projects/pakistan-map/pakistanmap/app/views/user_sessions/new.html.haml:16: syntax error, unexpected kENSURE, expecting kEND
/Users/sabman/Rails/projects/pakistan-map/pakistanmap/app/views/user_sessions/new.html.haml:18: syntax error, unexpected $end, expecting kEND
Function body:           def _run_haml_app47views47user_sessions47new46html46haml(local_assigns)
            old_output_buffer = output_buffer;;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:format=>:xhtml, :attr_wrapper=>"'", :preserve=>["textarea", "pre"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :ugly=>false});_erbout = _hamlout.buffer;__in_erb_template = true;; title "Login";
 form_for @user_session do |f|;
haml_temp =  f.error_messages;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
_hamlout.push_text("<p>\n  ", false, 1);haml_temp =  f.label :username;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
_hamlout.push_text("  <br />\n  ");haml_temp =  f.text_field :username;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
_hamlout.push_text("</p>\n<p>\n  ");haml_temp =  f.label :password;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
_hamlout.push_text("  <br />\n  ");haml_temp =  f.password_field :password;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
_hamlout.push_text("</p>\n<p>\n  ");haml_temp =  f.submit "Submit";
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
_hamlout.push_text("</p>\n", false, -1);@haml_buffer = @haml_buffer.upper;_erbout;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/sabman/Rails/projects/pakistan-map/pakistanmap/app/views/user_sessions/new.html.haml:18:in `compile!'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:61:in `compile'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:28:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/template.rb:194:in `render_template'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:260:in `render_without_haml'
/usr/local/lib/ruby/gems/1.8/gems/haml-2.0.9/lib/haml/helpers/action_view_mods.rb:14:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:343:in `_render_with_layout'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:257:in `render_without_haml'
/usr/local/lib/ruby/gems/1.8/gems/haml-2.0.9/lib/haml/helpers/action_view_mods.rb:14:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1241:in `render_for_file'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:937:in `render_without_benchmark'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1317:in `default_render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1323:in `perform_action_without_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:617:in `call_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/flash.rb:141:in `perform_action'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `send'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `process_without_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:606:in `sass_old_process'
/usr/local/lib/ruby/gems/1.8/gems/haml-2.0.9/lib/sass/plugin/rails.rb:19:in `process'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:391:in `process'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:386:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/routing/route_set.rb:433:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:88:in `dispatch'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:111:in `_call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:82:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:9:in `cache'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:28:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/head.rb:9:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/methodoverride.rb:24:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/params_parser.rb:15:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rewindable_input.rb:25:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/session/cookie_store.rb:93:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/reloader.rb:9:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/failsafe.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `synchronize'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:106:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/cgi_process.rb:44:in `dispatch_cgi'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:102:in `dispatch_cgi'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:28:in `dispatch'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:76:in `process'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `synchronize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `process'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:159:in `process_client'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:158:in `each'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:158:in `process_client'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:285:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:285:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:285:in `new'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:285:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:268:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:268:in `new'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:268:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/configurator.rb:282:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/configurator.rb:281:in `each'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/configurator.rb:281:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/command.rb:212:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
/usr/local/bin/mongrel_rails:19:in `load'
/usr/local/bin/mongrel_rails:19

ActionView::TemplateError (compile error
/Users/sabman/Rails/projects/pakistan-map/pakistanmap/app/views/user_sessions/new.html.haml:16: syntax error, unexpected kENSURE, expecting kEND
/Users/sabman/Rails/projects/pakistan-map/pakistanmap/app/views/user_sessions/new.html.haml:18: syntax error, unexpected $end, expecting kEND) on line #16 of app/views/user_sessions/new.html.haml:
13:   = f.submit "Submit"

    app/views/user_sessions/new.html.haml:18:in `compile!'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (195.4ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing UserSessionsController#new (for 127.0.0.1 at 2009-05-15 23:19:50) [GET]
Rendering template within layouts/application
Rendering user_sessions/new
Rendered layouts/_header (6.3ms)
Completed in 163ms (View: 74, DB: 0) | 200 OK [http://localhost/user_sessions/new]


Processing UserSessionsController#new (for 127.0.0.1 at 2009-05-15 23:21:25) [GET]
Rendering template within layouts/application
Rendering user_sessions/new
Rendered layouts/_header (5.1ms)
Completed in 132ms (View: 36, DB: 0) | 200 OK [http://localhost/user_sessions/new]


Processing UsersController#new (for 127.0.0.1 at 2009-05-15 23:21:42) [GET]
Rendering template within layouts/application
Rendering users/new
Rendered layouts/_header (1.6ms)
Completed in 138ms (View: 44, DB: 0) | 200 OK [http://localhost/users/new]


Processing UserSessionsController#new (for 127.0.0.1 at 2009-05-15 23:21:54) [GET]
Rendering template within layouts/application
Rendering user_sessions/new
Rendered layouts/_header (3.8ms)
Completed in 122ms (View: 30, DB: 0) | 200 OK [http://localhost/user_sessions/new]


Processing UserSessionsController#new (for 127.0.0.1 at 2009-05-15 23:22:15) [GET]
Rendering template within layouts/application
Rendering user_sessions/new
Rendered layouts/_header (8.0ms)
Completed in 141ms (View: 44, DB: 0) | 200 OK [http://localhost/user_sessions/new]


Processing UserSessionsController#new (for 127.0.0.1 at 2009-05-15 23:22:21) [GET]
Rendering template within layouts/application
Rendering user_sessions/new
Rendered layouts/_header (4.8ms)
Completed in 132ms (View: 40, DB: 0) | 200 OK [http://localhost/user_sessions/new]


Processing UserSessionsController#new (for 127.0.0.1 at 2009-05-15 23:22:31) [GET]
Rendering template within layouts/application
Rendering user_sessions/new
Rendered layouts/_header (4.8ms)
Completed in 122ms (View: 35, DB: 0) | 200 OK [http://localhost/user_sessions/new]


Processing UsersController#new (for 127.0.0.1 at 2009-05-15 23:22:36) [GET]
Rendering template within layouts/application
Rendering users/new
Rendered layouts/_header (1.0ms)
Completed in 116ms (View: 28, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#new (for 127.0.0.1 at 2009-05-15 23:23:19) [GET]
Rendering template within layouts/application
Rendering users/new

ActionView::TemplateError (You don't need to use "- end" in Haml. Use indentation instead:
- if foo?
  %strong Foo!
- else
  Not foo.) on line #26 of app/views/users/new.html.haml:
23:   = f.password_field :password_confirmation
24: %p
25:   = f.submit "Sign up"
26: - end

    app/views/users/new.html.haml:26
    haml (2.0.9) lib/haml/precompiler.rb:206:in `process_line'
    haml (2.0.9) lib/haml/precompiler.rb:156:in `precompile'
    haml (2.0.9) lib/haml/precompiler.rb:122:in `each'
    haml (2.0.9) lib/haml/precompiler.rb:122:in `each_with_index'
    haml (2.0.9) lib/haml/precompiler.rb:122:in `precompile'
    haml (2.0.9) lib/haml/engine.rb:100:in `initialize'
    haml (2.0.9) lib/haml/template/plugin.rb:21:in `new'
    haml (2.0.9) lib/haml/template/plugin.rb:21:in `compile'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (203.8ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#new (for 127.0.0.1 at 2009-05-15 23:23:52) [GET]
Rendering template within layouts/application
Rendering users/new
Rendered layouts/_header (1.5ms)
Completed in 132ms (View: 42, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#new (for 127.0.0.1 at 2009-05-15 23:24:30) [GET]
Rendering template within layouts/application
Rendering users/new
Rendered layouts/_header (0.8ms)
Completed in 140ms (View: 46, DB: 0) | 200 OK [http://localhost/users/new]


Processing UserSessionsController#new (for 127.0.0.1 at 2009-05-15 23:24:35) [GET]
Rendering template within layouts/application
Rendering user_sessions/new
Rendered layouts/_header (4.1ms)
Completed in 110ms (View: 29, DB: 0) | 200 OK [http://localhost/login]


Processing UsersController#new (for 127.0.0.1 at 2009-05-15 23:24:39) [GET]
Rendering template within layouts/application
Rendering users/new
Rendered layouts/_header (0.9ms)
Completed in 104ms (View: 23, DB: 0) | 200 OK [http://localhost/users/new]


Processing UserSessionsController#new (for 127.0.0.1 at 2009-05-15 23:24:41) [GET]
Rendering template within layouts/application
Rendering user_sessions/new
Rendered layouts/_header (5.3ms)
Completed in 122ms (View: 24, DB: 0) | 200 OK [http://localhost/login]


Processing UserSessionsController#new (for 127.0.0.1 at 2009-05-15 23:24:49) [GET]
Rendering template within layouts/application
Rendering user_sessions/new
Rendered layouts/_header (4.3ms)
Completed in 153ms (View: 39, DB: 0) | 200 OK [http://localhost/login]


Processing UserSessionsController#create (for 127.0.0.1 at 2009-05-16 00:32:08) [POST]
  Parameters: {"commit"=>"Submit", "user_session"=>{"username"=>"shoaib", "password"=>"abc123"}, "authenticity_token"=>"Jmz7YsdZ6NaldNM7H6cmB9w+YuMMZ3I258eTk9GadP8="}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE (LOWER("users".username) = 'shoaib') LIMIT 1[0m
Rendering template within layouts/application
Rendering user_sessions/new
Rendered layouts/_header (4.0ms)
Completed in 119ms (View: 20, DB: 0) | 200 OK [http://localhost/user_sessions]


Processing UsersController#new (for 127.0.0.1 at 2009-05-16 00:32:13) [GET]
Rendering template within layouts/application
Rendering users/new
Rendered layouts/_header (0.9ms)
Completed in 131ms (View: 27, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-05-16 00:32:38) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"abc123", "username"=>"shoaib", "password"=>"abc123", "email"=>"saburq@gmail.com"}, "commit"=>"Sign up", "authenticity_token"=>"Jmz7YsdZ6NaldNM7H6cmB9w+YuMMZ3I258eTk9GadP8="}
  [4;35;1mUser Exists (0.7ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'saburq@gmail.com') LIMIT 1[0m
  [4;36;1mUser Exists (0.5ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."username") = 'shoaib') LIMIT 1[0m
  [4;35;1mUser Exists (0.6ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = 'c2af47463b54720f4c67b2b16af9f2b0cfb235e2b9bc6541fd84571ac0fc99de0790ca4048deb05c1a52961d2938a1498c08ad9aaf5307486e8678d4f066291b') LIMIT 1[0m
  [4;36;1mUser Create (0.7ms)[0m   [0;1mINSERT INTO "users" ("updated_at", "crypted_password", "username", "password_salt", "admin", "persistence_token", "email", "created_at") VALUES('2009-05-15 14:32:39', '98929c441cac65ecde206069920bf54aaea885a81ff9bf7463a0690009c51c2e86b22df6e689c4e4137c8fd382f0c32342b777d7300b1f1baa4ff8e07994a03a', 'shoaib', 'mltySX1W8qmdH07M8pIQ', NULL, 'c2af47463b54720f4c67b2b16af9f2b0cfb235e2b9bc6541fd84571ac0fc99de0790ca4048deb05c1a52961d2938a1498c08ad9aaf5307486e8678d4f066291b', 'saburq@gmail.com', '2009-05-15 14:32:39')[0m
Redirected to http://localhost:3000/stories/new
Completed in 612ms (DB: 3) | 302 Found [http://localhost/users]


Processing StoriesController#new (for 127.0.0.1 at 2009-05-16 00:32:39) [GET]
  [4;35;1mUser Load (1.7ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'c2af47463b54720f4c67b2b16af9f2b0cfb235e2b9bc6541fd84571ac0fc99de0790ca4048deb05c1a52961d2938a1498c08ad9aaf5307486e8678d4f066291b') LIMIT 1[0m
Rendering template within layouts/application
Rendering stories/new
Rendered stories/_form (20.9ms)
Rendered layouts/_header (1.9ms)
Completed in 374ms (View: 236, DB: 2) | 200 OK [http://localhost/stories/new]


Processing UserSessionsController#destroy (for 127.0.0.1 at 2009-05-16 00:32:44) [GET]
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'c2af47463b54720f4c67b2b16af9f2b0cfb235e2b9bc6541fd84571ac0fc99de0790ca4048deb05c1a52961d2938a1498c08ad9aaf5307486e8678d4f066291b') LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 112ms (DB: 2) | 302 Found [http://localhost/logout]


Processing StoriesController#index (for 127.0.0.1 at 2009-05-16 00:32:45) [GET]
  [4;35;1mStory Load (0.9ms)[0m   [0mSELECT * FROM "stories" [0m
Rendering template within layouts/application
Rendering stories/index
Rendered layouts/_header (79.7ms)
Completed in 137ms (View: 86, DB: 1) | 200 OK [http://localhost/]


Processing StoriesController#new (for 127.0.0.1 at 2009-05-16 00:32:49) [GET]
Redirected to http://localhost:3000/user_sessions/new
Filter chain halted as [:require_user] rendered_or_redirected.
Completed in 78ms (DB: 0) | 302 Found [http://localhost/stories/new]


Processing UserSessionsController#new (for 127.0.0.1 at 2009-05-16 00:32:50) [GET]
Rendering template within layouts/application
Rendering user_sessions/new
Rendered layouts/_header (4.5ms)
Completed in 110ms (View: 23, DB: 0) | 200 OK [http://localhost/user_sessions/new]


Processing UserSessionsController#create (for 127.0.0.1 at 2009-05-16 00:33:03) [POST]
  Parameters: {"commit"=>"Submit", "user_session"=>{"username"=>"shoaib", "password"=>"abc123"}, "authenticity_token"=>"Jmz7YsdZ6NaldNM7H6cmB9w+YuMMZ3I258eTk9GadP8="}
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM "users" WHERE (LOWER("users".username) = 'shoaib') LIMIT 1[0m
Redirected to http://localhost:3000/stories/new
Completed in 284ms (DB: 2) | 302 Found [http://localhost/user_sessions]


Processing StoriesController#new (for 127.0.0.1 at 2009-05-16 00:33:03) [GET]
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendering template within layouts/application
Rendering stories/new
Rendered stories/_form (12.8ms)
Rendered layouts/_header (4.1ms)
Completed in 167ms (View: 26, DB: 1) | 200 OK [http://localhost/stories/new]


Processing UserSessionsController#destroy (for 127.0.0.1 at 2009-05-16 00:38:45) [GET]
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 127ms (DB: 1) | 302 Found [http://localhost/logout]


Processing UserSessionsController#destroy (for 127.0.0.1 at 2009-05-16 00:38:46) [GET]
  [4;35;1mUser Load (2.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 123ms (DB: 2) | 302 Found [http://localhost/logout]


Processing StoriesController#index (for 127.0.0.1 at 2009-05-16 00:38:46) [GET]
  [4;36;1mStory Load (2.2ms)[0m   [0;1mSELECT * FROM "stories" [0m
Rendering template within layouts/application
Rendering stories/index
Rendered layouts/_header (78.2ms)
Completed in 132ms (View: 85, DB: 2) | 200 OK [http://localhost/]


Processing UserSessionsController#new (for 127.0.0.1 at 2009-05-16 00:38:49) [GET]
Rendering template within layouts/application
Rendering user_sessions/new
Rendered layouts/_header (6.1ms)
Completed in 110ms (View: 20, DB: 0) | 200 OK [http://localhost/login]


Processing UserSessionsController#new (for 127.0.0.1 at 2009-05-16 00:39:27) [GET]
Rendering template within layouts/application
Rendering user_sessions/new
Rendered layouts/_header (4.7ms)
Completed in 105ms (View: 19, DB: 0) | 200 OK [http://localhost/login]


Processing UserSessionsController#new (for 127.0.0.1 at 2009-05-16 00:39:55) [GET]
Rendering template within layouts/application
Rendering user_sessions/new
Rendered layouts/_header (8.2ms)
Completed in 142ms (View: 34, DB: 0) | 200 OK [http://localhost/login]


Processing UserSessionsController#new (for 127.0.0.1 at 2009-05-16 00:40:52) [GET]
Rendering template within layouts/application
Rendering user_sessions/new
Rendered layouts/_header (4.6ms)
Completed in 117ms (View: 32, DB: 0) | 200 OK [http://localhost/login]
  [4;36;1mSQL (19.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.6ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20090509030350)
Migrating to CreateStories (20090509095110)
Migrating to ActsAsCommentableWithThreadingMigration (20090514113916)
Migrating to AddAttachmentsPhotoToStory (20090515151409)
  [4;36;1mSQL (0.8ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (24.1ms)[0m   [0mALTER TABLE "stories" ADD "Photo_file_name" varchar(255)[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mALTER TABLE "stories" ADD "Photo_content_type" varchar(255)[0m
  [4;35;1mSQL (0.8ms)[0m   [0mALTER TABLE "stories" ADD "Photo_file_size" integer[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mALTER TABLE "stories" ADD "Photo_updated_at" datetime[0m
  [4;35;1mSQL (0.6ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090515151409')[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.9ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.9ms)[0m   [0mPRAGMA index_list("comments")[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mPRAGMA index_info('index_comments_on_commentable_id')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mPRAGMA index_info('index_comments_on_user_id')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("stories")[0m
  [4;35;1mSQL (0.3ms)[0m   [0mPRAGMA index_list("users")[0m


Processing UserSessionsController#create (for 127.0.0.1 at 2009-05-16 01:18:19) [POST]
  Parameters: {"commit"=>"Sign in", "user_session"=>{"username"=>"shoaib", "password"=>"abc123"}, "authenticity_token"=>"Jmz7YsdZ6NaldNM7H6cmB9w+YuMMZ3I258eTk9GadP8="}
  [4;35;1mUser Load (181.4ms)[0m   [0mSELECT * FROM "users" WHERE (LOWER("users".username) = 'shoaib') LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 288ms (DB: 181) | 302 Found [http://localhost/user_sessions]


Processing StoriesController#index (for 127.0.0.1 at 2009-05-16 01:18:20) [GET]
  [4;36;1mSQL (1.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (2.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `has_attached_file' for #<Class:0x394f928>):
  app/models/story.rb:4
  app/controllers/stories_controller.rb:5:in `index'
  haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (199.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing StoriesController#index (for 127.0.0.1 at 2009-05-16 01:19:02) [GET]
  [4;36;1mSQL (1.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `has_attached_file' for #<Class:0x215d7fc>):
  app/models/story.rb:4
  app/controllers/stories_controller.rb:5:in `index'
  haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (200.8ms)
Rendered rescues/_request_and_response (10.0ms)
Rendering rescues/layout (internal_server_error)


Processing StoriesController#index (for 127.0.0.1 at 2009-05-16 01:20:52) [GET]
  [4;36;1mStory Load (0.9ms)[0m   [0;1mSELECT * FROM "stories" [0m
Rendering template within layouts/application
Rendering stories/index
  [4;35;1mUser Load (1.7ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendered layouts/_header (106.5ms)
Completed in 242ms (View: 188, DB: 3) | 200 OK [http://localhost/]


Processing StoriesController#new (for 127.0.0.1 at 2009-05-16 01:20:56) [GET]
  [4;36;1mUser Load (2.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendering template within layouts/application
Rendering stories/new
Rendered stories/_form (25.3ms)
Rendered layouts/_header (3.4ms)
Completed in 367ms (View: 55, DB: 2) | 200 OK [http://localhost/stories/new]


Processing StoriesController#create (for 127.0.0.1 at 2009-05-16 01:21:38) [POST]
  Parameters: {"commit"=>"Submit", "story"=>{"photo"=>#<File:/var/folders/9A/9ADmI6fOH7WcKgZ5MU8YEk+++TI/-Tmp-/RackMultipart.9879.1>, "public"=>"1", "body"=>"Blah", "title"=>"Fire"}, "authenticity_token"=>"Jmz7YsdZ6NaldNM7H6cmB9w+YuMMZ3I258eTk9GadP8="}

Paperclip::PaperclipError (Story model does not have required column 'photo_file_name'):
  /usr/local/lib/ruby/gems/1.8/gems/thoughtbot-paperclip-2.2.8/lib/paperclip/attachment.rb:65:in `assign'
  /usr/local/lib/ruby/gems/1.8/gems/thoughtbot-paperclip-2.2.8/lib/paperclip/attachment.rb:63:in `each'
  /usr/local/lib/ruby/gems/1.8/gems/thoughtbot-paperclip-2.2.8/lib/paperclip/attachment.rb:63:in `assign'
  /usr/local/lib/ruby/gems/1.8/gems/thoughtbot-paperclip-2.2.8/lib/paperclip.rb:204:in `photo='
  app/controllers/stories_controller.rb:17:in `new'
  app/controllers/stories_controller.rb:17:in `create'
  haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (329.9ms)
Rendered rescues/_request_and_response (5.1ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (1.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20090509030350)
Migrating to CreateStories (20090509095110)
Migrating to ActsAsCommentableWithThreadingMigration (20090514113916)
Migrating to AddAttachmentsPhotoToStory (20090515151409)
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mPRAGMA index_list("comments")[0m
  [4;35;1mSQL (1.2ms)[0m   [0mPRAGMA index_info('index_comments_on_commentable_id')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mPRAGMA index_info('index_comments_on_user_id')[0m
  [4;35;1mSQL (0.3ms)[0m   [0mPRAGMA index_list("stories")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.9ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.9ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddAttachmentsPhotoToStory (20090515151409)
  [4;36;1mSQL (0.4ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.4ms)[0m   [0mCREATE TEMPORARY TABLE "altered_stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "user_id" integer, "created_at" datetime, "updated_at" datetime, "Photo_file_name" varchar(255), "Photo_content_type" varchar(255), "Photo_file_size" integer, "Photo_updated_at" datetime) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("stories")[0m
  [4;35;1mSQL (1.7ms)[0m   [0mDROP TABLE "stories"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "user_id" integer, "created_at" datetime, "updated_at" datetime, "Photo_file_name" varchar(255), "Photo_content_type" varchar(255), "Photo_file_size" integer, "Photo_updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mPRAGMA index_list("altered_stories")[0m
  [4;36;1mSQL (2.8ms)[0m   [0;1mDROP TABLE "altered_stories"[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TEMPORARY TABLE "altered_stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "user_id" integer, "created_at" datetime, "updated_at" datetime, "Photo_file_name" varchar(255), "Photo_content_type" varchar(255), "Photo_file_size" integer, "Photo_updated_at" datetime) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("stories")[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP TABLE "stories"[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "user_id" integer, "created_at" datetime, "updated_at" datetime, "Photo_file_name" varchar(255), "Photo_content_type" varchar(255), "Photo_file_size" integer, "Photo_updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mPRAGMA index_list("altered_stories")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDROP TABLE "altered_stories"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCREATE TEMPORARY TABLE "altered_stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "user_id" integer, "created_at" datetime, "updated_at" datetime, "Photo_file_name" varchar(255), "Photo_content_type" varchar(255), "Photo_file_size" integer, "Photo_updated_at" datetime) [0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mPRAGMA index_list("stories")[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP TABLE "stories"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "user_id" integer, "created_at" datetime, "updated_at" datetime, "Photo_file_name" varchar(255), "Photo_content_type" varchar(255), "Photo_file_size" integer, "Photo_updated_at" datetime) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("altered_stories")[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mDROP TABLE "altered_stories"[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCREATE TEMPORARY TABLE "altered_stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "user_id" integer, "created_at" datetime, "updated_at" datetime, "Photo_file_name" varchar(255), "Photo_content_type" varchar(255), "Photo_file_size" integer, "Photo_updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mPRAGMA index_list("stories")[0m
  [4;35;1mSQL (0.7ms)[0m   [0mDROP TABLE "stories"[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "user_id" integer, "created_at" datetime, "updated_at" datetime, "Photo_file_name" varchar(255), "Photo_content_type" varchar(255), "Photo_file_size" integer, "Photo_updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mPRAGMA index_list("altered_stories")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDROP TABLE "altered_stories"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20090515151409'[0m
Migrating to ActsAsCommentableWithThreadingMigration (20090514113916)
  [4;36;1mSQL (1.2ms)[0m   [0;1mDROP TABLE "comments"[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20090514113916'[0m
Migrating to CreateStories (20090509095110)
  [4;36;1mSQL (3.2ms)[0m   [0;1mDROP TABLE "stories"[0m
  [4;35;1mSQL (0.6ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20090509095110'[0m
Migrating to CreateUsers (20090509030350)
  [4;36;1mSQL (1.0ms)[0m   [0;1mDROP TABLE "users"[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20090509030350'[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20090509030350)
  [4;36;1mSQL (0.9ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "persistence_token" varchar(255), "admin" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090509030350')[0m
Migrating to CreateStories (20090509095110)
  [4;35;1mSQL (1.0ms)[0m   [0mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090509095110')[0m
Migrating to ActsAsCommentableWithThreadingMigration (20090514113916)
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCREATE TABLE "comments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "commentable_id" integer DEFAULT 0, "commentable_type" varchar(15) DEFAULT '', "title" varchar(255) DEFAULT '', "body" text DEFAULT '', "subject" varchar(255) DEFAULT '', "user_id" integer DEFAULT 0 NOT NULL, "parent_id" integer, "lft" integer, "rgt" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mCREATE INDEX "index_comments_on_user_id" ON "comments" ("user_id")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE INDEX "index_comments_on_commentable_id" ON "comments" ("commentable_id")[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090514113916')[0m
Migrating to AddAttachmentsPhotoToStory (20090515151409)
  [4;36;1mSQL (0.9ms)[0m   [0;1mALTER TABLE "stories" ADD "photo_file_name" varchar(255)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mALTER TABLE "stories" ADD "photo_content_type" varchar(255)[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mALTER TABLE "stories" ADD "photo_file_size" integer[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "stories" ADD "photo_updated_at" datetime[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090515151409')[0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (1.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mPRAGMA index_list("comments")[0m
  [4;35;1mSQL (0.7ms)[0m   [0mPRAGMA index_info('index_comments_on_commentable_id')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mPRAGMA index_info('index_comments_on_user_id')[0m
  [4;35;1mSQL (0.3ms)[0m   [0mPRAGMA index_list("stories")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("users")[0m


Processing UserSessionsController#new (for 127.0.0.1 at 2009-05-16 01:25:05) [GET]
Rendering template within layouts/application
Rendering user_sessions/new
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendered layouts/_header (100.8ms)
Completed in 264ms (View: 163, DB: 1) | 200 OK [http://localhost/login]


Processing UsersController#new (for 127.0.0.1 at 2009-05-16 01:25:10) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Rendered layouts/_header (1.1ms)
Completed in 310ms (View: 57, DB: 1) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-05-16 01:25:20) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"abc123", "username"=>"shoaib", "password"=>"abc123", "email"=>"saburq@gmail.com"}, "commit"=>"Sign up", "authenticity_token"=>"Jmz7YsdZ6NaldNM7H6cmB9w+YuMMZ3I258eTk9GadP8="}
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (5.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mUser Exists (0.9ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'saburq@gmail.com') LIMIT 1[0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."username") = 'shoaib') LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = '3422d7ea8d8929abf0410c0f999a3f0c6c052f059894f5043b8f950947d28ea771c2eddeccdba846169ba0cb23e7b3efe60c203e9a4b10b7cd7a6122d07681f9') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mUser Create (0.8ms)[0m   [0mINSERT INTO "users" ("updated_at", "crypted_password", "username", "password_salt", "admin", "persistence_token", "email", "created_at") VALUES('2009-05-15 15:25:20', '0ce47738fc7149994951a442e77698d1e46bb1534952668529f52ecdcea87be4bdcba256bdfb0efd5f8145349f2ae2c83f6bf40fbf11e2c32c6011cada1eab1a', 'shoaib', '-ITooolOYD6MKvr9LT_b', NULL, '3422d7ea8d8929abf0410c0f999a3f0c6c052f059894f5043b8f950947d28ea771c2eddeccdba846169ba0cb23e7b3efe60c203e9a4b10b7cd7a6122d07681f9', 'saburq@gmail.com', '2009-05-15 15:25:20')[0m
Redirected to http://localhost:3000/account
Completed in 687ms (DB: 9) | 302 Found [http://localhost/users]


Processing UsersController#show (for 127.0.0.1 at 2009-05-16 01:25:21) [GET]
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '3422d7ea8d8929abf0410c0f999a3f0c6c052f059894f5043b8f950947d28ea771c2eddeccdba846169ba0cb23e7b3efe60c203e9a4b10b7cd7a6122d07681f9') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/show
Rendered layouts/_header (6.4ms)
Completed in 165ms (View: 33, DB: 1) | 200 OK [http://localhost/account]


Processing StoriesController#new (for 127.0.0.1 at 2009-05-16 01:25:25) [GET]
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '3422d7ea8d8929abf0410c0f999a3f0c6c052f059894f5043b8f950947d28ea771c2eddeccdba846169ba0cb23e7b3efe60c203e9a4b10b7cd7a6122d07681f9') LIMIT 1[0m
Rendering template within layouts/application
Rendering stories/new
Rendered stories/_form (28.0ms)
Rendered layouts/_header (1.8ms)
Completed in 219ms (View: 59, DB: 2) | 200 OK [http://localhost/stories/new]


Processing StoriesController#create (for 127.0.0.1 at 2009-05-16 01:25:38) [POST]
  Parameters: {"commit"=>"Submit", "story"=>{"photo"=>#<File:/var/folders/9A/9ADmI6fOH7WcKgZ5MU8YEk+++TI/-Tmp-/RackMultipart.9938.1>, "public"=>"0", "body"=>"bla", "title"=>"Fire"}, "authenticity_token"=>"Jmz7YsdZ6NaldNM7H6cmB9w+YuMMZ3I258eTk9GadP8="}
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '3422d7ea8d8929abf0410c0f999a3f0c6c052f059894f5043b8f950947d28ea771c2eddeccdba846169ba0cb23e7b3efe60c203e9a4b10b7cd7a6122d07681f9') LIMIT 1[0m
  [4;35;1mStory Create (0.7ms)[0m   [0mINSERT INTO "stories" ("updated_at", "photo_file_name", "photo_file_size", "title", "body", "public", "photo_updated_at", "photo_content_type", "user_id", "created_at") VALUES('2009-05-15 15:25:39', 'Nomad_1.jpg', 294384, 'Fire', 'bla', 'f', '2009-05-15 15:25:38', 'image/jpeg', 1, '2009-05-15 15:25:39')[0m
[paperclip] Saving attachments.
[paperclip] saving /Users/sabman/Rails/projects/pakistan-map/pakistanmap/public/system/photos/1/original/Nomad_1.jpg
Redirected to http://localhost:3000/stories/1
Completed in 975ms (DB: 2) | 302 Found [http://localhost/stories]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 01:25:39) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (1.7ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '3422d7ea8d8929abf0410c0f999a3f0c6c052f059894f5043b8f950947d28ea771c2eddeccdba846169ba0cb23e7b3efe60c203e9a4b10b7cd7a6122d07681f9') LIMIT 1[0m
Rendered layouts/_header (97.5ms)
Completed in 189ms (View: 128, DB: 3) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 01:25:57) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (1.6ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '3422d7ea8d8929abf0410c0f999a3f0c6c052f059894f5043b8f950947d28ea771c2eddeccdba846169ba0cb23e7b3efe60c203e9a4b10b7cd7a6122d07681f9') LIMIT 1[0m
Rendered layouts/_header (294.5ms)
Completed in 400ms (View: 330, DB: 3) | 200 OK [http://localhost/stories/1]


Processing StoriesController#destroy (for 127.0.0.1 at 2009-05-16 01:27:32) [DELETE]
  Parameters: {"authenticity_token"=>"Jmz7YsdZ6NaldNM7H6cmB9w+YuMMZ3I258eTk9GadP8=", "id"=>"1"}
  [4;36;1mStory Load (2.3ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
  [4;35;1mComment Load (1.9ms)[0m   [0mSELECT * FROM "comments" WHERE ("comments".commentable_id = 1 AND "comments".commentable_type = 'Story') ORDER BY created_at ASC[0m
[paperclip] Deleting attachments.
[paperclip] deleting /Users/sabman/Rails/projects/pakistan-map/pakistanmap/public/system/photos/1/original/Nomad_1.jpg
  [4;36;1mStory Destroy (0.6ms)[0m   [0;1mDELETE FROM "stories" WHERE "id" = 1[0m
Redirected to http://localhost:3000/stories
Completed in 127ms (DB: 5) | 302 Found [http://localhost/stories/1]


Processing StoriesController#index (for 127.0.0.1 at 2009-05-16 01:27:32) [GET]
  [4;35;1mStory Load (0.8ms)[0m   [0mSELECT * FROM "stories" [0m
Rendering template within layouts/application
Rendering stories/index
  [4;36;1mUser Load (2.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '3422d7ea8d8929abf0410c0f999a3f0c6c052f059894f5043b8f950947d28ea771c2eddeccdba846169ba0cb23e7b3efe60c203e9a4b10b7cd7a6122d07681f9') LIMIT 1[0m
Rendered layouts/_header (104.8ms)
Completed in 173ms (View: 128, DB: 3) | 200 OK [http://localhost/stories]


Processing StoriesController#new (for 127.0.0.1 at 2009-05-16 01:27:35) [GET]
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '3422d7ea8d8929abf0410c0f999a3f0c6c052f059894f5043b8f950947d28ea771c2eddeccdba846169ba0cb23e7b3efe60c203e9a4b10b7cd7a6122d07681f9') LIMIT 1[0m
Rendering template within layouts/application
Rendering stories/new
Rendered stories/_form (29.9ms)
Rendered layouts/_header (1.7ms)
Completed in 204ms (View: 40, DB: 1) | 200 OK [http://localhost/stories/new]


Processing StoriesController#create (for 127.0.0.1 at 2009-05-16 01:28:10) [POST]
  Parameters: {"commit"=>"Submit", "story"=>{"photo"=>#<File:/var/folders/9A/9ADmI6fOH7WcKgZ5MU8YEk+++TI/-Tmp-/RackMultipart.9938.2>, "public"=>"0", "body"=>"Blah", "title"=>"Fire"}, "authenticity_token"=>"Jmz7YsdZ6NaldNM7H6cmB9w+YuMMZ3I258eTk9GadP8="}
  [4;36;1mUser Load (1.7ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '3422d7ea8d8929abf0410c0f999a3f0c6c052f059894f5043b8f950947d28ea771c2eddeccdba846169ba0cb23e7b3efe60c203e9a4b10b7cd7a6122d07681f9') LIMIT 1[0m
  [4;35;1mStory Create (161.7ms)[0m   [0mINSERT INTO "stories" ("updated_at", "photo_file_name", "photo_file_size", "title", "body", "public", "photo_updated_at", "photo_content_type", "user_id", "created_at") VALUES('2009-05-15 15:28:12', 'Nomad_1_tag.jpg', 71283, 'Fire', 'Blah', 'f', '2009-05-15 15:28:10', 'image/jpeg', 1, '2009-05-15 15:28:12')[0m
[paperclip] Saving attachments.
[paperclip] saving /Users/sabman/Rails/projects/pakistan-map/pakistanmap/public/system/photos/2/small/Nomad_1_tag.jpg
[paperclip] saving /Users/sabman/Rails/projects/pakistan-map/pakistanmap/public/system/photos/2/original/Nomad_1_tag.jpg
Redirected to http://localhost:3000/stories/2
Completed in 2461ms (DB: 163) | 302 Found [http://localhost/stories]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 01:28:13) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mStory Load (1.7ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 2) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '3422d7ea8d8929abf0410c0f999a3f0c6c052f059894f5043b8f950947d28ea771c2eddeccdba846169ba0cb23e7b3efe60c203e9a4b10b7cd7a6122d07681f9') LIMIT 1[0m
Rendered layouts/_header (110.1ms)
Completed in 224ms (View: 150, DB: 3) | 200 OK [http://localhost/stories/2]


Processing StoriesController#index (for 127.0.0.1 at 2009-05-16 01:28:36) [GET]
  [4;36;1mStory Load (2.4ms)[0m   [0;1mSELECT * FROM "stories" [0m
Rendering template within layouts/application
Rendering stories/index
  [4;35;1mUser Load (2.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '3422d7ea8d8929abf0410c0f999a3f0c6c052f059894f5043b8f950947d28ea771c2eddeccdba846169ba0cb23e7b3efe60c203e9a4b10b7cd7a6122d07681f9') LIMIT 1[0m
Rendered layouts/_header (323.2ms)
Completed in 421ms (View: 353, DB: 5) | 200 OK [http://localhost/stories]


Processing StoriesController#index (for 127.0.0.1 at 2009-05-16 01:28:41) [GET]
  [4;36;1mStory Load (1.8ms)[0m   [0;1mSELECT * FROM "stories" [0m
Rendering template within layouts/application
Rendering stories/index
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '3422d7ea8d8929abf0410c0f999a3f0c6c052f059894f5043b8f950947d28ea771c2eddeccdba846169ba0cb23e7b3efe60c203e9a4b10b7cd7a6122d07681f9') LIMIT 1[0m
Rendered layouts/_header (105.7ms)
Completed in 190ms (View: 141, DB: 3) | 200 OK [http://localhost/]


Processing StoriesController#index (for 127.0.0.1 at 2009-05-16 01:28:46) [GET]
  [4;36;1mStory Load (1.9ms)[0m   [0;1mSELECT * FROM "stories" [0m
Rendering template within layouts/application
Rendering stories/index
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '3422d7ea8d8929abf0410c0f999a3f0c6c052f059894f5043b8f950947d28ea771c2eddeccdba846169ba0cb23e7b3efe60c203e9a4b10b7cd7a6122d07681f9') LIMIT 1[0m
Rendered layouts/_header (101.9ms)
Completed in 195ms (View: 147, DB: 3) | 200 OK [http://localhost/]


Processing StoriesController#index (for 127.0.0.1 at 2009-05-16 01:28:48) [GET]
  [4;36;1mStory Load (1.9ms)[0m   [0;1mSELECT * FROM "stories" [0m
Rendering template within layouts/application
Rendering stories/index
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '3422d7ea8d8929abf0410c0f999a3f0c6c052f059894f5043b8f950947d28ea771c2eddeccdba846169ba0cb23e7b3efe60c203e9a4b10b7cd7a6122d07681f9') LIMIT 1[0m
Rendered layouts/_header (103.3ms)
Completed in 195ms (View: 133, DB: 3) | 200 OK [http://localhost/]


Processing StoriesController#index (for 127.0.0.1 at 2009-05-16 01:28:57) [GET]
  [4;36;1mStory Load (3.0ms)[0m   [0;1mSELECT * FROM "stories" [0m
Rendering template within layouts/application
Rendering stories/index
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '3422d7ea8d8929abf0410c0f999a3f0c6c052f059894f5043b8f950947d28ea771c2eddeccdba846169ba0cb23e7b3efe60c203e9a4b10b7cd7a6122d07681f9') LIMIT 1[0m
Rendered layouts/_header (105.1ms)
Completed in 194ms (View: 141, DB: 5) | 200 OK [http://localhost/]


Processing StoriesController#new (for 127.0.0.1 at 2009-05-16 01:35:17) [GET]
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '3422d7ea8d8929abf0410c0f999a3f0c6c052f059894f5043b8f950947d28ea771c2eddeccdba846169ba0cb23e7b3efe60c203e9a4b10b7cd7a6122d07681f9') LIMIT 1[0m

SyntaxError (/Users/sabman/Rails/projects/pakistan-map/pakistanmap/app/models/story.rb:10: syntax error, unexpected ',', expecting tCOLON2 or '[' or '.'
  validates_attachment_content_type, :photo, :content_type => ['image/jpeg', 'image/png', 'image/gif']
                                            ^):
  app/controllers/stories_controller.rb:13:in `new'
  haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (196.0ms)
Rendered rescues/_request_and_response (4.7ms)
Rendering rescues/layout (internal_server_error)


Processing StoriesController#new (for 127.0.0.1 at 2009-05-16 01:35:28) [GET]
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '3422d7ea8d8929abf0410c0f999a3f0c6c052f059894f5043b8f950947d28ea771c2eddeccdba846169ba0cb23e7b3efe60c203e9a4b10b7cd7a6122d07681f9') LIMIT 1[0m
Rendering template within layouts/application
Rendering stories/new
Rendered stories/_form (18.2ms)
Rendered layouts/_header (2.2ms)
Completed in 173ms (View: 28, DB: 1) | 200 OK [http://localhost/stories/new]


Processing StoriesController#create (for 127.0.0.1 at 2009-05-16 01:36:02) [POST]
  Parameters: {"commit"=>"Submit", "story"=>{"photo"=>#<File:/var/folders/9A/9ADmI6fOH7WcKgZ5MU8YEk+++TI/-Tmp-/RackMultipart.9938.2>, "public"=>"0", "body"=>"blah", "title"=>"Fire"}, "authenticity_token"=>"Jmz7YsdZ6NaldNM7H6cmB9w+YuMMZ3I258eTk9GadP8="}
  [4;36;1mUser Load (1.8ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '3422d7ea8d8929abf0410c0f999a3f0c6c052f059894f5043b8f950947d28ea771c2eddeccdba846169ba0cb23e7b3efe60c203e9a4b10b7cd7a6122d07681f9') LIMIT 1[0m
  [4;35;1mStory Create (0.8ms)[0m   [0mINSERT INTO "stories" ("updated_at", "photo_file_name", "photo_file_size", "title", "body", "public", "photo_updated_at", "photo_content_type", "user_id", "created_at") VALUES('2009-05-15 15:36:03', 'R0010535_tag.jpg', 89214, 'Fire', 'blah', 'f', '2009-05-15 15:36:02', 'image/jpeg', 1, '2009-05-15 15:36:03')[0m
[paperclip] Saving attachments.
[paperclip] saving /Users/sabman/Rails/projects/pakistan-map/pakistanmap/public/stories/3/small/R0010535_tag.jpg
[paperclip] saving /Users/sabman/Rails/projects/pakistan-map/pakistanmap/public/stories/3/original/R0010535_tag.jpg
Redirected to http://localhost:3000/stories/3
Completed in 699ms (DB: 3) | 302 Found [http://localhost/stories]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 01:36:03) [GET]
  Parameters: {"id"=>"3"}
  [4;36;1mStory Load (1.2ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 3) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mUser Load (1.7ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '3422d7ea8d8929abf0410c0f999a3f0c6c052f059894f5043b8f950947d28ea771c2eddeccdba846169ba0cb23e7b3efe60c203e9a4b10b7cd7a6122d07681f9') LIMIT 1[0m
Rendered layouts/_header (101.5ms)
Completed in 181ms (View: 125, DB: 3) | 200 OK [http://localhost/stories/3]


Processing ApplicationController#index (for 127.0.0.1 at 2009-05-16 01:36:04) [GET]
  Parameters: {"1242401762"=>nil}

ActionController::RoutingError (No route matches "/assets/stories/3/small/R0010535_tag.jpg" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing StoriesController#edit (for 127.0.0.1 at 2009-05-16 01:37:27) [GET]
  Parameters: {"id"=>"3"}
  [4;36;1mUser Load (2.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '3422d7ea8d8929abf0410c0f999a3f0c6c052f059894f5043b8f950947d28ea771c2eddeccdba846169ba0cb23e7b3efe60c203e9a4b10b7cd7a6122d07681f9') LIMIT 1[0m
  [4;35;1mStory Load (1.4ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 3) [0m
Rendering template within layouts/application
Rendering stories/edit
Rendered stories/_form (18.1ms)
Rendered layouts/_header (1.8ms)
Completed in 182ms (View: 38, DB: 3) | 200 OK [http://localhost/stories/3/edit]


Processing StoriesController#update (for 127.0.0.1 at 2009-05-16 01:37:35) [PUT]
  Parameters: {"commit"=>"Submit", "story"=>{"photo"=>#<File:/var/folders/9A/9ADmI6fOH7WcKgZ5MU8YEk+++TI/-Tmp-/RackMultipart.9938.4>, "public"=>"0", "body"=>"blah", "title"=>"Fire"}, "authenticity_token"=>"Jmz7YsdZ6NaldNM7H6cmB9w+YuMMZ3I258eTk9GadP8=", "id"=>"3"}
  [4;36;1mUser Load (2.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '3422d7ea8d8929abf0410c0f999a3f0c6c052f059894f5043b8f950947d28ea771c2eddeccdba846169ba0cb23e7b3efe60c203e9a4b10b7cd7a6122d07681f9') LIMIT 1[0m
  [4;35;1mStory Load (1.7ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 3) [0m
  [4;36;1mStory Update (1.2ms)[0m   [0;1mUPDATE "stories" SET "photo_updated_at" = '2009-05-15 15:37:35', "updated_at" = '2009-05-15 15:37:36' WHERE "id" = 3[0m
[paperclip] Saving attachments.
[paperclip] deleting /Users/sabman/Rails/projects/pakistan-map/pakistanmap/public/stories/3/original/R0010535_tag.jpg
[paperclip] deleting /Users/sabman/Rails/projects/pakistan-map/pakistanmap/public/stories/3/small/R0010535_tag.jpg
[paperclip] saving /Users/sabman/Rails/projects/pakistan-map/pakistanmap/public/stories/3/small/R0010535_tag.jpg
[paperclip] saving /Users/sabman/Rails/projects/pakistan-map/pakistanmap/public/stories/3/original/R0010535_tag.jpg
Redirected to http://localhost:3000/stories/3
Completed in 540ms (DB: 5) | 302 Found [http://localhost/stories/3]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 01:37:36) [GET]
  Parameters: {"id"=>"3"}
  [4;35;1mStory Load (1.3ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 3) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '3422d7ea8d8929abf0410c0f999a3f0c6c052f059894f5043b8f950947d28ea771c2eddeccdba846169ba0cb23e7b3efe60c203e9a4b10b7cd7a6122d07681f9') LIMIT 1[0m
Rendered layouts/_header (371.2ms)
Completed in 458ms (View: 389, DB: 3) | 200 OK [http://localhost/stories/3]


Processing ApplicationController#index (for 127.0.0.1 at 2009-05-16 01:37:37) [GET]
  Parameters: {"1242401855"=>nil}

ActionController::RoutingError (No route matches "/assets/stories/3/small/R0010535_tag.jpg" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing StoriesController#edit (for 127.0.0.1 at 2009-05-16 01:38:37) [GET]
  Parameters: {"id"=>"3"}
  [4;35;1mUser Load (2.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '3422d7ea8d8929abf0410c0f999a3f0c6c052f059894f5043b8f950947d28ea771c2eddeccdba846169ba0cb23e7b3efe60c203e9a4b10b7cd7a6122d07681f9') LIMIT 1[0m
  [4;36;1mStory Load (2.2ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 3) [0m
Rendering template within layouts/application
Rendering stories/edit
Rendered stories/_form (19.5ms)
Rendered layouts/_header (1.7ms)
Completed in 175ms (View: 30, DB: 5) | 200 OK [http://localhost/stories/3/edit]


Processing StoriesController#update (for 127.0.0.1 at 2009-05-16 01:38:47) [PUT]
  Parameters: {"commit"=>"Submit", "story"=>{"photo"=>#<File:/var/folders/9A/9ADmI6fOH7WcKgZ5MU8YEk+++TI/-Tmp-/RackMultipart.9938.2>, "public"=>"0", "body"=>"blah", "title"=>"Fire"}, "authenticity_token"=>"Jmz7YsdZ6NaldNM7H6cmB9w+YuMMZ3I258eTk9GadP8=", "id"=>"3"}
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '3422d7ea8d8929abf0410c0f999a3f0c6c052f059894f5043b8f950947d28ea771c2eddeccdba846169ba0cb23e7b3efe60c203e9a4b10b7cd7a6122d07681f9') LIMIT 1[0m
  [4;36;1mStory Load (3.1ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 3) [0m
  [4;35;1mStory Update (0.8ms)[0m   [0mUPDATE "stories" SET "photo_updated_at" = '2009-05-15 15:38:47', "updated_at" = '2009-05-15 15:38:48' WHERE "id" = 3[0m
[paperclip] Saving attachments.
[paperclip] saving /Users/sabman/Rails/projects/pakistan-map/pakistanmap/public/assets/stories/3/small/R0010535_tag.jpg
[paperclip] saving /Users/sabman/Rails/projects/pakistan-map/pakistanmap/public/assets/stories/3/original/R0010535_tag.jpg
Redirected to http://localhost:3000/stories/3
Completed in 539ms (DB: 5) | 302 Found [http://localhost/stories/3]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 01:38:48) [GET]
  Parameters: {"id"=>"3"}
  [4;36;1mStory Load (1.8ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 3) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '3422d7ea8d8929abf0410c0f999a3f0c6c052f059894f5043b8f950947d28ea771c2eddeccdba846169ba0cb23e7b3efe60c203e9a4b10b7cd7a6122d07681f9') LIMIT 1[0m
Rendered layouts/_header (98.9ms)
Completed in 187ms (View: 122, DB: 3) | 200 OK [http://localhost/stories/3]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 01:40:34) [GET]
  Parameters: {"id"=>"3"}
  [4;36;1mStory Load (1.5ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 3) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '3422d7ea8d8929abf0410c0f999a3f0c6c052f059894f5043b8f950947d28ea771c2eddeccdba846169ba0cb23e7b3efe60c203e9a4b10b7cd7a6122d07681f9') LIMIT 1[0m
Rendered layouts/_header (82.8ms)
Completed in 192ms (View: 129, DB: 3) | 200 OK [http://localhost/stories/3]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 01:42:05) [GET]
  Parameters: {"id"=>"3"}
  [4;36;1mStory Load (1.3ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 3) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '3422d7ea8d8929abf0410c0f999a3f0c6c052f059894f5043b8f950947d28ea771c2eddeccdba846169ba0cb23e7b3efe60c203e9a4b10b7cd7a6122d07681f9') LIMIT 1[0m
Rendered layouts/_header (290.8ms)
Completed in 378ms (View: 328, DB: 3) | 200 OK [http://localhost/stories/3]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 01:42:21) [GET]
  Parameters: {"id"=>"3"}
  [4;36;1mStory Load (1.8ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 3) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '3422d7ea8d8929abf0410c0f999a3f0c6c052f059894f5043b8f950947d28ea771c2eddeccdba846169ba0cb23e7b3efe60c203e9a4b10b7cd7a6122d07681f9') LIMIT 1[0m
Rendered layouts/_header (97.9ms)
Completed in 233ms (View: 147, DB: 3) | 200 OK [http://localhost/stories/3]


Processing StoriesController#edit (for 127.0.0.1 at 2009-05-16 01:43:11) [GET]
  Parameters: {"id"=>"3"}
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '3422d7ea8d8929abf0410c0f999a3f0c6c052f059894f5043b8f950947d28ea771c2eddeccdba846169ba0cb23e7b3efe60c203e9a4b10b7cd7a6122d07681f9') LIMIT 1[0m
  [4;35;1mStory Load (1.6ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 3) [0m
Rendering template within layouts/application
Rendering stories/edit
Rendered stories/_form (24.9ms)
Rendered layouts/_header (2.6ms)
Completed in 188ms (View: 36, DB: 3) | 200 OK [http://localhost/stories/3/edit]


Processing StoriesController#update (for 127.0.0.1 at 2009-05-16 01:43:17) [PUT]
  Parameters: {"commit"=>"Submit", "story"=>{"public"=>"0", "body"=>"Rails 2.3 delivers a variety of new and improved features, including pervasive Rack integration, refreshed support for Rails Engines, nested transactions for Active Record, dynamic and default scopes, unified rendering, more efficient routing, application templates, and quiet backtraces. This list covers the major upgrades, but doesn’t include every little bug fix and change. If you want to see everything, check out the list of commits in the main Rails repository on GitHub or review the CHANGELOG files for the individual Rails components.\r\nChapters\r\n\r\n   1. Application Architecture\r\n          * Rack Integration\r\n          * Renewed Support for Rails Engines\r\n   2. Documentation\r\n   3. Ruby 1.9.1 Support\r\n   4. Active Record\r\n          * Nested Attributes\r\n          * Nested Transactions\r\n          * Dynamic Scopes\r\n          * Default Scopes\r\n          * Batch Processing\r\n          * Multiple Conditions for Callbacks\r\n          * Find with having\r\n          * Reconnecting MySQL Connections\r\n          * Other Active Record Changes\r\n   5. Action Controller\r\n          * Unified Rendering\r\n          * Application Controller Renamed\r\n          * HTTP Digest Authentication Support\r\n          * More Efficient Routing\r\n          * Rack-based Lazy-loaded Sessions\r\n          * MIME Type Handling Changes\r\n          * Optimization of respond_to\r\n          * Improved Caching Performance\r\n          * Localized Views\r\n          * Partial Scoping for Translations\r\n          * Other Action Controller Changes\r\n   6. Action View\r\n          * Nested Object Forms\r\n          * Smart Rendering of Partials\r\n          * Prompts for Date Select Helpers\r\n          * AssetTag Timestamp Caching\r\n          * Asset Hosts as Objects\r\n          * grouped_options_for_select Helper Method\r\n          * Disabled Option Tags for Form Select Helpers\r\n          * A Note About Template Loading\r\n          * Other Action View Changes\r\n   7. Active Support\r\n          * Object#try\r\n          * Object#tap Backport\r\n          * Swappable Parsers for XMLmini\r\n          * Fractional seconds for TimeWithZone\r\n          * JSON Key Quoting\r\n          * Other Active Support Changes\r\n   8. Railties\r\n          * Rails Metal\r\n          * Application Templates\r\n          * Quieter Backtraces\r\n          * Faster Boot Time in Development Mode with Lazy Loading/Autoload\r\n          * rake gem Task Rewrite\r\n          * Other Railties Changes\r\n   9. Deprecated\r\n  10. Credits\r\n\r\n1 Application Architecture\r\n\r\nThere are two major changes in the architecture of Rails applications: complete integration of the Rack modular web server interface, and renewed support for Rails Engines.\r\n1.1 Rack Integration\r\n\r\nRails has now broken with its CGI past, and uses Rack everywhere. This required and resulted in a tremendous number of internal changes (but if you use CGI, don’t worry; Rails now supports CGI through a proxy interface.) Still, this is a major change to Rails internals. After upgrading to 2.3, you should test on your local environment and your production environment. Some things to test:\r\n\r\n    * Sessions\r\n    * Cookies\r\n    * File uploads\r\n    * JSON/XML APIs\r\n\r\nHere’s a summary of the rack-related changes:\r\n\r\n    * script/server has been switched to use Rack, which means it supports any Rack compatible server. script/server will also pick up a rackup configuration file if one exists. By default, it will look for a config.ru file, but you can override this with the -c switch.\r\n    * The FCGI handler goes through Rack.\r\n    * ActionController::Dispatcher maintains its own default middleware stack. Middlewares can be injected in, reordered, and removed. The stack is compiled into a chain on boot. You can configure the middleware stack in environment.rb.\r\n    * The rake middleware task has been added to inspect the middleware stack. This is useful for debugging the order of the middleware stack.\r\n    * The integration test runner has been modified to execute the entire middleware and application stack. This makes integration tests perfect for testing Rack middleware.\r\n    * ActionController::CGIHandler is ", "title"=>"Fire"}, "authenticity_token"=>"Jmz7YsdZ6NaldNM7H6cmB9w+YuMMZ3I258eTk9GadP8=", "id"=>"3"}
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '3422d7ea8d8929abf0410c0f999a3f0c6c052f059894f5043b8f950947d28ea771c2eddeccdba846169ba0cb23e7b3efe60c203e9a4b10b7cd7a6122d07681f9') LIMIT 1[0m
  [4;35;1mStory Load (1.3ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 3) [0m
  [4;36;1mStory Update (1.1ms)[0m   [0;1mUPDATE "stories" SET "body" = 'Rails 2.3 delivers a variety of new and improved features, including pervasive Rack integration, refreshed support for Rails Engines, nested transactions for Active Record, dynamic and default scopes, unified rendering, more efficient routing, application templates, and quiet backtraces. This list covers the major upgrades, but doesn’t include every little bug fix and change. If you want to see everything, check out the list of commits in the main Rails repository on GitHub or review the CHANGELOG files for the individual Rails components.
Chapters

 1. Application Architecture
 * Rack Integration
 * Renewed Support for Rails Engines
 2. Documentation
 3. Ruby 1.9.1 Support
 4. Active Record
 * Nested Attributes
 * Nested Transactions
 * Dynamic Scopes
 * Default Scopes
 * Batch Processing
 * Multiple Conditions for Callbacks
 * Find with having
 * Reconnecting MySQL Connections
 * Other Active Record Changes
 5. Action Controller
 * Unified Rendering
 * Application Controller Renamed
 * HTTP Digest Authentication Support
 * More Efficient Routing
 * Rack-based Lazy-loaded Sessions
 * MIME Type Handling Changes
 * Optimization of respond_to
 * Improved Caching Performance
 * Localized Views
 * Partial Scoping for Translations
 * Other Action Controller Changes
 6. Action View
 * Nested Object Forms
 * Smart Rendering of Partials
 * Prompts for Date Select Helpers
 * AssetTag Timestamp Caching
 * Asset Hosts as Objects
 * grouped_options_for_select Helper Method
 * Disabled Option Tags for Form Select Helpers
 * A Note About Template Loading
 * Other Action View Changes
 7. Active Support
 * Object#try
 * Object#tap Backport
 * Swappable Parsers for XMLmini
 * Fractional seconds for TimeWithZone
 * JSON Key Quoting
 * Other Active Support Changes
 8. Railties
 * Rails Metal
 * Application Templates
 * Quieter Backtraces
 * Faster Boot Time in Development Mode with Lazy Loading/Autoload
 * rake gem Task Rewrite
 * Other Railties Changes
 9. Deprecated
 10. Credits

1 Application Architecture

There are two major changes in the architecture of Rails applications: complete integration of the Rack modular web server interface, and renewed support for Rails Engines.
1.1 Rack Integration

Rails has now broken with its CGI past, and uses Rack everywhere. This required and resulted in a tremendous number of internal changes (but if you use CGI, don’t worry; Rails now supports CGI through a proxy interface.) Still, this is a major change to Rails internals. After upgrading to 2.3, you should test on your local environment and your production environment. Some things to test:

 * Sessions
 * Cookies
 * File uploads
 * JSON/XML APIs

Here’s a summary of the rack-related changes:

 * script/server has been switched to use Rack, which means it supports any Rack compatible server. script/server will also pick up a rackup configuration file if one exists. By default, it will look for a config.ru file, but you can override this with the -c switch.
 * The FCGI handler goes through Rack.
 * ActionController::Dispatcher maintains its own default middleware stack. Middlewares can be injected in, reordered, and removed. The stack is compiled into a chain on boot. You can configure the middleware stack in environment.rb.
 * The rake middleware task has been added to inspect the middleware stack. This is useful for debugging the order of the middleware stack.
 * The integration test runner has been modified to execute the entire middleware and application stack. This makes integration tests perfect for testing Rack middleware.
 * ActionController::CGIHandler is ', "updated_at" = '2009-05-15 15:43:17' WHERE "id" = 3[0m
[paperclip] Saving attachments.
Redirected to http://localhost:3000/stories/3
Completed in 188ms (DB: 4) | 302 Found [http://localhost/stories/3]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 01:43:17) [GET]
  Parameters: {"id"=>"3"}
  [4;35;1mStory Load (1.5ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 3) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '3422d7ea8d8929abf0410c0f999a3f0c6c052f059894f5043b8f950947d28ea771c2eddeccdba846169ba0cb23e7b3efe60c203e9a4b10b7cd7a6122d07681f9') LIMIT 1[0m
Rendered layouts/_header (102.9ms)
Completed in 202ms (View: 145, DB: 3) | 200 OK [http://localhost/stories/3]


Processing StoriesController#edit (for 127.0.0.1 at 2009-05-16 01:43:32) [GET]
  Parameters: {"id"=>"3"}
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '3422d7ea8d8929abf0410c0f999a3f0c6c052f059894f5043b8f950947d28ea771c2eddeccdba846169ba0cb23e7b3efe60c203e9a4b10b7cd7a6122d07681f9') LIMIT 1[0m
  [4;36;1mStory Load (1.3ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 3) [0m
Rendering template within layouts/application
Rendering stories/edit
Rendered stories/_form (16.6ms)
Rendered layouts/_header (3.3ms)
Completed in 181ms (View: 33, DB: 3) | 200 OK [http://localhost/stories/3/edit]


Processing StoriesController#update (for 127.0.0.1 at 2009-05-16 01:43:39) [PUT]
  Parameters: {"commit"=>"Submit", "story"=>{"public"=>"1", "body"=>"Rails 2.3 delivers a variety of new and improved features, including pervasive Rack integration, refreshed support for Rails Engines, nested transactions for Active Record, dynamic and default scopes, unified rendering, more efficient routing, application templates, and quiet backtraces. This list covers the major upgrades, but doesn’t include every little bug fix and change. If you want to see everything, check out the list of commits in the main Rails repository on GitHub or review the CHANGELOG files for the individual Rails components.\r\n          Chapters\r\n          \r\n             1. Application Architecture\r\n                    * Rack Integration\r\n                    * Renewed Support for Rails Engines\r\n             2. Documentation\r\n             3. Ruby 1.9.1 Support\r\n             4. Active Record\r\n                    * Nested Attributes\r\n                    * Nested Transactions\r\n                    * Dynamic Scopes\r\n                    * Default Scopes\r\n                    * Batch Processing\r\n                    * Multiple Conditions for Callbacks\r\n                    * Find with having\r\n                    * Reconnecting MySQL Connections\r\n                    * Other Active Record Changes\r\n             5. Action Controller\r\n                    * Unified Rendering\r\n                    * Application Controller Renamed\r\n                    * HTTP Digest Authentication Support\r\n                    * More Efficient Routing\r\n                    * Rack-based Lazy-loaded Sessions\r\n                    * MIME Type Handling Changes\r\n                    * Optimization of respond_to\r\n                    * Improved Caching Performance\r\n                    * Localized Views\r\n                    * Partial Scoping for Translations\r\n                    * Other Action Controller Changes\r\n             6. Action View\r\n                    * Nested Object Forms\r\n                    * Smart Rendering of Partials\r\n                    * Prompts for Date Select Helpers\r\n                    * AssetTag Timestamp Caching\r\n                    * Asset Hosts as Objects\r\n                    * grouped_options_for_select Helper Method\r\n                    * Disabled Option Tags for Form Select Helpers\r\n                    * A Note About Template Loading\r\n                    * Other Action View Changes\r\n             7. Active Support\r\n                    * Object#try\r\n                    * Object#tap Backport\r\n                    * Swappable Parsers for XMLmini\r\n                    * Fractional seconds for TimeWithZone\r\n                    * JSON Key Quoting\r\n                    * Other Active Support Changes\r\n             8. Railties\r\n                    * Rails Metal\r\n                    * Application Templates\r\n                    * Quieter Backtraces\r\n                    * Faster Boot Time in Development Mode with Lazy Loading/Autoload\r\n                    * rake gem Task Rewrite\r\n                    * Other Railties Changes\r\n             9. Deprecated\r\n            10. Credits\r\n          \r\n          1 Application Architecture\r\n          \r\n          There are two major changes in the architecture of Rails applications: complete integration of the Rack modular web server interface, and renewed support for Rails Engines.\r\n          1.1 Rack Integration\r\n          \r\n          Rails has now broken with its CGI past, and uses Rack everywhere. This required and resulted in a tremendous number of internal changes (but if you use CGI, don’t worry; Rails now supports CGI through a proxy interface.) Still, this is a major change to Rails internals. After upgrading to 2.3, you should test on your local environment and your production environment. Some things to test:\r\n          \r\n              * Sessions\r\n              * Cookies\r\n              * File uploads\r\n              * JSON/XML APIs\r\n          \r\n          Here’s a summary of the rack-related changes:\r\n          \r\n              * script/server has been switched to use Rack, which means it supports any Rack compatible server. script/server will also pick up a rackup configuration file if one exists. By default, it will look for a config.ru file, but you can override this with the -c switch.\r\n              * The FCGI handler goes through Rack.\r\n              * ActionController::Dispatcher maintains its own default middleware stack. Middlewares can be injected in, reordered, and removed. The stack is compiled into a chain on boot. You can configure the middleware stack in environment.rb.\r\n              * The rake middleware task has been added to inspect the middleware stack. This is useful for debugging the order of the middleware stack.\r\n              * The integration test runner has been modified to execute the entire middleware and application stack. This makes integration tests perfect for testing Rack middleware.\r\n              * ActionController::CGIHandler is ", "title"=>"Fire"}, "authenticity_token"=>"Jmz7YsdZ6NaldNM7H6cmB9w+YuMMZ3I258eTk9GadP8=", "id"=>"3"}
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '3422d7ea8d8929abf0410c0f999a3f0c6c052f059894f5043b8f950947d28ea771c2eddeccdba846169ba0cb23e7b3efe60c203e9a4b10b7cd7a6122d07681f9') LIMIT 1[0m
  [4;36;1mStory Load (1.4ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 3) [0m
  [4;35;1mStory Update (1.0ms)[0m   [0mUPDATE "stories" SET "public" = 't', "body" = 'Rails 2.3 delivers a variety of new and improved features, including pervasive Rack integration, refreshed support for Rails Engines, nested transactions for Active Record, dynamic and default scopes, unified rendering, more efficient routing, application templates, and quiet backtraces. This list covers the major upgrades, but doesn’t include every little bug fix and change. If you want to see everything, check out the list of commits in the main Rails repository on GitHub or review the CHANGELOG files for the individual Rails components.
 Chapters
 
 1. Application Architecture
 * Rack Integration
 * Renewed Support for Rails Engines
 2. Documentation
 3. Ruby 1.9.1 Support
 4. Active Record
 * Nested Attributes
 * Nested Transactions
 * Dynamic Scopes
 * Default Scopes
 * Batch Processing
 * Multiple Conditions for Callbacks
 * Find with having
 * Reconnecting MySQL Connections
 * Other Active Record Changes
 5. Action Controller
 * Unified Rendering
 * Application Controller Renamed
 * HTTP Digest Authentication Support
 * More Efficient Routing
 * Rack-based Lazy-loaded Sessions
 * MIME Type Handling Changes
 * Optimization of respond_to
 * Improved Caching Performance
 * Localized Views
 * Partial Scoping for Translations
 * Other Action Controller Changes
 6. Action View
 * Nested Object Forms
 * Smart Rendering of Partials
 * Prompts for Date Select Helpers
 * AssetTag Timestamp Caching
 * Asset Hosts as Objects
 * grouped_options_for_select Helper Method
 * Disabled Option Tags for Form Select Helpers
 * A Note About Template Loading
 * Other Action View Changes
 7. Active Support
 * Object#try
 * Object#tap Backport
 * Swappable Parsers for XMLmini
 * Fractional seconds for TimeWithZone
 * JSON Key Quoting
 * Other Active Support Changes
 8. Railties
 * Rails Metal
 * Application Templates
 * Quieter Backtraces
 * Faster Boot Time in Development Mode with Lazy Loading/Autoload
 * rake gem Task Rewrite
 * Other Railties Changes
 9. Deprecated
 10. Credits
 
 1 Application Architecture
 
 There are two major changes in the architecture of Rails applications: complete integration of the Rack modular web server interface, and renewed support for Rails Engines.
 1.1 Rack Integration
 
 Rails has now broken with its CGI past, and uses Rack everywhere. This required and resulted in a tremendous number of internal changes (but if you use CGI, don’t worry; Rails now supports CGI through a proxy interface.) Still, this is a major change to Rails internals. After upgrading to 2.3, you should test on your local environment and your production environment. Some things to test:
 
 * Sessions
 * Cookies
 * File uploads
 * JSON/XML APIs
 
 Here’s a summary of the rack-related changes:
 
 * script/server has been switched to use Rack, which means it supports any Rack compatible server. script/server will also pick up a rackup configuration file if one exists. By default, it will look for a config.ru file, but you can override this with the -c switch.
 * The FCGI handler goes through Rack.
 * ActionController::Dispatcher maintains its own default middleware stack. Middlewares can be injected in, reordered, and removed. The stack is compiled into a chain on boot. You can configure the middleware stack in environment.rb.
 * The rake middleware task has been added to inspect the middleware stack. This is useful for debugging the order of the middleware stack.
 * The integration test runner has been modified to execute the entire middleware and application stack. This makes integration tests perfect for testing Rack middleware.
 * ActionController::CGIHandler is ', "updated_at" = '2009-05-15 15:43:39' WHERE "id" = 3[0m
[paperclip] Saving attachments.
Redirected to http://localhost:3000/stories/3
Completed in 173ms (DB: 4) | 302 Found [http://localhost/stories/3]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 01:43:39) [GET]
  Parameters: {"id"=>"3"}
  [4;36;1mStory Load (1.4ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 3) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mUser Load (1.7ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '3422d7ea8d8929abf0410c0f999a3f0c6c052f059894f5043b8f950947d28ea771c2eddeccdba846169ba0cb23e7b3efe60c203e9a4b10b7cd7a6122d07681f9') LIMIT 1[0m
Rendered layouts/_header (92.5ms)
Completed in 181ms (View: 120, DB: 3) | 200 OK [http://localhost/stories/3]


Processing StoriesController#index (for 127.0.0.1 at 2009-05-16 01:44:26) [GET]
  [4;36;1mStory Load (2.4ms)[0m   [0;1mSELECT * FROM "stories" [0m
Rendering template within layouts/application
Rendering stories/index

ActionView::TemplateError (You don't need to use "- end" in Haml. Use indentation instead:
- if foo?
  %strong Foo!
- else
  Not foo.) on line #24 of app/views/stories/index.html.haml:
21:       = link_to "Edit", edit_story_path(story)
22:     %td
23:       = link_to "Destroy", story, :confirm => 'Are you sure?', :method => :delete
24:   - end
25: %p
26:   = link_to "New Story", new_story_path

    app/views/stories/index.html.haml:24
    haml (2.0.9) lib/haml/precompiler.rb:206:in `process_line'
    haml (2.0.9) lib/haml/precompiler.rb:156:in `precompile'
    haml (2.0.9) lib/haml/precompiler.rb:122:in `each'
    haml (2.0.9) lib/haml/precompiler.rb:122:in `each_with_index'
    haml (2.0.9) lib/haml/precompiler.rb:122:in `precompile'
    haml (2.0.9) lib/haml/engine.rb:100:in `initialize'
    haml (2.0.9) lib/haml/template/plugin.rb:21:in `new'
    haml (2.0.9) lib/haml/template/plugin.rb:21:in `compile'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (374.9ms)
Rendered rescues/_request_and_response (1.5ms)
Rendering rescues/layout (internal_server_error)


Processing StoriesController#index (for 127.0.0.1 at 2009-05-16 01:44:51) [GET]
  [4;35;1mStory Load (4.5ms)[0m   [0mSELECT * FROM "stories" [0m
Rendering template within layouts/application
Rendering stories/index
ERROR: compiling _run_haml_app47views47stories47index46html46haml RAISED compile error
/Users/sabman/Rails/projects/pakistan-map/pakistanmap/app/views/stories/index.html.haml:29: syntax error, unexpected kENSURE, expecting kEND
/Users/sabman/Rails/projects/pakistan-map/pakistanmap/app/views/stories/index.html.haml:31: syntax error, unexpected $end, expecting kEND
Function body:           def _run_haml_app47views47stories47index46html46haml(local_assigns)
            old_output_buffer = output_buffer;;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:format=>:xhtml, :preserve=>["textarea", "pre"], :attr_wrapper=>"'", :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :ugly=>false});_erbout = _hamlout.buffer;__in_erb_template = true;; title "Stories";








_hamlout.push_text("<table>\n  <tr>\n    <th>\n      Title\n    </th>\n    <th>\n      Body\n    </th>\n    <th>\n      Public\n    </th>\n  </tr>\n", false, 1); for story in @stories;


_hamlout.push_text("  <tr>\n    <td>\n      ", false, 2);haml_temp =  h story.title;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
_hamlout.push_text("    </td>\n    <td>\n      ");haml_temp =  h story.body;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
_hamlout.push_text("    </td>\n    <td>\n      ");haml_temp =  h story.public;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
_hamlout.push_text("    </td>\n    <td>\n      ");haml_temp =  link_to "Show", story;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
_hamlout.push_text("    </td>\n    <td>\n      ");haml_temp =  link_to "Edit", edit_story_path(story);
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
_hamlout.push_text("    </td>\n    <td>\n      ");haml_temp =  link_to "Destroy", story, :confirm => 'Are you sure?', :method => :delete;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);

_hamlout.push_text("    </td>\n  </tr>\n</table>\n<p>\n  ", false, -2);haml_temp =  link_to "New Story", new_story_path;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
_hamlout.push_text("</p>\n", false, -1);@haml_buffer = @haml_buffer.upper;_erbout;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/sabman/Rails/projects/pakistan-map/pakistanmap/app/views/stories/index.html.haml:31:in `compile!'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:61:in `compile'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:28:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/template.rb:194:in `render_template'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:260:in `render_without_haml'
/usr/local/lib/ruby/gems/1.8/gems/haml-2.0.9/lib/haml/helpers/action_view_mods.rb:14:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:343:in `_render_with_layout'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:257:in `render_without_haml'
/usr/local/lib/ruby/gems/1.8/gems/haml-2.0.9/lib/haml/helpers/action_view_mods.rb:14:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1241:in `render_for_file'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:937:in `render_without_benchmark'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1317:in `default_render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1323:in `perform_action_without_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:617:in `call_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/flash.rb:141:in `perform_action'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `send'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `process_without_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:606:in `sass_old_process'
/usr/local/lib/ruby/gems/1.8/gems/haml-2.0.9/lib/sass/plugin/rails.rb:19:in `process'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:391:in `process'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:386:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/routing/route_set.rb:433:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:88:in `dispatch'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:111:in `_call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:82:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:9:in `cache'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:28:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/head.rb:9:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/methodoverride.rb:24:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/params_parser.rb:15:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rewindable_input.rb:25:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/session/cookie_store.rb:93:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/reloader.rb:9:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/failsafe.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `synchronize'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:106:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/cgi_process.rb:44:in `dispatch_cgi'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:102:in `dispatch_cgi'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:28:in `dispatch'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:76:in `process'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `synchronize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `process'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:159:in `process_client'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:158:in `each'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:158:in `process_client'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:285:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:285:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:285:in `new'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:285:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:268:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:268:in `new'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:268:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/configurator.rb:282:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/configurator.rb:281:in `each'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/configurator.rb:281:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/command.rb:212:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
/usr/local/bin/mongrel_rails:19:in `load'
/usr/local/bin/mongrel_rails:19

ActionView::TemplateError (compile error
/Users/sabman/Rails/projects/pakistan-map/pakistanmap/app/views/stories/index.html.haml:29: syntax error, unexpected kENSURE, expecting kEND
/Users/sabman/Rails/projects/pakistan-map/pakistanmap/app/views/stories/index.html.haml:31: syntax error, unexpected $end, expecting kEND) on line #29 of app/views/stories/index.html.haml:
26:   = link_to "New Story", new_story_path

    app/views/stories/index.html.haml:31:in `compile!'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (200.5ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing StoriesController#index (for 127.0.0.1 at 2009-05-16 01:45:51) [GET]
  [4;36;1mStory Load (4.7ms)[0m   [0;1mSELECT * FROM "stories" [0m
Rendering template within layouts/application
Rendering stories/index
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '3422d7ea8d8929abf0410c0f999a3f0c6c052f059894f5043b8f950947d28ea771c2eddeccdba846169ba0cb23e7b3efe60c203e9a4b10b7cd7a6122d07681f9') LIMIT 1[0m
Rendered layouts/_header (96.7ms)
Completed in 214ms (View: 154, DB: 6) | 200 OK [http://localhost/stories]


Processing StoriesController#index (for 127.0.0.1 at 2009-05-16 01:46:18) [GET]
  [4;36;1mStory Load (3.3ms)[0m   [0;1mSELECT * FROM "stories" [0m
Rendering template within layouts/application
Rendering stories/index

ActionView::TemplateError (undefined method `tr' for #<ActionView::Base:0x38b9db0>) on line #15 of app/views/stories/index.html.haml:
12:       %td
13:         = h story.title
14:       %td
15:         = tr(h story.body)
16:       %td
17:         = h story.public
18:       %td

    app/views/stories/index.html.haml:15:in `_run_haml_app47views47stories47index46html46haml'
    app/views/stories/index.html.haml:10:in `each'
    app/views/stories/index.html.haml:10:in `_run_haml_app47views47stories47index46html46haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (357.2ms)
Rendered rescues/_request_and_response (1.2ms)
Rendering rescues/layout (internal_server_error)


Processing StoriesController#index (for 127.0.0.1 at 2009-05-16 01:47:07) [GET]
  [4;35;1mStory Load (2.9ms)[0m   [0mSELECT * FROM "stories" [0m
Rendering template within layouts/application
Rendering stories/index

ActionView::TemplateError (wrong number of arguments (1 for 0)) on line #15 of app/views/stories/index.html.haml:
12:       %td
13:         = h story.title
14:       %td
15:         = h story.body(0..100)
16:       %td
17:         = h story.public
18:       %td

    app/views/stories/index.html.haml:15:in `body'
    app/views/stories/index.html.haml:15:in `_run_haml_app47views47stories47index46html46haml'
    app/views/stories/index.html.haml:10:in `each'
    app/views/stories/index.html.haml:10:in `_run_haml_app47views47stories47index46html46haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (387.7ms)
Rendered rescues/_request_and_response (0.9ms)
Rendering rescues/layout (internal_server_error)


Processing StoriesController#index (for 127.0.0.1 at 2009-05-16 01:47:16) [GET]
  [4;36;1mStory Load (2.8ms)[0m   [0;1mSELECT * FROM "stories" [0m
Rendering template within layouts/application
Rendering stories/index
ERROR: compiling _run_haml_app47views47stories47index46html46haml RAISED compile error
/Users/sabman/Rails/projects/pakistan-map/pakistanmap/app/views/stories/index.html.haml:15: syntax error, unexpected '('
_hamlout.push_text("    </td>\n    <td>\n      ");haml_temp =  h story.body.(0..100);
                                                                             ^
/Users/sabman/Rails/projects/pakistan-map/pakistanmap/app/views/stories/index.html.haml:15: syntax error, unexpected ')', expecting kEND
_hamlout.push_text("    </td>\n    <td>\n      ");haml_temp =  h story.body.(0..100);
                                                                                    ^
Function body:           def _run_haml_app47views47stories47index46html46haml(local_assigns)
            old_output_buffer = output_buffer;;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:format=>:xhtml, :preserve=>["textarea", "pre"], :attr_wrapper=>"'", :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :ugly=>false});_erbout = _hamlout.buffer;__in_erb_template = true;; title "Stories";








_hamlout.push_text("<table>\n  <tr>\n    <th>\n      Title\n    </th>\n    <th>\n      Body\n    </th>\n    <th>\n      Public\n    </th>\n  </tr>\n", false, 1); for story in @stories;


_hamlout.push_text("  <tr>\n    <td>\n      ", false, 2);haml_temp =  h story.title;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
_hamlout.push_text("    </td>\n    <td>\n      ");haml_temp =  h story.body.(0..100);
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
_hamlout.push_text("    </td>\n    <td>\n      ");haml_temp =  h story.public;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
_hamlout.push_text("    </td>\n    <td>\n      ");haml_temp =  link_to "Show", story;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
_hamlout.push_text("    </td>\n    <td>\n      ");haml_temp =  link_to "Edit", edit_story_path(story);
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
_hamlout.push_text("    </td>\n    <td>\n      ");haml_temp =  link_to "Destroy", story, :confirm => 'Are you sure?', :method => :delete;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
_hamlout.push_text("    </td>\n  </tr>\n", false, -2);end;
_hamlout.push_text("</table>\n<p>\n  ");haml_temp =  link_to "New Story", new_story_path;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
_hamlout.push_text("</p>\n", false, -1);@haml_buffer = @haml_buffer.upper;_erbout;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/sabman/Rails/projects/pakistan-map/pakistanmap/app/views/stories/index.html.haml:31:in `compile!'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:61:in `compile'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:28:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/template.rb:194:in `render_template'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:260:in `render_without_haml'
/usr/local/lib/ruby/gems/1.8/gems/haml-2.0.9/lib/haml/helpers/action_view_mods.rb:14:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:343:in `_render_with_layout'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:257:in `render_without_haml'
/usr/local/lib/ruby/gems/1.8/gems/haml-2.0.9/lib/haml/helpers/action_view_mods.rb:14:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1241:in `render_for_file'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:937:in `render_without_benchmark'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1317:in `default_render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1323:in `perform_action_without_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:617:in `call_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/flash.rb:141:in `perform_action'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `send'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `process_without_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:606:in `sass_old_process'
/usr/local/lib/ruby/gems/1.8/gems/haml-2.0.9/lib/sass/plugin/rails.rb:19:in `process'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:391:in `process'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:386:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/routing/route_set.rb:433:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:88:in `dispatch'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:111:in `_call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:82:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:9:in `cache'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:28:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/head.rb:9:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/methodoverride.rb:24:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/params_parser.rb:15:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rewindable_input.rb:25:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/session/cookie_store.rb:93:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/reloader.rb:9:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/failsafe.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `synchronize'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:106:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/cgi_process.rb:44:in `dispatch_cgi'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:102:in `dispatch_cgi'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:28:in `dispatch'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:76:in `process'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `synchronize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `process'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:159:in `process_client'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:158:in `each'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:158:in `process_client'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:285:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:285:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:285:in `new'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:285:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:268:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:268:in `new'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:268:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/configurator.rb:282:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/configurator.rb:281:in `each'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/configurator.rb:281:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/command.rb:212:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
/usr/local/bin/mongrel_rails:19:in `load'
/usr/local/bin/mongrel_rails:19

ActionView::TemplateError (compile error
/Users/sabman/Rails/projects/pakistan-map/pakistanmap/app/views/stories/index.html.haml:15: syntax error, unexpected '('
_hamlout.push_text("    </td>\n    <td>\n      ");haml_temp =  h story.body.(0..100);
                                                                             ^
/Users/sabman/Rails/projects/pakistan-map/pakistanmap/app/views/stories/index.html.haml:15: syntax error, unexpected ')', expecting kEND
_hamlout.push_text("    </td>\n    <td>\n      ");haml_temp =  h story.body.(0..100);
                                                                                    ^) on line #15 of app/views/stories/index.html.haml:
12:       %td
13:         = h story.title
14:       %td
15:         = h story.body.(0..100)
16:       %td
17:         = h story.public
18:       %td

    app/views/stories/index.html.haml:31:in `compile!'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (199.8ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing StoriesController#index (for 127.0.0.1 at 2009-05-16 01:48:32) [GET]
  [4;35;1mStory Load (2.5ms)[0m   [0mSELECT * FROM "stories" [0m
Rendering template within layouts/application
Rendering stories/index
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '3422d7ea8d8929abf0410c0f999a3f0c6c052f059894f5043b8f950947d28ea771c2eddeccdba846169ba0cb23e7b3efe60c203e9a4b10b7cd7a6122d07681f9') LIMIT 1[0m
Rendered layouts/_header (80.0ms)
Completed in 186ms (View: 138, DB: 4) | 200 OK [http://localhost/stories]


Processing StoriesController#index (for 127.0.0.1 at 2009-05-16 01:50:34) [GET]
  [4;35;1mStory Load (4.0ms)[0m   [0mSELECT * FROM "stories" [0m
Rendering template within layouts/application
Rendering stories/index
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '3422d7ea8d8929abf0410c0f999a3f0c6c052f059894f5043b8f950947d28ea771c2eddeccdba846169ba0cb23e7b3efe60c203e9a4b10b7cd7a6122d07681f9') LIMIT 1[0m
Rendered layouts/_header (92.0ms)
Completed in 218ms (View: 167, DB: 5) | 200 OK [http://localhost/stories]


Processing StoriesController#index (for 127.0.0.1 at 2009-05-16 01:50:49) [GET]
  [4;35;1mStory Load (3.2ms)[0m   [0mSELECT * FROM "stories" [0m
Rendering template within layouts/application
Rendering stories/index
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '3422d7ea8d8929abf0410c0f999a3f0c6c052f059894f5043b8f950947d28ea771c2eddeccdba846169ba0cb23e7b3efe60c203e9a4b10b7cd7a6122d07681f9') LIMIT 1[0m
Rendered layouts/_header (101.6ms)
Completed in 415ms (View: 360, DB: 5) | 200 OK [http://localhost/stories]


Processing StoriesController#index (for 127.0.0.1 at 2009-05-16 01:51:04) [GET]
  [4;35;1mStory Load (5.8ms)[0m   [0mSELECT * FROM "stories" [0m
Rendering template within layouts/application
Rendering stories/index
  [4;36;1mUser Load (1.9ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '3422d7ea8d8929abf0410c0f999a3f0c6c052f059894f5043b8f950947d28ea771c2eddeccdba846169ba0cb23e7b3efe60c203e9a4b10b7cd7a6122d07681f9') LIMIT 1[0m
Rendered layouts/_header (98.1ms)
Completed in 220ms (View: 160, DB: 8) | 200 OK [http://localhost/stories]


Processing StoriesController#index (for 127.0.0.1 at 2009-05-16 01:51:16) [GET]
  [4;35;1mStory Load (2.5ms)[0m   [0mSELECT * FROM "stories" [0m
Rendering template within layouts/application
Rendering stories/index
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '3422d7ea8d8929abf0410c0f999a3f0c6c052f059894f5043b8f950947d28ea771c2eddeccdba846169ba0cb23e7b3efe60c203e9a4b10b7cd7a6122d07681f9') LIMIT 1[0m
Rendered layouts/_header (289.1ms)
Completed in 418ms (View: 347, DB: 4) | 200 OK [http://localhost/stories]


Processing StoriesController#index (for 127.0.0.1 at 2009-05-16 01:51:24) [GET]
  [4;35;1mStory Load (2.5ms)[0m   [0mSELECT * FROM "stories" [0m
Rendering template within layouts/application
Rendering stories/index
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '3422d7ea8d8929abf0410c0f999a3f0c6c052f059894f5043b8f950947d28ea771c2eddeccdba846169ba0cb23e7b3efe60c203e9a4b10b7cd7a6122d07681f9') LIMIT 1[0m
Rendered layouts/_header (100.6ms)
Completed in 242ms (View: 175, DB: 4) | 200 OK [http://localhost/stories]


Processing StoriesController#index (for 127.0.0.1 at 2009-05-16 01:51:48) [GET]
  [4;35;1mStory Load (3.1ms)[0m   [0mSELECT * FROM "stories" [0m
Rendering template within layouts/application
Rendering stories/index
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '3422d7ea8d8929abf0410c0f999a3f0c6c052f059894f5043b8f950947d28ea771c2eddeccdba846169ba0cb23e7b3efe60c203e9a4b10b7cd7a6122d07681f9') LIMIT 1[0m
Rendered layouts/_header (86.0ms)
Completed in 201ms (View: 143, DB: 4) | 200 OK [http://localhost/stories]


Processing UsersController#edit (for 127.0.0.1 at 2009-05-16 01:52:07) [GET]
  Parameters: {"id"=>"current"}
  [4;35;1mUser Load (1.7ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '3422d7ea8d8929abf0410c0f999a3f0c6c052f059894f5043b8f950947d28ea771c2eddeccdba846169ba0cb23e7b3efe60c203e9a4b10b7cd7a6122d07681f9') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
Rendered users/_form (6.0ms)
Rendered layouts/_header (1.7ms)
Completed in 339ms (View: 43, DB: 2) | 200 OK [http://localhost/users/current/edit]


Processing UsersController#show (for 127.0.0.1 at 2009-05-16 01:52:14) [GET]
  Parameters: {"id"=>"current"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '3422d7ea8d8929abf0410c0f999a3f0c6c052f059894f5043b8f950947d28ea771c2eddeccdba846169ba0cb23e7b3efe60c203e9a4b10b7cd7a6122d07681f9') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/show
Rendered layouts/_header (1.7ms)
Completed in 129ms (View: 8, DB: 1) | 200 OK [http://localhost/users/current]


Processing StoriesController#index (for 127.0.0.1 at 2009-05-16 02:11:13) [GET]
  [4;35;1mStory Load (2.9ms)[0m   [0mSELECT * FROM "stories" [0m
Rendering template within layouts/application
Rendering stories/index
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '3422d7ea8d8929abf0410c0f999a3f0c6c052f059894f5043b8f950947d28ea771c2eddeccdba846169ba0cb23e7b3efe60c203e9a4b10b7cd7a6122d07681f9') LIMIT 1[0m
Rendered layouts/_header (78.6ms)
Completed in 283ms (View: 221, DB: 4) | 200 OK [http://localhost/]


Processing StoriesController#edit (for 127.0.0.1 at 2009-05-16 02:38:23) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '3422d7ea8d8929abf0410c0f999a3f0c6c052f059894f5043b8f950947d28ea771c2eddeccdba846169ba0cb23e7b3efe60c203e9a4b10b7cd7a6122d07681f9') LIMIT 1[0m
  [4;36;1mStory Load (1.9ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 2) [0m
Rendering template within layouts/application
Rendering stories/edit
Rendered stories/_form (18.3ms)
Rendered layouts/_header (3.8ms)
Completed in 341ms (View: 34, DB: 4) | 200 OK [http://localhost/stories/2/edit]


Processing StoriesController#update (for 127.0.0.1 at 2009-05-16 02:38:51) [PUT]
  Parameters: {"commit"=>"Submit", "story"=>{"public"=>"0", "body"=>"Blah dgjadlsk dfklas djfaljfo dfdfjs dabnke werkwpoeb sdfadskf sdfaj fdsfaj dfjwe dfja dfowe2 133123 341fndfn 3h3jdf 924hj d9uf3 24h23 ", "title"=>"Fire"}, "authenticity_token"=>"Jmz7YsdZ6NaldNM7H6cmB9w+YuMMZ3I258eTk9GadP8=", "id"=>"2"}
  [4;35;1mUser Load (2.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '3422d7ea8d8929abf0410c0f999a3f0c6c052f059894f5043b8f950947d28ea771c2eddeccdba846169ba0cb23e7b3efe60c203e9a4b10b7cd7a6122d07681f9') LIMIT 1[0m
  [4;36;1mStory Load (2.4ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 2) [0m
  [4;35;1mStory Update (1.2ms)[0m   [0mUPDATE "stories" SET "body" = 'Blah dgjadlsk dfklas djfaljfo dfdfjs dabnke werkwpoeb sdfadskf sdfaj fdsfaj dfjwe dfja dfowe2 133123 341fndfn 3h3jdf 924hj d9uf3 24h23 ', "updated_at" = '2009-05-15 16:38:51' WHERE "id" = 2[0m
[paperclip] Saving attachments.
Redirected to http://localhost:3000/stories/2
Completed in 204ms (DB: 6) | 302 Found [http://localhost/stories/2]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 02:38:52) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mStory Load (1.5ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 2) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '3422d7ea8d8929abf0410c0f999a3f0c6c052f059894f5043b8f950947d28ea771c2eddeccdba846169ba0cb23e7b3efe60c203e9a4b10b7cd7a6122d07681f9') LIMIT 1[0m
Rendered layouts/_header (89.9ms)
Completed in 224ms (View: 145, DB: 3) | 200 OK [http://localhost/stories/2]


Processing ApplicationController#index (for 127.0.0.1 at 2009-05-16 02:38:52) [GET]
  Parameters: {"1242401290"=>nil}

ActionController::RoutingError (No route matches "/assets/stories/2/small/Nomad_1_tag.jpg" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing StoriesController#index (for 127.0.0.1 at 2009-05-16 02:38:54) [GET]
  [4;36;1mStory Load (2.7ms)[0m   [0;1mSELECT * FROM "stories" [0m
Rendering template within layouts/application
Rendering stories/index
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '3422d7ea8d8929abf0410c0f999a3f0c6c052f059894f5043b8f950947d28ea771c2eddeccdba846169ba0cb23e7b3efe60c203e9a4b10b7cd7a6122d07681f9') LIMIT 1[0m
Rendered layouts/_header (106.7ms)
Completed in 394ms (View: 151, DB: 4) | 200 OK [http://localhost/stories]
  [4;36;1mSQL (26.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.9ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20090509030350)
Migrating to CreateStories (20090509095110)
Migrating to ActsAsCommentableWithThreadingMigration (20090514113916)
Migrating to AddAttachmentsPhotoToStory (20090515151409)
Migrating to CreateDonations (20090516022647)
  [4;36;1mSQL (0.8ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCREATE TABLE "donations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" varchar(255), "ammount" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090516022647')[0m
  [4;35;1mSQL (2.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (2.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mPRAGMA index_list("comments")[0m
  [4;35;1mSQL (0.8ms)[0m   [0mPRAGMA index_info('index_comments_on_commentable_id')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mPRAGMA index_info('index_comments_on_user_id')[0m
  [4;35;1mSQL (0.3ms)[0m   [0mPRAGMA index_list("donations")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mPRAGMA index_list("stories")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("users")[0m


Processing DonationsController#index (for 127.0.0.1 at 2009-05-16 12:29:51) [GET]
  [4;36;1mDonation Load (0.9ms)[0m   [0;1mSELECT * FROM "donations" [0m
Rendering template within layouts/application
Rendering donations/index
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '3422d7ea8d8929abf0410c0f999a3f0c6c052f059894f5043b8f950947d28ea771c2eddeccdba846169ba0cb23e7b3efe60c203e9a4b10b7cd7a6122d07681f9') LIMIT 1[0m
Rendered layouts/_header (190.8ms)
Completed in 315ms (View: 275, DB: 2) | 200 OK [http://localhost/donations]


Processing DonationsController#new (for 127.0.0.1 at 2009-05-16 12:29:55) [GET]
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (23.0ms)
  [4;36;1mUser Load (2.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '3422d7ea8d8929abf0410c0f999a3f0c6c052f059894f5043b8f950947d28ea771c2eddeccdba846169ba0cb23e7b3efe60c203e9a4b10b7cd7a6122d07681f9') LIMIT 1[0m
Rendered layouts/_header (117.3ms)
Completed in 222ms (View: 176, DB: 3) | 200 OK [http://localhost/donations/new]


Processing DonationsController#new (for 127.0.0.1 at 2009-05-16 12:29:56) [GET]
Rendering template within layouts/application
Rendering donations/new
Rendered donations/_form (20.4ms)
  [4;35;1mUser Load (2.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '3422d7ea8d8929abf0410c0f999a3f0c6c052f059894f5043b8f950947d28ea771c2eddeccdba846169ba0cb23e7b3efe60c203e9a4b10b7cd7a6122d07681f9') LIMIT 1[0m
Rendered layouts/_header (110.1ms)
Completed in 181ms (View: 138, DB: 2) | 200 OK [http://localhost/donations/new]
  [4;36;1mSQL (2.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (2.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateDonations (20090516022647)
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.8ms)[0m   [0mDROP TABLE "donations"[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090516022647'[0m
Migrating to AddAttachmentsPhotoToStory (20090515151409)
  [4;35;1mSQL (1.4ms)[0m   [0mCREATE TEMPORARY TABLE "altered_stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "user_id" integer, "created_at" datetime, "updated_at" datetime, "photo_file_name" varchar(255), "photo_content_type" varchar(255), "photo_file_size" integer, "photo_updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mPRAGMA index_list("stories")[0m
  [4;35;1mSQL (1.3ms)[0m   [0mDROP TABLE "stories"[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "user_id" integer, "created_at" datetime, "updated_at" datetime, "photo_content_type" varchar(255), "photo_file_size" integer, "photo_updated_at" datetime) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("altered_stories")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDROP TABLE "altered_stories"[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCREATE TEMPORARY TABLE "altered_stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "user_id" integer, "created_at" datetime, "updated_at" datetime, "photo_content_type" varchar(255), "photo_file_size" integer, "photo_updated_at" datetime) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mPRAGMA index_list("stories")[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP TABLE "stories"[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "user_id" integer, "created_at" datetime, "updated_at" datetime, "photo_file_size" integer, "photo_updated_at" datetime) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mPRAGMA index_list("altered_stories")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDROP TABLE "altered_stories"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCREATE TEMPORARY TABLE "altered_stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "user_id" integer, "created_at" datetime, "updated_at" datetime, "photo_file_size" integer, "photo_updated_at" datetime) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("stories")[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP TABLE "stories"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "user_id" integer, "created_at" datetime, "updated_at" datetime, "photo_updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mPRAGMA index_list("altered_stories")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP TABLE "altered_stories"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCREATE TEMPORARY TABLE "altered_stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "user_id" integer, "created_at" datetime, "updated_at" datetime, "photo_updated_at" datetime) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("stories")[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP TABLE "stories"[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mPRAGMA index_list("altered_stories")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDROP TABLE "altered_stories"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20090515151409'[0m
Migrating to ActsAsCommentableWithThreadingMigration (20090514113916)
  [4;36;1mSQL (1.3ms)[0m   [0;1mDROP TABLE "comments"[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20090514113916'[0m
Migrating to CreateStories (20090509095110)
  [4;36;1mSQL (1.2ms)[0m   [0;1mDROP TABLE "stories"[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20090509095110'[0m
Migrating to CreateUsers (20090509030350)
  [4;36;1mSQL (1.1ms)[0m   [0;1mDROP TABLE "users"[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20090509030350'[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20090509030350)
  [4;36;1mSQL (0.4ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "persistence_token" varchar(255), "admin" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090509030350')[0m
Migrating to CreateStories (20090509095110)
  [4;35;1mSQL (0.9ms)[0m   [0mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090509095110')[0m
Migrating to ActsAsCommentableWithThreadingMigration (20090514113916)
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCREATE TABLE "comments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "commentable_id" integer DEFAULT 0, "commentable_type" varchar(15) DEFAULT '', "title" varchar(255) DEFAULT '', "body" text DEFAULT '', "subject" varchar(255) DEFAULT '', "user_id" integer DEFAULT 0 NOT NULL, "parent_id" integer, "lft" integer, "rgt" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mCREATE INDEX "index_comments_on_user_id" ON "comments" ("user_id")[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCREATE INDEX "index_comments_on_commentable_id" ON "comments" ("commentable_id")[0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090514113916')[0m
Migrating to AddAttachmentsPhotoToStory (20090515151409)
  [4;36;1mSQL (0.9ms)[0m   [0;1mALTER TABLE "stories" ADD "photo_file_name" varchar(255)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mALTER TABLE "stories" ADD "photo_content_type" varchar(255)[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mALTER TABLE "stories" ADD "photo_file_size" integer[0m
  [4;35;1mSQL (1.5ms)[0m   [0mALTER TABLE "stories" ADD "photo_updated_at" datetime[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090515151409')[0m
  [4;35;1mSQL (2.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mPRAGMA index_list("comments")[0m
  [4;35;1mSQL (0.6ms)[0m   [0mPRAGMA index_info('index_comments_on_commentable_id')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mPRAGMA index_info('index_comments_on_user_id')[0m
  [4;35;1mSQL (0.3ms)[0m   [0mPRAGMA index_list("stories")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20090509030350)
Migrating to CreateStories (20090509095110)
Migrating to ActsAsCommentableWithThreadingMigration (20090514113916)
Migrating to AddAttachmentsPhotoToStory (20090515151409)
Migrating to CreateDonationOptions (20090516023338)
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCREATE TABLE "donation_options" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" varchar(255), "ammount" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (1.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20090509030350)
Migrating to CreateStories (20090509095110)
Migrating to ActsAsCommentableWithThreadingMigration (20090514113916)
Migrating to AddAttachmentsPhotoToStory (20090515151409)
Migrating to CreateDonationOptions (20090516023338)
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (2.4ms)[0m   [0mCREATE TABLE "donation_options" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" varchar(255), "amount" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mDonationOption Create (0.7ms)[0m   [0;1mINSERT INTO "donation_options" ("updated_at", "title", "description", "amount", "created_at") VALUES('2009-05-16 02:45:21', 'Small change', 'If enough people give up a bit of small change we can make a big change', 1, '2009-05-16 02:45:21')[0m
  [4;35;1mDonationOption Create (0.3ms)[0m   [0mINSERT INTO "donation_options" ("updated_at", "title", "description", "amount", "created_at") VALUES('2009-05-16 02:45:21', 'More than just change', 'So you feel you have more than just small change to spare', 5, '2009-05-16 02:45:21')[0m
  [4;36;1mDonationOption Create (0.3ms)[0m   [0;1mINSERT INTO "donation_options" ("updated_at", "title", "description", "amount", "created_at") VALUES('2009-05-16 02:45:21', 'Phylantorpist', 'Rolling in it? What are you waiting for then?', 10, '2009-05-16 02:45:21')[0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090516023338')[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.6ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.1ms)[0m   [0mPRAGMA index_list("comments")[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mPRAGMA index_info('index_comments_on_commentable_id')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mPRAGMA index_info('index_comments_on_user_id')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("donation_options")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("stories")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mPRAGMA index_list("users")[0m


Processing DonationOptionsController#index (for 127.0.0.1 at 2009-05-16 12:45:43) [GET]
  [4;36;1mDonationOption Load (3.2ms)[0m   [0;1mSELECT * FROM "donation_options" [0m
Rendering template within layouts/application
Rendering donation_options/index

ActionView::TemplateError (undefined method `ammount' for #<DonationOption:0x17f2f78>) on line #12 of app/views/donation_options/index.html.haml:
9:     %tr
10:       %td= h donation_option.title
11:       %td= h donation_option.description
12:       %td= h donation_option.ammount
13:       %td= link_to 'Show', donation_option
14:       %td= link_to 'Edit', edit_donation_option_path(donation_option)
15:       %td= link_to 'Destroy', donation_option, :confirm => 'Are you sure?', :method => :delete

    app/views/donation_options/index.html.haml:12:in `_run_haml_app47views47donation_options47index46html46haml'
    app/views/donation_options/index.html.haml:8:in `each'
    app/views/donation_options/index.html.haml:8:in `_run_haml_app47views47donation_options47index46html46haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (351.4ms)
Rendered rescues/_request_and_response (4.8ms)
Rendering rescues/layout (internal_server_error)


Processing DonationOptionsController#index (for 127.0.0.1 at 2009-05-16 12:46:20) [GET]
  [4;35;1mDonationOption Load (4.4ms)[0m   [0mSELECT * FROM "donation_options" [0m
Rendering template within layouts/application
Rendering donation_options/index
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '3422d7ea8d8929abf0410c0f999a3f0c6c052f059894f5043b8f950947d28ea771c2eddeccdba846169ba0cb23e7b3efe60c203e9a4b10b7cd7a6122d07681f9') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendered layouts/_header (183.4ms)
Completed in 314ms (View: 265, DB: 5) | 200 OK [http://localhost/donation_options]


Processing DonationOptionsController#index (for 127.0.0.1 at 2009-05-16 12:49:06) [GET]
  [4;36;1mDonationOption Load (3.0ms)[0m   [0;1mSELECT * FROM "donation_options" [0m
Rendering template within layouts/application
Rendering donation_options/index
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '3422d7ea8d8929abf0410c0f999a3f0c6c052f059894f5043b8f950947d28ea771c2eddeccdba846169ba0cb23e7b3efe60c203e9a4b10b7cd7a6122d07681f9') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendered layouts/_header (87.9ms)
Completed in 191ms (View: 148, DB: 4) | 200 OK [http://localhost/donation_options]


Processing StoriesController#index (for 127.0.0.1 at 2009-05-16 12:50:35) [GET]
  [4;35;1mStory Load (0.8ms)[0m   [0mSELECT * FROM "stories" [0m
Rendering template within layouts/application
Rendering stories/index
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '3422d7ea8d8929abf0410c0f999a3f0c6c052f059894f5043b8f950947d28ea771c2eddeccdba846169ba0cb23e7b3efe60c203e9a4b10b7cd7a6122d07681f9') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendered layouts/_header (90.5ms)
Completed in 188ms (View: 139, DB: 3) | 200 OK [http://localhost/stories]
  [4;36;1mDonationOption Load (2.4ms)[0m   [0;1mSELECT * FROM "donation_options" [0m


Processing StoriesController#new (for 127.0.0.1 at 2009-05-16 13:13:23) [GET]
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '3422d7ea8d8929abf0410c0f999a3f0c6c052f059894f5043b8f950947d28ea771c2eddeccdba846169ba0cb23e7b3efe60c203e9a4b10b7cd7a6122d07681f9') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Redirected to http://localhost:3000/user_sessions/new
Filter chain halted as [:require_user] rendered_or_redirected.
Completed in 91ms (DB: 1) | 302 Found [http://localhost/stories/new]


Processing UserSessionsController#new (for 127.0.0.1 at 2009-05-16 13:13:23) [GET]
Rendering template within layouts/application
Rendering user_sessions/new
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '3422d7ea8d8929abf0410c0f999a3f0c6c052f059894f5043b8f950947d28ea771c2eddeccdba846169ba0cb23e7b3efe60c203e9a4b10b7cd7a6122d07681f9') LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendered layouts/_header (22.2ms)
Completed in 299ms (View: 52, DB: 1) | 200 OK [http://localhost/user_sessions/new]


Processing UsersController#new (for 127.0.0.1 at 2009-05-16 13:13:26) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '3422d7ea8d8929abf0410c0f999a3f0c6c052f059894f5043b8f950947d28ea771c2eddeccdba846169ba0cb23e7b3efe60c203e9a4b10b7cd7a6122d07681f9') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Rendered layouts/_header (1.5ms)
Completed in 179ms (View: 73, DB: 1) | 200 OK [http://localhost/users/new]


Processing UserSessionsController#new (for 127.0.0.1 at 2009-05-16 13:13:29) [GET]
Rendering template within layouts/application
Rendering user_sessions/new
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '3422d7ea8d8929abf0410c0f999a3f0c6c052f059894f5043b8f950947d28ea771c2eddeccdba846169ba0cb23e7b3efe60c203e9a4b10b7cd7a6122d07681f9') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendered layouts/_header (19.7ms)
Completed in 122ms (View: 34, DB: 1) | 200 OK [http://localhost/login]


Processing UserSessionsController#create (for 127.0.0.1 at 2009-05-16 13:13:35) [POST]
  Parameters: {"commit"=>"Sign in", "user_session"=>{"username"=>"shoaib", "password"=>"abc123"}, "authenticity_token"=>"Jmz7YsdZ6NaldNM7H6cmB9w+YuMMZ3I258eTk9GadP8="}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE (LOWER("users".username) = 'shoaib') LIMIT 1[0m
Rendering template within layouts/application
Rendering user_sessions/new
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '3422d7ea8d8929abf0410c0f999a3f0c6c052f059894f5043b8f950947d28ea771c2eddeccdba846169ba0cb23e7b3efe60c203e9a4b10b7cd7a6122d07681f9') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendered layouts/_header (18.1ms)
Completed in 150ms (View: 41, DB: 1) | 200 OK [http://localhost/user_sessions]


Processing UsersController#new (for 127.0.0.1 at 2009-05-16 13:13:40) [GET]
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '3422d7ea8d8929abf0410c0f999a3f0c6c052f059894f5043b8f950947d28ea771c2eddeccdba846169ba0cb23e7b3efe60c203e9a4b10b7cd7a6122d07681f9') LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Rendered layouts/_header (1.1ms)
Completed in 149ms (View: 35, DB: 2) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-05-16 13:13:47) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"abc123", "username"=>"shoaib", "password"=>"abc123", "email"=>"saburq@gmail.com"}, "commit"=>"Sign up", "authenticity_token"=>"Jmz7YsdZ6NaldNM7H6cmB9w+YuMMZ3I258eTk9GadP8="}
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '3422d7ea8d8929abf0410c0f999a3f0c6c052f059894f5043b8f950947d28ea771c2eddeccdba846169ba0cb23e7b3efe60c203e9a4b10b7cd7a6122d07681f9') LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mUser Exists (0.8ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'saburq@gmail.com') LIMIT 1[0m
  [4;36;1mUser Exists (0.6ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."username") = 'shoaib') LIMIT 1[0m
  [4;35;1mUser Exists (0.5ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '3422d7ea8d8929abf0410c0f999a3f0c6c052f059894f5043b8f950947d28ea771c2eddeccdba846169ba0cb23e7b3efe60c203e9a4b10b7cd7a6122d07681f9') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mUser Create (0.8ms)[0m   [0;1mINSERT INTO "users" ("updated_at", "crypted_password", "username", "password_salt", "admin", "persistence_token", "email", "created_at") VALUES('2009-05-16 03:13:47', 'a19952850c9418f4f95cd97ed2128aeb814671543b71a8e3e19cfe1fb4f99e11eaa2b4a9cd1d46a4000e7bbbb11b48f1fe5665917787de7b47479b61b6b143b2', 'shoaib', '8lsOqmk02gJwIyF_MiHM', NULL, '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11', 'saburq@gmail.com', '2009-05-16 03:13:47')[0m
Redirected to http://localhost:3000/stories/new
Completed in 638ms (DB: 4) | 302 Found [http://localhost/users]


Processing StoriesController#new (for 127.0.0.1 at 2009-05-16 13:13:48) [GET]
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
Rendering template within layouts/application
Rendering stories/new
Rendered stories/_form (52.4ms)
Rendered layouts/_header (1.8ms)
Completed in 200ms (View: 75, DB: 1) | 200 OK [http://localhost/stories/new]


Processing StoriesController#create (for 127.0.0.1 at 2009-05-16 13:14:26) [POST]
  Parameters: {"commit"=>"Submit", "story"=>{"photo"=>#<File:/var/folders/9A/9ADmI6fOH7WcKgZ5MU8YEk+++TI/-Tmp-/RackMultipart.11830.1>, "public"=>"0", "body"=>"bld dbaj df ddflsa sjfs3", "title"=>"Fire"}, "authenticity_token"=>"Jmz7YsdZ6NaldNM7H6cmB9w+YuMMZ3I258eTk9GadP8="}
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
  [4;35;1mStory Create (0.8ms)[0m   [0mINSERT INTO "stories" ("updated_at", "photo_file_name", "photo_file_size", "title", "body", "public", "photo_updated_at", "photo_content_type", "user_id", "created_at") VALUES('2009-05-16 03:14:28', 'CAM39_R0010119_thumb_small.jpg', 32999, 'Fire', 'bld dbaj df ddflsa sjfs3', 'f', '2009-05-16 03:14:26', 'image/jpeg', 1, '2009-05-16 03:14:28')[0m
[paperclip] Saving attachments.
[paperclip] saving /Users/sabman/Rails/projects/pakistan-map/pakistanmap/public/assets/stories/1/original/CAM39_R0010119_thumb_small.jpg
[paperclip] saving /Users/sabman/Rails/projects/pakistan-map/pakistanmap/public/assets/stories/1/small/CAM39_R0010119_thumb_small.jpg
Redirected to http://localhost:3000/stories/1
Completed in 2450ms (DB: 2) | 302 Found [http://localhost/stories]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 13:14:29) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (1.7ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show

ActionView::TemplateError (uninitialized constant ActionView::Base::CompiledTemplates::DonationOptions) on line #25 of app/views/stories/show.html.haml:
22:   = link_to "View All", stories_path
23: 
24: - content_for :sidebar do
25:   - DonationOptions.all.each do |d|
26:     = check_box_tag
27:     = h donation_option.title
28:     = h number_to_currency(donation_option.amount)    

    app/views/stories/show.html.haml:25:in `_run_haml_app47views47stories47show46html46haml'
    haml (2.0.9) lib/haml/helpers.rb:261:in `call'
    haml (2.0.9) lib/haml/helpers.rb:261:in `capture_haml'
    haml (2.0.9) lib/haml/helpers.rb:430:in `with_haml_buffer'
    haml (2.0.9) lib/haml/helpers.rb:258:in `capture_haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:90:in `capture'
    app/views/stories/show.html.haml:24:in `_run_haml_app47views47stories47show46html46haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (224.0ms)
Rendered rescues/_request_and_response (1.2ms)
Rendering rescues/layout (internal_server_error)


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 13:14:46) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (1.2ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;36;1mDonationOption Load (1.7ms)[0m   [0;1mSELECT * FROM "donation_options" [0m

ActionView::TemplateError (wrong number of arguments (0 for 1)) on line #26 of app/views/stories/show.html.haml:
23: 
24: - content_for :sidebar do
25:   - DonationOption.all.each do |d|
26:     = check_box_tag
27:     = h donation_option.title
28:     = h number_to_currency(donation_option.amount)    

    app/views/stories/show.html.haml:26:in `check_box_tag'
    app/views/stories/show.html.haml:26:in `_run_haml_app47views47stories47show46html46haml'
    app/views/stories/show.html.haml:25:in `each'
    app/views/stories/show.html.haml:25:in `_run_haml_app47views47stories47show46html46haml'
    haml (2.0.9) lib/haml/helpers.rb:261:in `call'
    haml (2.0.9) lib/haml/helpers.rb:261:in `capture_haml'
    haml (2.0.9) lib/haml/helpers.rb:430:in `with_haml_buffer'
    haml (2.0.9) lib/haml/helpers.rb:258:in `capture_haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:90:in `capture'
    app/views/stories/show.html.haml:24:in `_run_haml_app47views47stories47show46html46haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (223.8ms)
Rendered rescues/_request_and_response (1.4ms)
Rendering rescues/layout (internal_server_error)


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 13:15:03) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (1.7ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;36;1mDonationOption Load (2.2ms)[0m   [0;1mSELECT * FROM "donation_options" [0m

ActionView::TemplateError (wrong number of arguments (0 for 1)) on line #26 of app/views/stories/show.html.haml:
23: 
24: - content_for :sidebar do
25:   - DonationOption.all.each do |d|
26:     = check_box_tag
27:     = h d.title
28:     = h number_to_currency(d.amount)    

    app/views/stories/show.html.haml:26:in `check_box_tag'
    app/views/stories/show.html.haml:26:in `_run_haml_app47views47stories47show46html46haml'
    app/views/stories/show.html.haml:25:in `each'
    app/views/stories/show.html.haml:25:in `_run_haml_app47views47stories47show46html46haml'
    haml (2.0.9) lib/haml/helpers.rb:261:in `call'
    haml (2.0.9) lib/haml/helpers.rb:261:in `capture_haml'
    haml (2.0.9) lib/haml/helpers.rb:430:in `with_haml_buffer'
    haml (2.0.9) lib/haml/helpers.rb:258:in `capture_haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:90:in `capture'
    app/views/stories/show.html.haml:24:in `_run_haml_app47views47stories47show46html46haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (250.3ms)
Rendered rescues/_request_and_response (0.9ms)
Rendering rescues/layout (internal_server_error)


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 13:15:15) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (2.5ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;36;1mDonationOption Load (1.7ms)[0m   [0;1mSELECT * FROM "donation_options" [0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
Rendered layouts/_header (81.1ms)
Completed in 213ms (View: 159, DB: 5) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 13:15:47) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (1.6ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mDonationOption Load (1.7ms)[0m   [0mSELECT * FROM "donation_options" [0m
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
Rendered layouts/_header (98.8ms)
Completed in 265ms (View: 187, DB: 5) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 13:15:58) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (2.6ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;36;1mDonationOption Load (2.1ms)[0m   [0;1mSELECT * FROM "donation_options" [0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
Rendered layouts/_header (88.9ms)
Completed in 447ms (View: 189, DB: 6) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 13:16:07) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (1.4ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mDonationOption Load (2.3ms)[0m   [0mSELECT * FROM "donation_options" [0m
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
Rendered layouts/_header (92.0ms)
Completed in 253ms (View: 193, DB: 5) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 13:16:11) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (1.7ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;36;1mDonationOption Load (3.5ms)[0m   [0;1mSELECT * FROM "donation_options" [0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
Rendered layouts/_header (264.3ms)
Completed in 416ms (View: 348, DB: 7) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 13:17:14) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (1.6ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mDonationOption Load (1.8ms)[0m   [0mSELECT * FROM "donation_options" [0m
  [4;36;1mUser Load (1.7ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
Rendered layouts/_header (70.4ms)
Completed in 204ms (View: 151, DB: 5) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 13:17:30) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (3.2ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;36;1mDonationOption Load (2.0ms)[0m   [0;1mSELECT * FROM "donation_options" [0m
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
Rendered layouts/_header (73.7ms)
Completed in 230ms (View: 163, DB: 7) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 13:17:51) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (3.6ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mDonationOption Load (1.9ms)[0m   [0mSELECT * FROM "donation_options" [0m
  [4;36;1mUser Load (1.7ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
Rendered layouts/_header (94.7ms)
Completed in 259ms (View: 190, DB: 7) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 13:18:36) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (1.7ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;36;1mDonationOption Load (5.0ms)[0m   [0;1mSELECT * FROM "donation_options" [0m
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
Rendered layouts/_header (108.5ms)
Completed in 278ms (View: 197, DB: 8) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 13:18:45) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (1.4ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mDonationOption Load (2.7ms)[0m   [0mSELECT * FROM "donation_options" [0m
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
Rendered layouts/_header (80.9ms)
Completed in 446ms (View: 380, DB: 5) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 13:18:52) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (2.8ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;36;1mDonationOption Load (1.9ms)[0m   [0;1mSELECT * FROM "donation_options" [0m
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
Rendered layouts/_header (96.3ms)
Completed in 257ms (View: 193, DB: 6) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 13:18:58) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (1.3ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mDonationOption Load (1.8ms)[0m   [0mSELECT * FROM "donation_options" [0m
  [4;36;1mUser Load (2.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
Rendered layouts/_header (89.2ms)
Completed in 261ms (View: 190, DB: 5) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 13:19:09) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (1.8ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;36;1mDonationOption Load (1.8ms)[0m   [0;1mSELECT * FROM "donation_options" [0m
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
Rendered layouts/_header (84.9ms)
Completed in 253ms (View: 191, DB: 5) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 13:20:52) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (3.0ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mDonationOption Load (1.9ms)[0m   [0mSELECT * FROM "donation_options" [0m
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
Rendered layouts/_header (78.0ms)
Completed in 239ms (View: 175, DB: 6) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 13:21:13) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (1.6ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;36;1mDonationOption Load (2.4ms)[0m   [0;1mSELECT * FROM "donation_options" [0m
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
Rendered layouts/_header (101.0ms)
Completed in 450ms (View: 207, DB: 5) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 13:21:41) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (2.7ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mDonationOption Load (1.9ms)[0m   [0mSELECT * FROM "donation_options" [0m
  [4;36;1mUser Load (1.7ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
Rendered layouts/_header (94.5ms)
Completed in 257ms (View: 185, DB: 6) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 13:23:05) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (2.9ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;36;1mDonationOption Load (2.0ms)[0m   [0;1mSELECT * FROM "donation_options" [0m
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
Rendered layouts/_header (260.3ms)
Completed in 429ms (View: 354, DB: 6) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 13:23:19) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (1.7ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mDonationOption Load (1.7ms)[0m   [0mSELECT * FROM "donation_options" [0m
  [4;36;1mUser Load (3.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
Rendered layouts/_header (97.1ms)
Completed in 266ms (View: 195, DB: 7) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 13:23:38) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (2.5ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;36;1mDonationOption Load (3.4ms)[0m   [0;1mSELECT * FROM "donation_options" [0m
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
Rendered layouts/_header (84.0ms)
Completed in 265ms (View: 196, DB: 7) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 13:24:34) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (1.5ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mDonationOption Load (1.7ms)[0m   [0mSELECT * FROM "donation_options" [0m
  [4;36;1mUser Load (2.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
Rendered layouts/_header (99.2ms)
Completed in 270ms (View: 200, DB: 6) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 13:26:17) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (1.4ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;36;1mDonationOption Load (1.9ms)[0m   [0;1mSELECT * FROM "donation_options" [0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
Rendered layouts/_header (72.4ms)
Completed in 192ms (View: 138, DB: 5) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 13:26:45) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (2.5ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mDonationOption Load (2.8ms)[0m   [0mSELECT * FROM "donation_options" [0m
  [4;36;1mUser Load (2.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
Rendered layouts/_header (80.2ms)
Completed in 436ms (View: 364, DB: 7) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 13:27:14) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (1.2ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;36;1mDonationOption Load (1.8ms)[0m   [0;1mSELECT * FROM "donation_options" [0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
Rendered layouts/_header (76.6ms)
Completed in 247ms (View: 169, DB: 4) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 13:27:24) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (1.7ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mDonationOption Load (2.3ms)[0m   [0mSELECT * FROM "donation_options" [0m
  [4;36;1mUser Load (2.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
Rendered layouts/_header (276.1ms)
Completed in 449ms (View: 383, DB: 6) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 13:27:31) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (1.4ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;36;1mDonationOption Load (2.0ms)[0m   [0;1mSELECT * FROM "donation_options" [0m
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
Rendered layouts/_header (95.6ms)
Completed in 255ms (View: 191, DB: 5) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 13:27:40) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (2.6ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mDonationOption Load (2.1ms)[0m   [0mSELECT * FROM "donation_options" [0m
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
Rendered layouts/_header (105.1ms)
Completed in 283ms (View: 216, DB: 6) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 13:31:32) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (2.6ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;36;1mDonationOption Load (2.3ms)[0m   [0;1mSELECT * FROM "donation_options" [0m
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
Rendered layouts/_header (109.7ms)
Completed in 280ms (View: 215, DB: 7) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 13:31:40) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (1.3ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mDonationOption Load (2.3ms)[0m   [0mSELECT * FROM "donation_options" [0m
  [4;36;1mUser Load (2.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
Rendered layouts/_header (106.6ms)
Completed in 271ms (View: 208, DB: 6) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 13:31:52) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (1.7ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;36;1mDonationOption Load (3.5ms)[0m   [0;1mSELECT * FROM "donation_options" [0m
  [4;35;1mUser Load (2.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
Rendered layouts/_header (99.4ms)
Completed in 431ms (View: 371, DB: 8) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 13:32:22) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (2.5ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mDonationOption Load (2.2ms)[0m   [0mSELECT * FROM "donation_options" [0m
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
Rendered layouts/_header (103.8ms)
Completed in 272ms (View: 208, DB: 6) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 13:33:30) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (1.2ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;36;1mDonationOption Load (1.9ms)[0m   [0;1mSELECT * FROM "donation_options" [0m
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
Rendered layouts/_header (269.2ms)
Completed in 437ms (View: 375, DB: 4) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 13:33:39) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (2.5ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mDonationOption Load (2.1ms)[0m   [0mSELECT * FROM "donation_options" [0m
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
Rendered layouts/_header (79.1ms)
Completed in 234ms (View: 166, DB: 6) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 13:33:56) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (1.3ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;36;1mDonationOption Load (2.2ms)[0m   [0;1mSELECT * FROM "donation_options" [0m
  [4;35;1mUser Load (2.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
Rendered layouts/_header (92.2ms)
Completed in 255ms (View: 185, DB: 6) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 13:34:20) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (1.8ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mDonationOption Load (2.3ms)[0m   [0mSELECT * FROM "donation_options" [0m
  [4;36;1mUser Load (2.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
Rendered layouts/_header (111.5ms)
Completed in 282ms (View: 214, DB: 7) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 13:37:20) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (1.7ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;36;1mDonationOption Load (2.8ms)[0m   [0;1mSELECT * FROM "donation_options" [0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
Rendered layouts/_header (93.1ms)
Completed in 261ms (View: 200, DB: 6) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 13:39:14) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (1.2ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mDonationOption Load (1.7ms)[0m   [0mSELECT * FROM "donation_options" [0m
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
Rendered layouts/_header (282.4ms)
Completed in 412ms (View: 356, DB: 4) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 14:09:31) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (1.4ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;36;1mDonationOption Load (1.9ms)[0m   [0;1mSELECT * FROM "donation_options" [0m
  [4;35;1mUser Load (1.9ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
Rendered layouts/_header (97.7ms)
Completed in 279ms (View: 196, DB: 5) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 14:22:38) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (1.3ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mDonationOption Load (3.4ms)[0m   [0mSELECT * FROM "donation_options" [0m
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
Rendered layouts/_header (126.5ms)
Completed in 350ms (View: 258, DB: 6) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 14:22:46) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (1.3ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;36;1mDonationOption Load (2.0ms)[0m   [0;1mSELECT * FROM "donation_options" [0m
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
Rendered layouts/_header (81.8ms)
Completed in 260ms (View: 195, DB: 5) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 14:23:17) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (3.3ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mDonationOption Load (3.5ms)[0m   [0mSELECT * FROM "donation_options" [0m
  [4;36;1mUser Load (1.7ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
Rendered layouts/_header (101.8ms)
Completed in 291ms (View: 217, DB: 8) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 14:23:37) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (2.5ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;36;1mDonationOption Load (3.5ms)[0m   [0;1mSELECT * FROM "donation_options" [0m
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
Rendered layouts/_header (89.5ms)
Completed in 494ms (View: 422, DB: 8) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 14:23:46) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (1.3ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mDonationOption Load (3.6ms)[0m   [0mSELECT * FROM "donation_options" [0m
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
Rendered layouts/_header (75.9ms)
Completed in 258ms (View: 185, DB: 6) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 14:23:57) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (1.3ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;36;1mDonationOption Load (2.0ms)[0m   [0;1mSELECT * FROM "donation_options" [0m
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
Rendered layouts/_header (279.4ms)
Completed in 453ms (View: 392, DB: 5) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 14:24:03) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (1.3ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mDonationOption Load (1.9ms)[0m   [0mSELECT * FROM "donation_options" [0m
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
Rendered layouts/_header (102.4ms)
Completed in 273ms (View: 212, DB: 5) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 14:24:12) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (1.4ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;36;1mDonationOption Load (2.8ms)[0m   [0;1mSELECT * FROM "donation_options" [0m
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
Rendered layouts/_header (88.8ms)
Completed in 274ms (View: 203, DB: 6) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 14:24:28) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (1.7ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mDonationOption Load (2.3ms)[0m   [0mSELECT * FROM "donation_options" [0m
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
Rendered layouts/_header (96.7ms)
Completed in 288ms (View: 199, DB: 6) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 14:24:41) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (1.3ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;36;1mDonationOption Load (4.5ms)[0m   [0;1mSELECT * FROM "donation_options" [0m
  [4;35;1mUser Load (1.7ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
Rendered layouts/_header (85.4ms)
Completed in 253ms (View: 192, DB: 7) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 14:25:10) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (2.7ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mDonationOption Load (2.6ms)[0m   [0mSELECT * FROM "donation_options" [0m
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
Rendered layouts/_header (81.8ms)
Completed in 486ms (View: 416, DB: 7) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 14:25:21) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (2.1ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;36;1mDonationOption Load (1.7ms)[0m   [0;1mSELECT * FROM "donation_options" [0m
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
Rendered layouts/_header (95.1ms)
Completed in 255ms (View: 191, DB: 5) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 14:26:00) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (2.1ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mDonationOption Load (4.2ms)[0m   [0mSELECT * FROM "donation_options" [0m
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
Rendered layouts/_header (104.5ms)
Completed in 279ms (View: 206, DB: 8) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 14:26:27) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (2.7ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;36;1mDonationOption Load (4.1ms)[0m   [0;1mSELECT * FROM "donation_options" [0m
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
Rendered layouts/_header (95.1ms)
Completed in 278ms (View: 200, DB: 8) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 14:26:54) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (3.1ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mDonationOption Load (2.0ms)[0m   [0mSELECT * FROM "donation_options" [0m
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
Rendered layouts/_header (100.0ms)
Completed in 271ms (View: 195, DB: 6) | 200 OK [http://localhost/stories/1]


Processing StoriesController#index (for 127.0.0.1 at 2009-05-16 15:36:17) [GET]
  [4;35;1mStory Load (2.8ms)[0m   [0mSELECT * FROM "stories" [0m
Rendering template within layouts/application
Rendering stories/index
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
Rendered layouts/_header (97.0ms)
Completed in 195ms (View: 128, DB: 4) | 200 OK [http://localhost/]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 15:36:21) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (1.6ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;36;1mDonationOption Load (1.8ms)[0m   [0;1mSELECT * FROM "donation_options" [0m
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
Rendered layouts/_header (97.9ms)
Completed in 249ms (View: 172, DB: 5) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 15:36:21) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (1.7ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mDonationOption Load (2.5ms)[0m   [0mSELECT * FROM "donation_options" [0m
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
Rendered layouts/_header (82.9ms)
Completed in 407ms (View: 334, DB: 6) | 200 OK [http://localhost/stories/1]
  [4;36;1mUser Exists (1.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'saburq@gmail.com') LIMIT 1[0m
  [4;35;1mUser Exists (1.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."username") = 'shoaib') LIMIT 1[0m
  [4;36;1mUser Exists (0.6ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = '224055924109ba92e28751f9cf461e346de5c6d609278a71d4743e429d13d46168348db31028e6ba083a13162feba32fd31f2fbdf08e46cf939eb5a6b8691a17') LIMIT 1[0m
  [4;35;1mUser Exists (0.7ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'saburq@gmail.com') LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."username") = 'sabman') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = '3a2975b4efa3460b1a67cd8cc9a62827bc34c8409435445e1f282f67e7e5813e7bf9a2d26aa3e10f4b18ced2a7f7e3ad17a309681fe25d77f2583ddaa9a21d34') LIMIT 1[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'sabman@gmail.com') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."username") = 'sabman') LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = 'e48a18bbb952fe0acfccc9313e51876d9988b5aa5b205b71c8f73412920660c63d53ddbfab7b8284ee0fca305b94b2d20dadc2e393b6d4ee54aa39517e865702') LIMIT 1[0m
  [4;35;1mUser Create (1.1ms)[0m   [0mINSERT INTO "users" ("updated_at", "crypted_password", "username", "password_salt", "admin", "persistence_token", "email", "created_at") VALUES('2009-05-16 05:40:41', '45429470a1929a93e846a907896052fc84bb7b4e340107574a5d7e6c5f750b75170baa08057bb3e9338970e10ba251dcb2586235a1f03feaf3f1779e918018e0', 'sabman', '8rZ-9mTAx1YG8-qHCwiK', NULL, 'e48a18bbb952fe0acfccc9313e51876d9988b5aa5b205b71c8f73412920660c63d53ddbfab7b8284ee0fca305b94b2d20dadc2e393b6d4ee54aa39517e865702', 'sabman@gmail.com', '2009-05-16 05:40:41')[0m
  [4;36;1mSQL (2.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (2.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (2.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateDonationOptions (20090516023338)
  [4;36;1mSQL (0.9ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (98.1ms)[0m   [0mDROP TABLE "donation_options"[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090516023338'[0m
Migrating to AddAttachmentsPhotoToStory (20090515151409)
  [4;35;1mSQL (2.5ms)[0m   [0mCREATE TEMPORARY TABLE "altered_stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "user_id" integer, "created_at" datetime, "updated_at" datetime, "photo_file_name" varchar(255), "photo_content_type" varchar(255), "photo_file_size" integer, "photo_updated_at" datetime) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mPRAGMA index_list("stories")[0m
  [4;35;1mSQL (0.7ms)[0m   [0mDROP TABLE "stories"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "user_id" integer, "created_at" datetime, "updated_at" datetime, "photo_content_type" varchar(255), "photo_file_size" integer, "photo_updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mPRAGMA index_list("altered_stories")[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mDROP TABLE "altered_stories"[0m
  [4;35;1mSQL (0.4ms)[0m   [0mCREATE TEMPORARY TABLE "altered_stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "user_id" integer, "created_at" datetime, "updated_at" datetime, "photo_content_type" varchar(255), "photo_file_size" integer, "photo_updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mPRAGMA index_list("stories")[0m
  [4;35;1mSQL (0.6ms)[0m   [0mDROP TABLE "stories"[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "user_id" integer, "created_at" datetime, "updated_at" datetime, "photo_file_size" integer, "photo_updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mPRAGMA index_list("altered_stories")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP TABLE "altered_stories"[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCREATE TEMPORARY TABLE "altered_stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "user_id" integer, "created_at" datetime, "updated_at" datetime, "photo_file_size" integer, "photo_updated_at" datetime) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mPRAGMA index_list("stories")[0m
  [4;35;1mSQL (0.6ms)[0m   [0mDROP TABLE "stories"[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "user_id" integer, "created_at" datetime, "updated_at" datetime, "photo_updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mPRAGMA index_list("altered_stories")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP TABLE "altered_stories"[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCREATE TEMPORARY TABLE "altered_stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "user_id" integer, "created_at" datetime, "updated_at" datetime, "photo_updated_at" datetime) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mPRAGMA index_list("stories")[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP TABLE "stories"[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mPRAGMA index_list("altered_stories")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDROP TABLE "altered_stories"[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20090515151409'[0m
Migrating to ActsAsCommentableWithThreadingMigration (20090514113916)
  [4;36;1mSQL (1.1ms)[0m   [0;1mDROP TABLE "comments"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20090514113916'[0m
Migrating to CreateStories (20090509095110)
  [4;36;1mSQL (1.5ms)[0m   [0;1mDROP TABLE "stories"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20090509095110'[0m
Migrating to CreateUsers (20090509030350)
  [4;36;1mSQL (0.9ms)[0m   [0;1mDROP TABLE "users"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20090509030350'[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20090509030350)
  [4;36;1mSQL (0.8ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "persistence_token" varchar(255), "admin" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090509030350')[0m
Migrating to CreateStories (20090509095110)
  [4;35;1mSQL (1.5ms)[0m   [0mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'shoaib@nomad-labs.com') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."username") = 'shoaib') LIMIT 1[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = '9de5e3b7d56c4aa466cbf2f4163c280f8f63fcf61784824d331f16dc07112494a5d657dd4a3ab313ef693c298a50c3b2a917fc6c5ef244683e073d32e0626228') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("updated_at", "crypted_password", "username", "password_salt", "admin", "persistence_token", "email", "created_at") VALUES('2009-05-16 05:50:45', '0ebd70107f2a1a660bc83a143d40288640f90fe113eefb5f5eb2b8a9f72c0c861560ef5110d727f56dc69d3e352cb741189e14f257a4ff74ec6713c11b30d88a', 'shoaib', 'EdBrZGICDbO5UITNTezh', NULL, '9de5e3b7d56c4aa466cbf2f4163c280f8f63fcf61784824d331f16dc07112494a5d657dd4a3ab313ef693c298a50c3b2a917fc6c5ef244683e073d32e0626228', 'shoaib@nomad-labs.com', '2009-05-16 05:50:45')[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'aric.smith@kautzergoyette.name') LIMIT 1[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."username") = 'fern') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = 'c3dce14a60c77ca89cb3e7d6c54d65626ffda7ba77392f22525e3af20c22438146dcfa73439f0b16a1ce54ae7e43f9a6ffc1c95570c696da4d2c8ee9fdc1db55') LIMIT 1[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20090509030350)
Migrating to CreateStories (20090509095110)
  [4;36;1mSQL (0.4ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20090509030350)
Migrating to CreateStories (20090509095110)
  [4;36;1mSQL (0.4ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'shoaib@nomad-labs.com') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."username") = 'shoaib') LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = '70d31f111f860506f58350ae087859ca6deac7f49ed007002609907a32723b2471782a17c61365ce3a301354f5fa355717fe24d983cbde14cf6557d2614593d8') LIMIT 1[0m
  [4;35;1mUser Create (0.5ms)[0m   [0mINSERT INTO "users" ("updated_at", "crypted_password", "username", "password_salt", "admin", "persistence_token", "email", "created_at") VALUES('2009-05-16 05:53:51', '911ae8a8d12d5ec02b700fb5f7450a5ae2b53ad781c26475aff3ef545533448df4b7e41eae15a7630dd7f833e7480b538bedaa5bd1873ef0b119310d0ee094ad', 'shoaib', '_HYLM29F9zFEcTp7ChrD', NULL, '70d31f111f860506f58350ae087859ca6deac7f49ed007002609907a32723b2471782a17c61365ce3a301354f5fa355717fe24d983cbde14cf6557d2614593d8', 'shoaib@nomad-labs.com', '2009-05-16 05:53:51')[0m
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'aric.smith@kautzergoyette.name') LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."username") = 'fern') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = 'bbef578f0b70f328521815bedc18ed423f59384958158ebef3f1c68f3f4adbe0fc3a66536e483f6ea0892c8a656eed60d3ee5a726aa75b590fd2f53f47010c74') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20090509030350)
Migrating to CreateStories (20090509095110)
  [4;36;1mSQL (0.4ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'shoaib@nomad-labs.com') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."username") = 'shoaib') LIMIT 1[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = 'a657e4a0c650d91a63a0eed76a0d8423761ba39f989fdee0e65117b1cc8e20d80e9e1177e2b5ed67121346359cfb2e108de7863b72aaeaa44bdf9fb2c779b572') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("updated_at", "crypted_password", "username", "password_salt", "admin", "persistence_token", "email", "created_at") VALUES('2009-05-16 05:54:45', 'cfe5ae2afa9bcde43bff5d37bfbfbdef793a7b88844bbf337f512303ba8052ff448d89ef9fb7d19f25151db3a94ec04a76e14a49e50cb618786147a9dde5d170', 'shoaib', '7cu-JeeHmaPIoT_sQNAk', NULL, 'a657e4a0c650d91a63a0eed76a0d8423761ba39f989fdee0e65117b1cc8e20d80e9e1177e2b5ed67121346359cfb2e108de7863b72aaeaa44bdf9fb2c779b572', 'shoaib@nomad-labs.com', '2009-05-16 05:54:45')[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Exists (0.5ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'shoaib@nomad-labs.com') LIMIT 1[0m
  [4;36;1mUser Exists (0.5ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."username") = 'shoaib') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = '3a94642893389a0e054224912e95d45efa33cfb27c901a361901830f959606f564e0915e6bd6933f362f5574b4830485141e9eadc52ae9866f5199f51037466e') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20090509030350)
  [4;36;1mSQL (0.6ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.9ms)[0m   [0mDROP TABLE "users"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090509030350'[0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20090509030350)
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "persistence_token" varchar(255), "admin" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090509030350')[0m
Migrating to CreateStories (20090509095110)
  [4;35;1mSQL (1.0ms)[0m   [0mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'shoaib@nomad-labs.com') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."username") = 'shoaib') LIMIT 1[0m
  [4;36;1mUser Exists (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = '76f4e0db94961ce58a0bccbece72f904d345027d3ce67bf9d81469ccddf6286cc559b9327cf8bf7bf92f24c120b9e5a93dbf3ff73153355b39191f93ecf00978') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("updated_at", "crypted_password", "username", "password_salt", "admin", "persistence_token", "email", "created_at") VALUES('2009-05-16 05:56:04', '2160ffda834fec4ab488d955a4fc064ef2d0957e4180fc79ee0d0d7f5bc8d58a4420fe9510f50583afa3e65630b95f6a7272bedac135787a30b32cd6004cf900', 'shoaib', 'MVACQBKem5EQ9V2q5nx-', NULL, '76f4e0db94961ce58a0bccbece72f904d345027d3ce67bf9d81469ccddf6286cc559b9327cf8bf7bf92f24c120b9e5a93dbf3ff73153355b39191f93ecf00978', 'shoaib@nomad-labs.com', '2009-05-16 05:56:04')[0m
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Exists (0.5ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'shoaib@nomad-labs.com') LIMIT 1[0m
  [4;36;1mUser Exists (0.9ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."username") = 'shoaib') LIMIT 1[0m
  [4;35;1mUser Exists (0.5ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = '8d976421dfda308ffe940df75659e2d2d5e187528f9fabb0413ec20781daceec5d31ca202ca147e7e8286e9b3c4654626beffa3e21761c0f0851aa711b7d49be') LIMIT 1[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20090509030350)
  [4;36;1mSQL (0.8ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.1ms)[0m   [0mDROP TABLE "users"[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090509030350'[0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20090509030350)
  [4;36;1mSQL (0.4ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "persistence_token" varchar(255), "admin" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090509030350')[0m
Migrating to CreateStories (20090509095110)
  [4;35;1mSQL (0.8ms)[0m   [0mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'shoaib@nomad-labs.com') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."username") = 'shoaib') LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = 'ebe6d3473656c3b31f8861fcfd2834a81009c0216d8b5adbe8ff32374efac17b876556fd66640cc18ff5c42cf772b903dfc8bdeb7f632bb24d97b6d4e86e0cdc') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("updated_at", "crypted_password", "username", "password_salt", "admin", "persistence_token", "email", "created_at") VALUES('2009-05-16 05:57:47', '68f6bde4ae3ad204e329f10d35bfe2976435e7243389992b62e79f9c614ce3919341ef622941fcddbe99725a1d538f3cd0de870b18aa296e92a4fffa2c34a81c', 'shoaib', 'BjsMUlNazfhjWN9p8y1h', NULL, 'ebe6d3473656c3b31f8861fcfd2834a81009c0216d8b5adbe8ff32374efac17b876556fd66640cc18ff5c42cf772b903dfc8bdeb7f632bb24d97b6d4e86e0cdc', 'shoaib@nomad-labs.com', '2009-05-16 05:57:47')[0m
  [4;36;1mUser Load (1.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (1.1ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20090509030350)
Migrating to CreateStories (20090509095110)
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.8ms)[0m   [0mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090509095110')[0m
Migrating to ActsAsCommentableWithThreadingMigration (20090514113916)
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCREATE TABLE "comments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "commentable_id" integer DEFAULT 0, "commentable_type" varchar(15) DEFAULT '', "title" varchar(255) DEFAULT '', "body" text DEFAULT '', "subject" varchar(255) DEFAULT '', "user_id" integer DEFAULT 0 NOT NULL, "parent_id" integer, "lft" integer, "rgt" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mCREATE INDEX "index_comments_on_user_id" ON "comments" ("user_id")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE INDEX "index_comments_on_commentable_id" ON "comments" ("commentable_id")[0m
  [4;35;1mSQL (0.6ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090514113916')[0m
Migrating to AddAttachmentsPhotoToStory (20090515151409)
  [4;36;1mSQL (0.9ms)[0m   [0;1mALTER TABLE "stories" ADD "photo_file_name" varchar(255)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "stories" ADD "photo_content_type" varchar(255)[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mALTER TABLE "stories" ADD "photo_file_size" integer[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "stories" ADD "photo_updated_at" datetime[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090515151409')[0m
Migrating to CreateDonationOptions (20090516023338)
  [4;35;1mSQL (0.9ms)[0m   [0mCREATE TABLE "donation_options" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" varchar(255), "amount" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mDonationOption Create (0.5ms)[0m   [0;1mINSERT INTO "donation_options" ("updated_at", "title", "description", "amount", "created_at") VALUES('2009-05-16 05:59:50', 'Small change', 'If enough people give up a bit of small change we can make a big change', 1, '2009-05-16 05:59:50')[0m
  [4;35;1mDonationOption Create (0.3ms)[0m   [0mINSERT INTO "donation_options" ("updated_at", "title", "description", "amount", "created_at") VALUES('2009-05-16 05:59:50', 'More than just change', 'So you feel you have more than just small change to spare', 5, '2009-05-16 05:59:50')[0m
  [4;36;1mDonationOption Create (0.3ms)[0m   [0;1mINSERT INTO "donation_options" ("updated_at", "title", "description", "amount", "created_at") VALUES('2009-05-16 05:59:50', 'Phylantorpist', 'Rolling in it? What are you waiting for then?', 10, '2009-05-16 05:59:50')[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090516023338')[0m
Migrating to AddSomeStories (20090516055854)
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'shoaib@nomad-labs.com') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."username") = 'shoaib') LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = '3bc29c6a9ac608ca4901f688322ef1b47a8db9fa2b309357f79ef51ae2cb3f3088064f545f03ee287a0bb462ac40d8366ca39cf5f3c893115353ec4d2d655768') LIMIT 1[0m
  [4;35;1mUser Create (0.7ms)[0m   [0mINSERT INTO "users" ("updated_at", "crypted_password", "username", "password_salt", "admin", "persistence_token", "email", "created_at") VALUES('2009-05-16 05:59:50', 'e44461ef26d5a0f9d7105f13125ffc73f4f0b68cfcafe0c3007f84068066fab1d543a4f06848e11bf28a55193de4d04bf5c91d29d125b106ee5bf7d1444a528c', 'shoaib', 'YOx_upwaaH-elhhYlv6X', NULL, '3bc29c6a9ac608ca4901f688322ef1b47a8db9fa2b309357f79ef51ae2cb3f3088064f545f03ee287a0bb462ac40d8366ca39cf5f3c893115353ec4d2d655768', 'shoaib@nomad-labs.com', '2009-05-16 05:59:50')[0m
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (2.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20090509030350)
Migrating to CreateStories (20090509095110)
Migrating to ActsAsCommentableWithThreadingMigration (20090514113916)
Migrating to AddAttachmentsPhotoToStory (20090515151409)
Migrating to CreateDonationOptions (20090516023338)
Migrating to AddSomeStories (20090516055854)
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20090509030350)
Migrating to CreateStories (20090509095110)
Migrating to ActsAsCommentableWithThreadingMigration (20090514113916)
Migrating to AddAttachmentsPhotoToStory (20090515151409)
Migrating to CreateDonationOptions (20090516023338)
Migrating to AddSomeStories (20090516055854)
  [4;36;1mSQL (0.4ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mUser Exists (0.8ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'shoaib@nomad-labs.com') LIMIT 1[0m
  [4;36;1mUser Exists (0.5ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."username") = 'shoaib') LIMIT 1[0m
  [4;35;1mUser Exists (0.5ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = 'a1bd6f5aeebd034c7a33b49dda379ab1f033ef4b12ac8c468afbf14ee8fe8ad5d6f78e53680df25350bf2f5194ba1c2cc3800264f246f9bc23020bc3928a7d3c') LIMIT 1[0m
  [4;36;1mUser Create (0.8ms)[0m   [0;1mINSERT INTO "users" ("updated_at", "crypted_password", "username", "password_salt", "admin", "persistence_token", "email", "created_at") VALUES('2009-05-16 06:01:59', '4e57b47022ca185bc5a58d805622100c1c52d7b909e3afc5f737d83d809141371e76b233ba6f9ba0d921dbbeaacf79600b2c3e754f9e6e52cd27a7064931839d', 'shoaib', 'fFYBlB_lRn3JDiRM9UQC', NULL, 'a1bd6f5aeebd034c7a33b49dda379ab1f033ef4b12ac8c468afbf14ee8fe8ad5d6f78e53680df25350bf2f5194ba1c2cc3800264f246f9bc23020bc3928a7d3c', 'shoaib@nomad-labs.com', '2009-05-16 06:01:59')[0m
  [4;35;1mUser Load (2.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mStory Create (0.5ms)[0m   [0;1mINSERT INTO "stories" ("updated_at", "photo_file_name", "photo_file_size", "title", "body", "public", "photo_updated_at", "photo_content_type", "user_id", "created_at") VALUES('2009-05-16 06:01:59', NULL, NULL, 'Vel voluptate aliquid et doloribus sint eum ad sequi.', 'Consequatur reprehenderit mollitia repellendus debitis rerum nihil. Ea inventore ut aut soluta dolores dolorem beatae. Voluptas quo minima sapiente voluptatibus sit. Iusto est architecto dolorum omnis provident.', NULL, NULL, NULL, 1, '2009-05-16 06:01:59')[0m
[paperclip] Saving attachments.
  [4;35;1mStory Load (2.3ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090516055854')[0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (1.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mPRAGMA index_list("comments")[0m
  [4;35;1mSQL (0.7ms)[0m   [0mPRAGMA index_info('index_comments_on_commentable_id')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mPRAGMA index_info('index_comments_on_user_id')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("donation_options")[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mPRAGMA index_list("stories")[0m
  [4;35;1mSQL (0.3ms)[0m   [0mPRAGMA index_list("users")[0m


Processing StoriesController#index (for 127.0.0.1 at 2009-05-16 16:02:50) [GET]
  [4;36;1mStory Load (2.1ms)[0m   [0;1mSELECT * FROM "stories" [0m
Rendering template within layouts/application
Rendering stories/index
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
  [4;36;1mUser Load (1.9ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendered layouts/_header (266.0ms)
Completed in 512ms (View: 463, DB: 4) | 200 OK [http://localhost/]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 16:02:53) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (2.6ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;36;1mDonationOption Load (2.0ms)[0m   [0;1mSELECT * FROM "donation_options" [0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendered layouts/_header (95.3ms)
Completed in 268ms (View: 202, DB: 7) | 200 OK [http://localhost/stories/1]


Processing ApplicationController#index (for 127.0.0.1 at 2009-05-16 16:02:54) [GET]

ActionController::RoutingError (No route matches "/photos/small/missing.png" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 16:04:28) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (1.4ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;36;1mDonationOption Load (1.9ms)[0m   [0;1mSELECT * FROM "donation_options" [0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendered layouts/_header (224.6ms)
Completed in 366ms (View: 310, DB: 5) | 200 OK [http://localhost/stories/1]


Processing ApplicationController#index (for 127.0.0.1 at 2009-05-16 16:04:29) [GET]

ActionController::RoutingError (No route matches "/photos/small/missing.png" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 16:04:32) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (2.7ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;36;1mDonationOption Load (3.5ms)[0m   [0;1mSELECT * FROM "donation_options" [0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendered layouts/_header (82.5ms)
Completed in 244ms (View: 170, DB: 8) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 16:04:32) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (2.4ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;36;1mDonationOption Load (1.7ms)[0m   [0;1mSELECT * FROM "donation_options" [0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
  [4;36;1mUser Load (1.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendered layouts/_header (74.6ms)
Completed in 349ms (View: 272, DB: 6) | 200 OK [http://localhost/stories/1]


Processing ApplicationController#index (for 127.0.0.1 at 2009-05-16 16:04:33) [GET]

ActionController::RoutingError (No route matches "/photos/small/missing.png" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 16:04:45) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (1.6ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;36;1mDonationOption Load (2.2ms)[0m   [0;1mSELECT * FROM "donation_options" [0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendered layouts/_header (90.9ms)
Completed in 268ms (View: 201, DB: 6) | 200 OK [http://localhost/stories/1]


Processing ApplicationController#index (for 127.0.0.1 at 2009-05-16 16:04:46) [GET]

ActionController::RoutingError (No route matches "/photos/small/missing.png" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;36;1mStory Load (3.5ms)[0m   [0;1mSELECT * FROM "stories" LIMIT 1[0m


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 16:06:37) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (1.3ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show

ActionView::TemplateError (undefined local variable or method `story' for #<ActionView::Base:0x18bee98>) on line #6 of app/views/stories/show.html.haml:
3: %h2
4:   = h @story.title
5: 
6: = image_tag @story.photo.url(:small) if story.photo.exists?
7: 
8: %p
9:   = h @story.body

    app/views/stories/show.html.haml:6:in `_run_haml_app47views47stories47show46html46haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (175.0ms)
Rendered rescues/_request_and_response (4.7ms)
Rendering rescues/layout (internal_server_error)


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 16:06:49) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (2.1ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mDonationOption Load (1.7ms)[0m   [0mSELECT * FROM "donation_options" [0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendered layouts/_header (103.9ms)
Completed in 412ms (View: 338, DB: 6) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 16:32:11) [GET]
  Parameters: {"id"=>"3"}
  [4;36;1mStory Load (0.4ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 3) [0m

ActiveRecord::RecordNotFound (Couldn't find Story with ID=3):
  app/controllers/stories_controller.rb:9:in `show'
  haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (154.4ms)
Rendered rescues/_request_and_response (1.1ms)
Rendering rescues/layout (not_found)


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 16:32:12) [GET]
  Parameters: {"id"=>"3"}
  [4;35;1mStory Load (0.5ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 3) [0m

ActiveRecord::RecordNotFound (Couldn't find Story with ID=3):
  app/controllers/stories_controller.rb:9:in `show'
  haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (338.0ms)
Rendered rescues/_request_and_response (1.2ms)
Rendering rescues/layout (not_found)


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 16:32:23) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (1.3ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mDonationOption Load (2.2ms)[0m   [0mSELECT * FROM "donation_options" [0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendered layouts/_header (103.6ms)
Completed in 263ms (View: 197, DB: 5) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 16:32:34) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (1.5ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mDonationOption Load (1.8ms)[0m   [0mSELECT * FROM "donation_options" [0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendered layouts/_header (249.2ms)
Completed in 371ms (View: 314, DB: 5) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 16:32:49) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (1.4ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mDonationOption Load (3.6ms)[0m   [0mSELECT * FROM "donation_options" [0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
  [4;35;1mUser Load (2.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendered layouts/_header (114.7ms)
Completed in 314ms (View: 234, DB: 8) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 16:33:12) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (1.2ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mDonationOption Load (2.3ms)[0m   [0mSELECT * FROM "donation_options" [0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
  [4;35;1mUser Load (1.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendered layouts/_header (98.6ms)
Completed in 273ms (View: 205, DB: 5) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 16:34:11) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (1.3ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mDonationOption Load (1.8ms)[0m   [0mSELECT * FROM "donation_options" [0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendered layouts/_header (96.0ms)
Completed in 276ms (View: 202, DB: 5) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 16:34:41) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (1.3ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mDonationOption Load (1.7ms)[0m   [0mSELECT * FROM "donation_options" [0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendered layouts/_header (99.1ms)
Completed in 245ms (View: 177, DB: 5) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 16:34:51) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (1.3ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mDonationOption Load (2.6ms)[0m   [0mSELECT * FROM "donation_options" [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendered layouts/_header (88.5ms)
Completed in 378ms (View: 306, DB: 6) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 16:34:57) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (1.8ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mDonationOption Load (1.7ms)[0m   [0mSELECT * FROM "donation_options" [0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendered layouts/_header (95.1ms)
Completed in 254ms (View: 201, DB: 6) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 16:35:04) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (1.2ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mDonationOption Load (2.2ms)[0m   [0mSELECT * FROM "donation_options" [0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendered layouts/_header (233.9ms)
Completed in 418ms (View: 335, DB: 5) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 16:35:35) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (1.3ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mDonationOption Load (1.8ms)[0m   [0mSELECT * FROM "donation_options" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
  [4;35;1mUser Load (1.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendered layouts/_header (91.5ms)
Completed in 248ms (View: 180, DB: 5) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 16:35:40) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (1.3ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mDonationOption Load (2.9ms)[0m   [0mSELECT * FROM "donation_options" [0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendered layouts/_header (85.7ms)
Completed in 234ms (View: 177, DB: 6) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 16:36:35) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (1.3ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mDonationOption Load (2.5ms)[0m   [0mSELECT * FROM "donation_options" [0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendered layouts/_header (86.5ms)
Completed in 246ms (View: 178, DB: 6) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 16:37:11) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (1.2ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mDonationOption Load (1.7ms)[0m   [0mSELECT * FROM "donation_options" [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
  [4;35;1mUser Load (2.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendered layouts/_header (102.2ms)
Completed in 292ms (View: 205, DB: 6) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 16:37:26) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (1.3ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mDonationOption Load (1.7ms)[0m   [0mSELECT * FROM "donation_options" [0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendered layouts/_header (84.8ms)
Completed in 418ms (View: 346, DB: 5) | 200 OK [http://localhost/stories/1]


Processing StoriesController#index (for 127.0.0.1 at 2009-05-16 16:51:12) [GET]
  [4;36;1mStory Load (1.9ms)[0m   [0;1mSELECT * FROM "stories" [0m
Rendering template within layouts/application
Rendering stories/index
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendered layouts/_header (113.8ms)
Completed in 208ms (View: 152, DB: 4) | 200 OK [http://localhost/]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 16:51:15) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (1.4ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;36;1mDonationOption Load (1.8ms)[0m   [0;1mSELECT * FROM "donation_options" [0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendered layouts/_header (82.3ms)
Completed in 243ms (View: 179, DB: 5) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 16:53:01) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (2.0ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;36;1mDonationOption Load (1.8ms)[0m   [0;1mSELECT * FROM "donation_options" [0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendered layouts/_header (88.9ms)
Completed in 252ms (View: 182, DB: 5) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 16:53:32) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (1.5ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;36;1mDonationOption Load (3.3ms)[0m   [0;1mSELECT * FROM "donation_options" [0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendered layouts/_header (98.1ms)
Completed in 291ms (View: 211, DB: 7) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 16:54:08) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (1.5ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;36;1mDonationOption Load (1.8ms)[0m   [0;1mSELECT * FROM "donation_options" [0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
  [4;36;1mUser Load (1.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendered layouts/_header (93.7ms)
Completed in 401ms (View: 194, DB: 5) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 17:04:39) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (1.4ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
ERROR: compiling _run_haml_app47views47stories47show46html46haml RAISED compile error
/Users/sabman/Rails/projects/pakistan-map/pakistanmap/app/views/stories/show.html.haml:23: syntax error, unexpected ':', expecting kEND
_hamlout.push_text("<div class='block'>\n  <h3>Donation Options</h3>\n  <p>Here are some options to help out. You will need a paypal account or a credit card</p>\n  <ul class='list'>\n", false, 2); form_for @story :action => :donate do |f|;
                                                                                                                                                                                                                       ^
Function body:           def _run_haml_app47views47stories47show46html46haml(local_assigns)
            old_output_buffer = output_buffer;;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :format=>:xhtml, :preserve=>["textarea", "pre"], :attr_wrapper=>"'", :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;; title "Story";


_hamlout.push_text("<h2>\n  ", false, 1);haml_temp =  h @story.title;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
_hamlout.push_text("</h2>\n", false, -1);haml_temp =  image_tag @story.photo.url(:small) if @story.photo.exists?;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);

_hamlout.push_text("<p>\n  ", false, 1);haml_temp =  h @story.body;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);

_hamlout.push_text("</p>\n<p>\n  ");haml_temp =  link_to "Edit", edit_story_path(@story);
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
_hamlout.push_text("  |\n  ");haml_temp =  link_to "Destroy", @story, :confirm => 'Are you sure?', :method => :delete;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
_hamlout.push_text("  |\n  ");haml_temp =  link_to "View All", stories_path;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
_hamlout.push_text("</p>\n", false, -1); content_for :sidebar do;




_hamlout.push_text("<div class='block'>\n  <h3>Donation Options</h3>\n  <p>Here are some options to help out. You will need a paypal account or a credit card</p>\n  <ul class='list'>\n", false, 2); form_for @story :action => :donate do |f|;
 DonationOption.all.each do |d|;

_hamlout.push_text("    <li>\n      ", false, 1);haml_temp =  check_box_tag(d.id, :value => 1 );
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);_hamlout.push_text("      <span class='hightlight'>", false, 1);haml_temp = h number_to_currency(d.amount);
haml_temp = _hamlout.push_script(haml_temp, nil, true, false, false, false);_hamlout.push_text("</span>\n      ", true);haml_temp =  h d.title;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);_hamlout.push_text("    </li>\n", false, -1);end;_hamlout.push_text("    ");haml_temp = f.submit "Donate to this family";
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);_hamlout.push_text("  </ul>\n</div>\n", false, -2);end;
@haml_buffer = @haml_buffer.upper;_erbout;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/sabman/Rails/projects/pakistan-map/pakistanmap/app/views/stories/show.html.haml:34:in `compile!'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:61:in `compile'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:28:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/template.rb:194:in `render_template'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:260:in `render_without_haml'
/usr/local/lib/ruby/gems/1.8/gems/haml-2.0.9/lib/haml/helpers/action_view_mods.rb:14:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:343:in `_render_with_layout'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:257:in `render_without_haml'
/usr/local/lib/ruby/gems/1.8/gems/haml-2.0.9/lib/haml/helpers/action_view_mods.rb:14:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1241:in `render_for_file'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:937:in `render_without_benchmark'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1317:in `default_render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1323:in `perform_action_without_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:617:in `call_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/flash.rb:141:in `perform_action'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `send'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `process_without_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:606:in `sass_old_process'
/usr/local/lib/ruby/gems/1.8/gems/haml-2.0.9/lib/sass/plugin/rails.rb:19:in `process'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:391:in `process'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:386:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/routing/route_set.rb:433:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:88:in `dispatch'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:111:in `_call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:82:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:9:in `cache'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:28:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/head.rb:9:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/methodoverride.rb:24:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/params_parser.rb:15:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rewindable_input.rb:25:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/session/cookie_store.rb:93:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/reloader.rb:9:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/failsafe.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `synchronize'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:106:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/cgi_process.rb:44:in `dispatch_cgi'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:102:in `dispatch_cgi'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:28:in `dispatch'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:76:in `process'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `synchronize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `process'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:159:in `process_client'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:158:in `each'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:158:in `process_client'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:285:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:285:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:285:in `new'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:285:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:268:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:268:in `new'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:268:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/configurator.rb:282:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/configurator.rb:281:in `each'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/configurator.rb:281:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/command.rb:212:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
/usr/local/bin/mongrel_rails:19:in `load'
/usr/local/bin/mongrel_rails:19

ActionView::TemplateError (compile error
/Users/sabman/Rails/projects/pakistan-map/pakistanmap/app/views/stories/show.html.haml:23: syntax error, unexpected ':', expecting kEND
_hamlout.push_text("<div class='block'>\n  <h3>Donation Options</h3>\n  <p>Here are some options to help out. You will need a paypal account or a credit card</p>\n  <ul class='list'>\n", false, 2); form_for @story :action => :donate do |f|;
                                                                                                                                                                                                                       ^) on line #23 of app/views/stories/show.html.haml:
20:     %h3 Donation Options
21:     %p Here are some options to help out. You will need a paypal account or a credit card
22:     %ul.list
23:       - form_for @story :action => :donate do |f|
24:       - DonationOption.all.each do |d|
25:         %li
26:           = check_box_tag(d.id, :value => 1 )

    app/views/stories/show.html.haml:34:in `compile!'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (262.6ms)
Rendered rescues/_request_and_response (4.9ms)
Rendering rescues/layout (internal_server_error)


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 17:06:12) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (1.6ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
ERROR: compiling _run_haml_app47views47stories47show46html46haml RAISED compile error
/Users/sabman/Rails/projects/pakistan-map/pakistanmap/app/views/stories/show.html.haml:23: syntax error, unexpected ':', expecting kEND
_hamlout.push_text("<div class='block'>\n  <h3>Donation Options</h3>\n  <p>Here are some options to help out. You will need a paypal account or a credit card</p>\n  <ul class='list'>\n", false, 2); form_for @story :action => :donate do |f|;
                                                                                                                                                                                                                       ^
/Users/sabman/Rails/projects/pakistan-map/pakistanmap/app/views/stories/show.html.haml:32: syntax error, unexpected kENSURE, expecting $end
Function body:           def _run_haml_app47views47stories47show46html46haml(local_assigns)
            old_output_buffer = output_buffer;;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :format=>:xhtml, :preserve=>["textarea", "pre"], :attr_wrapper=>"'", :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;; title "Story";


_hamlout.push_text("<h2>\n  ", false, 1);haml_temp =  h @story.title;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
_hamlout.push_text("</h2>\n", false, -1);haml_temp =  image_tag @story.photo.url(:small) if @story.photo.exists?;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);

_hamlout.push_text("<p>\n  ", false, 1);haml_temp =  h @story.body;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);

_hamlout.push_text("</p>\n<p>\n  ");haml_temp =  link_to "Edit", edit_story_path(@story);
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
_hamlout.push_text("  |\n  ");haml_temp =  link_to "Destroy", @story, :confirm => 'Are you sure?', :method => :delete;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
_hamlout.push_text("  |\n  ");haml_temp =  link_to "View All", stories_path;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
_hamlout.push_text("</p>\n", false, -1); content_for :sidebar do;




_hamlout.push_text("<div class='block'>\n  <h3>Donation Options</h3>\n  <p>Here are some options to help out. You will need a paypal account or a credit card</p>\n  <ul class='list'>\n", false, 2); form_for @story :action => :donate do |f|;
 DonationOption.all.each do |d|;

_hamlout.push_text("    <li>\n      ", false, 1);haml_temp =  check_box_tag(d.id, :value => 1 );
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);_hamlout.push_text("      <span class='hightlight'>", false, 1);haml_temp = h number_to_currency(d.amount);
haml_temp = _hamlout.push_script(haml_temp, nil, true, false, false, false);_hamlout.push_text("</span>\n      ", true);haml_temp =  h d.title;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);_hamlout.push_text("    </li>\n", false, -1);end;_hamlout.push_text("    ");haml_temp = f.submit "Donate to this family";
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);end;_hamlout.push_text("  </ul>\n</div>\n", false, -2);end;
@haml_buffer = @haml_buffer.upper;_erbout;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/sabman/Rails/projects/pakistan-map/pakistanmap/app/views/stories/show.html.haml:32:in `compile!'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:61:in `compile'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:28:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/template.rb:194:in `render_template'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:260:in `render_without_haml'
/usr/local/lib/ruby/gems/1.8/gems/haml-2.0.9/lib/haml/helpers/action_view_mods.rb:14:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:343:in `_render_with_layout'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:257:in `render_without_haml'
/usr/local/lib/ruby/gems/1.8/gems/haml-2.0.9/lib/haml/helpers/action_view_mods.rb:14:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1241:in `render_for_file'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:937:in `render_without_benchmark'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1317:in `default_render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1323:in `perform_action_without_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:617:in `call_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/flash.rb:141:in `perform_action'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `send'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `process_without_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:606:in `sass_old_process'
/usr/local/lib/ruby/gems/1.8/gems/haml-2.0.9/lib/sass/plugin/rails.rb:19:in `process'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:391:in `process'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:386:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/routing/route_set.rb:433:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:88:in `dispatch'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:111:in `_call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:82:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:9:in `cache'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:28:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/head.rb:9:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/methodoverride.rb:24:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/params_parser.rb:15:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rewindable_input.rb:25:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/session/cookie_store.rb:93:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/reloader.rb:9:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/failsafe.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `synchronize'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:106:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/cgi_process.rb:44:in `dispatch_cgi'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:102:in `dispatch_cgi'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:28:in `dispatch'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:76:in `process'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `synchronize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `process'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:159:in `process_client'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:158:in `each'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:158:in `process_client'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:285:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:285:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:285:in `new'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:285:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:268:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:268:in `new'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:268:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/configurator.rb:282:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/configurator.rb:281:in `each'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/configurator.rb:281:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/command.rb:212:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
/usr/local/bin/mongrel_rails:19:in `load'
/usr/local/bin/mongrel_rails:19

ActionView::TemplateError (compile error
/Users/sabman/Rails/projects/pakistan-map/pakistanmap/app/views/stories/show.html.haml:23: syntax error, unexpected ':', expecting kEND
_hamlout.push_text("<div class='block'>\n  <h3>Donation Options</h3>\n  <p>Here are some options to help out. You will need a paypal account or a credit card</p>\n  <ul class='list'>\n", false, 2); form_for @story :action => :donate do |f|;
                                                                                                                                                                                                                       ^
/Users/sabman/Rails/projects/pakistan-map/pakistanmap/app/views/stories/show.html.haml:32: syntax error, unexpected kENSURE, expecting $end) on line #23 of app/views/stories/show.html.haml:
20:     %h3 Donation Options
21:     %p Here are some options to help out. You will need a paypal account or a credit card
22:     %ul.list
23:       - form_for @story :action => :donate do |f|
24:         - DonationOption.all.each do |d|
25:           %li
26:             = check_box_tag(d.id, :value => 1 )

    app/views/stories/show.html.haml:32:in `compile!'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (354.8ms)
Rendered rescues/_request_and_response (1.5ms)
Rendering rescues/layout (internal_server_error)


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 17:06:33) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (1.2ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
ERROR: compiling _run_haml_app47views47stories47show46html46haml RAISED compile error
/Users/sabman/Rails/projects/pakistan-map/pakistanmap/app/views/stories/show.html.haml:23: syntax error, unexpected ':', expecting kEND
_hamlout.push_text("<div class='block'>\n  <h3>Donation Options</h3>\n  <p>Here are some options to help out. You will need a paypal account or a credit card</p>\n  <ul class='list'></ul>\n", false, 1); form_for @story :action => :donate do |f|;
                                                                                                                                                                                                                            ^
/Users/sabman/Rails/projects/pakistan-map/pakistanmap/app/views/stories/show.html.haml:32: syntax error, unexpected kENSURE, expecting $end
Function body:           def _run_haml_app47views47stories47show46html46haml(local_assigns)
            old_output_buffer = output_buffer;;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :format=>:xhtml, :preserve=>["textarea", "pre"], :attr_wrapper=>"'", :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;; title "Story";


_hamlout.push_text("<h2>\n  ", false, 1);haml_temp =  h @story.title;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
_hamlout.push_text("</h2>\n", false, -1);haml_temp =  image_tag @story.photo.url(:small) if @story.photo.exists?;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);

_hamlout.push_text("<p>\n  ", false, 1);haml_temp =  h @story.body;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);

_hamlout.push_text("</p>\n<p>\n  ");haml_temp =  link_to "Edit", edit_story_path(@story);
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
_hamlout.push_text("  |\n  ");haml_temp =  link_to "Destroy", @story, :confirm => 'Are you sure?', :method => :delete;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
_hamlout.push_text("  |\n  ");haml_temp =  link_to "View All", stories_path;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
_hamlout.push_text("</p>\n", false, -1); content_for :sidebar do;




_hamlout.push_text("<div class='block'>\n  <h3>Donation Options</h3>\n  <p>Here are some options to help out. You will need a paypal account or a credit card</p>\n  <ul class='list'></ul>\n", false, 1); form_for @story :action => :donate do |f|;
 DonationOption.all.each do |d|;

_hamlout.push_text("  <li>\n    ", false, 1);haml_temp =  check_box_tag(d.id, :value => 1 );
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);_hamlout.push_text("    <span class='hightlight'>", false, 1);haml_temp = h number_to_currency(d.amount);
haml_temp = _hamlout.push_script(haml_temp, nil, true, false, false, false);_hamlout.push_text("</span>\n    ", true);haml_temp =  h d.title;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);_hamlout.push_text("  </li>\n", false, -1);end;_hamlout.push_text("  ");haml_temp = f.submit "Donate to this family";
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);end;_hamlout.push_text("</div>\n", false, -1);end;
@haml_buffer = @haml_buffer.upper;_erbout;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/sabman/Rails/projects/pakistan-map/pakistanmap/app/views/stories/show.html.haml:32:in `compile!'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:61:in `compile'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:28:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/template.rb:194:in `render_template'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:260:in `render_without_haml'
/usr/local/lib/ruby/gems/1.8/gems/haml-2.0.9/lib/haml/helpers/action_view_mods.rb:14:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:343:in `_render_with_layout'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:257:in `render_without_haml'
/usr/local/lib/ruby/gems/1.8/gems/haml-2.0.9/lib/haml/helpers/action_view_mods.rb:14:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1241:in `render_for_file'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:937:in `render_without_benchmark'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1317:in `default_render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1323:in `perform_action_without_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:617:in `call_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/flash.rb:141:in `perform_action'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `send'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `process_without_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:606:in `sass_old_process'
/usr/local/lib/ruby/gems/1.8/gems/haml-2.0.9/lib/sass/plugin/rails.rb:19:in `process'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:391:in `process'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:386:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/routing/route_set.rb:433:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:88:in `dispatch'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:111:in `_call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:82:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:9:in `cache'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:28:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/head.rb:9:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/methodoverride.rb:24:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/params_parser.rb:15:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rewindable_input.rb:25:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/session/cookie_store.rb:93:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/reloader.rb:9:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/failsafe.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `synchronize'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:106:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/cgi_process.rb:44:in `dispatch_cgi'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:102:in `dispatch_cgi'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:28:in `dispatch'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:76:in `process'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `synchronize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `process'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:159:in `process_client'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:158:in `each'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:158:in `process_client'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:285:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:285:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:285:in `new'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:285:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:268:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:268:in `new'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:268:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/configurator.rb:282:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/configurator.rb:281:in `each'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/configurator.rb:281:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/command.rb:212:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
/usr/local/bin/mongrel_rails:19:in `load'
/usr/local/bin/mongrel_rails:19

ActionView::TemplateError (compile error
/Users/sabman/Rails/projects/pakistan-map/pakistanmap/app/views/stories/show.html.haml:23: syntax error, unexpected ':', expecting kEND
_hamlout.push_text("<div class='block'>\n  <h3>Donation Options</h3>\n  <p>Here are some options to help out. You will need a paypal account or a credit card</p>\n  <ul class='list'></ul>\n", false, 1); form_for @story :action => :donate do |f|;
                                                                                                                                                                                                                            ^
/Users/sabman/Rails/projects/pakistan-map/pakistanmap/app/views/stories/show.html.haml:32: syntax error, unexpected kENSURE, expecting $end) on line #23 of app/views/stories/show.html.haml:
20:     %h3 Donation Options
21:     %p Here are some options to help out. You will need a paypal account or a credit card
22:     %ul.list
23:     - form_for @story :action => :donate do |f|
24:       - DonationOption.all.each do |d|
25:         %li
26:           = check_box_tag(d.id, :value => 1 )

    app/views/stories/show.html.haml:32:in `compile!'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (201.3ms)
Rendered rescues/_request_and_response (1.5ms)
Rendering rescues/layout (internal_server_error)


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 17:07:01) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (1.4ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
ERROR: compiling _run_haml_app47views47stories47show46html46haml RAISED compile error
/Users/sabman/Rails/projects/pakistan-map/pakistanmap/app/views/stories/show.html.haml:23: syntax error, unexpected ':', expecting kEND
_hamlout.push_text("<div class='block'>\n  <h3>Donation Options</h3>\n  <p>Here are some options to help out. You will need a paypal account or a credit card</p>\n  <ul class='list'>\n", false, 2); form_for @story :action => :donate do |f|;
                                                                                                                                                                                                                       ^
/Users/sabman/Rails/projects/pakistan-map/pakistanmap/app/views/stories/show.html.haml:32: syntax error, unexpected kENSURE, expecting $end
Function body:           def _run_haml_app47views47stories47show46html46haml(local_assigns)
            old_output_buffer = output_buffer;;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :format=>:xhtml, :preserve=>["textarea", "pre"], :attr_wrapper=>"'", :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;; title "Story";


_hamlout.push_text("<h2>\n  ", false, 1);haml_temp =  h @story.title;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
_hamlout.push_text("</h2>\n", false, -1);haml_temp =  image_tag @story.photo.url(:small) if @story.photo.exists?;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);

_hamlout.push_text("<p>\n  ", false, 1);haml_temp =  h @story.body;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);

_hamlout.push_text("</p>\n<p>\n  ");haml_temp =  link_to "Edit", edit_story_path(@story);
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
_hamlout.push_text("  |\n  ");haml_temp =  link_to "Destroy", @story, :confirm => 'Are you sure?', :method => :delete;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
_hamlout.push_text("  |\n  ");haml_temp =  link_to "View All", stories_path;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
_hamlout.push_text("</p>\n", false, -1); content_for :sidebar do;




_hamlout.push_text("<div class='block'>\n  <h3>Donation Options</h3>\n  <p>Here are some options to help out. You will need a paypal account or a credit card</p>\n  <ul class='list'>\n", false, 2); form_for @story :action => :donate do |f|;
 DonationOption.all.each do |d|;

_hamlout.push_text("    <li>\n      ", false, 1);haml_temp =  check_box_tag(d.id, :value => 1 );
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);_hamlout.push_text("      <span class='hightlight'>", false, 1);haml_temp = h number_to_currency(d.amount);
haml_temp = _hamlout.push_script(haml_temp, nil, true, false, false, false);_hamlout.push_text("</span>\n      ", true);haml_temp =  h d.title;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);_hamlout.push_text("    </li>\n", false, -1);end;_hamlout.push_text("    ");haml_temp =  f.submit "Donate to this family";
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);end;_hamlout.push_text("  </ul>\n</div>\n", false, -2);end;
@haml_buffer = @haml_buffer.upper;_erbout;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/sabman/Rails/projects/pakistan-map/pakistanmap/app/views/stories/show.html.haml:32:in `compile!'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:61:in `compile'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:28:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/template.rb:194:in `render_template'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:260:in `render_without_haml'
/usr/local/lib/ruby/gems/1.8/gems/haml-2.0.9/lib/haml/helpers/action_view_mods.rb:14:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:343:in `_render_with_layout'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:257:in `render_without_haml'
/usr/local/lib/ruby/gems/1.8/gems/haml-2.0.9/lib/haml/helpers/action_view_mods.rb:14:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1241:in `render_for_file'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:937:in `render_without_benchmark'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1317:in `default_render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1323:in `perform_action_without_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:617:in `call_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/flash.rb:141:in `perform_action'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `send'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `process_without_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:606:in `sass_old_process'
/usr/local/lib/ruby/gems/1.8/gems/haml-2.0.9/lib/sass/plugin/rails.rb:19:in `process'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:391:in `process'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:386:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/routing/route_set.rb:433:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:88:in `dispatch'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:111:in `_call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:82:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:9:in `cache'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:28:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/head.rb:9:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/methodoverride.rb:24:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/params_parser.rb:15:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rewindable_input.rb:25:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/session/cookie_store.rb:93:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/reloader.rb:9:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/failsafe.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `synchronize'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:106:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/cgi_process.rb:44:in `dispatch_cgi'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:102:in `dispatch_cgi'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:28:in `dispatch'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:76:in `process'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `synchronize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `process'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:159:in `process_client'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:158:in `each'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:158:in `process_client'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:285:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:285:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:285:in `new'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:285:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:268:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:268:in `new'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:268:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/configurator.rb:282:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/configurator.rb:281:in `each'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/configurator.rb:281:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/command.rb:212:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
/usr/local/bin/mongrel_rails:19:in `load'
/usr/local/bin/mongrel_rails:19

ActionView::TemplateError (compile error
/Users/sabman/Rails/projects/pakistan-map/pakistanmap/app/views/stories/show.html.haml:23: syntax error, unexpected ':', expecting kEND
_hamlout.push_text("<div class='block'>\n  <h3>Donation Options</h3>\n  <p>Here are some options to help out. You will need a paypal account or a credit card</p>\n  <ul class='list'>\n", false, 2); form_for @story :action => :donate do |f|;
                                                                                                                                                                                                                       ^
/Users/sabman/Rails/projects/pakistan-map/pakistanmap/app/views/stories/show.html.haml:32: syntax error, unexpected kENSURE, expecting $end) on line #23 of app/views/stories/show.html.haml:
20:     %h3 Donation Options
21:     %p Here are some options to help out. You will need a paypal account or a credit card
22:     %ul.list
23:       - form_for @story :action => :donate do |f|
24:         - DonationOption.all.each do |d|
25:           %li
26:             = check_box_tag(d.id, :value => 1 )

    app/views/stories/show.html.haml:32:in `compile!'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (183.9ms)
Rendered rescues/_request_and_response (1.1ms)
Rendering rescues/layout (internal_server_error)


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 17:07:33) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (2.5ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mDonationOption Load (1.8ms)[0m   [0mSELECT * FROM "donation_options" [0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendered layouts/_header (218.1ms)
Completed in 529ms (View: 472, DB: 6) | 200 OK [http://localhost/stories/1]


Processing StoriesController#update (for 127.0.0.1 at 2009-05-16 17:07:40) [PUT]
  Parameters: {"commit"=>"Donate to this family", "authenticity_token"=>"Jmz7YsdZ6NaldNM7H6cmB9w+YuMMZ3I258eTk9GadP8=", "id"=>"1", "1"=>"value1", "2"=>"value1"}
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Redirected to http://localhost:3000/user_sessions/new
Filter chain halted as [:require_user] rendered_or_redirected.
Completed in 106ms (DB: 2) | 302 Found [http://localhost/stories/1]


Processing UserSessionsController#new (for 127.0.0.1 at 2009-05-16 17:07:40) [GET]
Rendering template within layouts/application
Rendering user_sessions/new
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendered layouts/_header (29.6ms)
Completed in 161ms (View: 68, DB: 2) | 200 OK [http://localhost/user_sessions/new]


Processing UserSessionsController#create (for 127.0.0.1 at 2009-05-16 17:07:54) [POST]
  Parameters: {"commit"=>"Sign in", "user_session"=>{"username"=>"shoaib", "password"=>"abc123"}, "authenticity_token"=>"Jmz7YsdZ6NaldNM7H6cmB9w+YuMMZ3I258eTk9GadP8="}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE (LOWER("users".username) = 'shoaib') LIMIT 1[0m
Rendering template within layouts/application
Rendering user_sessions/new
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '8c05001680cbfd9dad332ff1b23cd1f9da4806c3ea7f6422bc700d9a374e12eeab03b43877868d46a34cf6f7872ee46daa4134a63c4beadf681f4a6bd7fc9d11') LIMIT 1[0m
  [4;36;1mUser Load (2.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendered layouts/_header (25.2ms)
Completed in 366ms (View: 41, DB: 4) | 200 OK [http://localhost/user_sessions]


Processing UserSessionsController#create (for 127.0.0.1 at 2009-05-16 17:07:58) [POST]
  Parameters: {"commit"=>"Sign in", "user_session"=>{"username"=>"shoaib", "password"=>"secret"}, "authenticity_token"=>"Jmz7YsdZ6NaldNM7H6cmB9w+YuMMZ3I258eTk9GadP8="}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE (LOWER("users".username) = 'shoaib') LIMIT 1[0m
Redirected to http://localhost:3000/stories/1
Completed in 119ms (DB: 1) | 302 Found [http://localhost/user_sessions]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 17:07:59) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (1.6ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mDonationOption Load (2.1ms)[0m   [0mSELECT * FROM "donation_options" [0m
  [4;36;1mUser Load (1.9ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendered layouts/_header (85.0ms)
Completed in 236ms (View: 162, DB: 6) | 200 OK [http://localhost/stories/1]


Processing StoriesController#1 (for 127.0.0.1 at 2009-05-16 17:10:55) [POST]
  Parameters: {"commit"=>"Donate to this family", "authenticity_token"=>"Jmz7YsdZ6NaldNM7H6cmB9w+YuMMZ3I258eTk9GadP8=", "2"=>"value1", "3"=>"value1"}

ActionController::UnknownAction (No action responded to 1. Actions: create, destroy, edit, index, new, show, and update):
  haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'

Rendering rescues/layout (not_found)


Processing StoriesController#update (for 127.0.0.1 at 2009-05-16 17:13:00) [PUT]
  Parameters: {"commit"=>"Donate to this family", "authenticity_token"=>"Jmz7YsdZ6NaldNM7H6cmB9w+YuMMZ3I258eTk9GadP8=", "id"=>"1", "2"=>"value1", "3"=>"value1"}
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mStory Load (1.7ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
[paperclip] Saving attachments.
Redirected to http://localhost:3000/stories/1
Completed in 172ms (DB: 3) | 302 Found [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 17:13:00) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (1.4ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mDonationOption Load (1.8ms)[0m   [0mSELECT * FROM "donation_options" [0m
  [4;36;1mUser Load (2.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendered layouts/_header (95.5ms)
Completed in 293ms (View: 226, DB: 6) | 200 OK [http://localhost/stories/1]


Processing StoriesController#update (for 127.0.0.1 at 2009-05-16 17:13:09) [PUT]
  Parameters: {"commit"=>"Donate to this family", "authenticity_token"=>"Jmz7YsdZ6NaldNM7H6cmB9w+YuMMZ3I258eTk9GadP8=", "id"=>"1", "donation_option"=>"value3"}
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mStory Load (1.2ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
[paperclip] Saving attachments.
Redirected to http://localhost:3000/stories/1
Completed in 192ms (DB: 2) | 302 Found [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 17:13:09) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (1.2ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;36;1mDonationOption Load (1.8ms)[0m   [0;1mSELECT * FROM "donation_options" [0m
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendered layouts/_header (85.3ms)
Completed in 396ms (View: 331, DB: 4) | 200 OK [http://localhost/stories/1]


Processing StoriesController#update (for 127.0.0.1 at 2009-05-16 17:13:37) [PUT]
  Parameters: {"commit"=>"Donate to this family", "authenticity_token"=>"Jmz7YsdZ6NaldNM7H6cmB9w+YuMMZ3I258eTk9GadP8=", "id"=>"1", "donation_option"=>"value3"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mStory Load (1.7ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
[paperclip] Saving attachments.
Redirected to http://localhost:3000/stories/1
Completed in 172ms (DB: 3) | 302 Found [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 17:13:37) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (1.6ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mDonationOption Load (2.3ms)[0m   [0mSELECT * FROM "donation_options" [0m
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendered layouts/_header (88.9ms)
Completed in 249ms (View: 170, DB: 5) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 17:14:01) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (1.3ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;36;1mDonationOption Load (2.1ms)[0m   [0;1mSELECT * FROM "donation_options" [0m
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendered layouts/_header (93.3ms)
Completed in 555ms (View: 490, DB: 5) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 17:14:28) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (2.3ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mDonationOption Load (2.3ms)[0m   [0mSELECT * FROM "donation_options" [0m
  [4;36;1mUser Load (1.7ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendered layouts/_header (81.1ms)
Completed in 265ms (View: 185, DB: 6) | 200 OK [http://localhost/stories/1]


Processing StoriesController#update (for 127.0.0.1 at 2009-05-16 17:14:46) [PUT]
  Parameters: {"commit"=>"Donate to this family", "authenticity_token"=>"Jmz7YsdZ6NaldNM7H6cmB9w+YuMMZ3I258eTk9GadP8=", "id"=>"1", "donation_option"=>"3"}
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mStory Load (2.5ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
[paperclip] Saving attachments.
Redirected to http://localhost:3000/stories/1
Completed in 171ms (DB: 4) | 302 Found [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 17:14:47) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (1.3ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;36;1mDonationOption Load (2.0ms)[0m   [0;1mSELECT * FROM "donation_options" [0m
  [4;35;1mUser Load (2.7ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendered layouts/_header (92.2ms)
Completed in 404ms (View: 177, DB: 6) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 17:15:42) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (1.5ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mDonationOption Load (1.9ms)[0m   [0mSELECT * FROM "donation_options" [0m
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendered layouts/_header (83.7ms)
Completed in 255ms (View: 180, DB: 5) | 200 OK [http://localhost/stories/1]


Processing StoriesController#update (for 127.0.0.1 at 2009-05-16 17:15:48) [PUT]
  Parameters: {"donation_option_3"=>"3", "commit"=>"Donate to this family", "authenticity_token"=>"Jmz7YsdZ6NaldNM7H6cmB9w+YuMMZ3I258eTk9GadP8=", "id"=>"1", "donation_option_1"=>"1", "donation_option_2"=>"2"}
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mStory Load (2.0ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
[paperclip] Saving attachments.
Redirected to http://localhost:3000/stories/1
Completed in 172ms (DB: 3) | 302 Found [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 17:15:49) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (1.3ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;36;1mDonationOption Load (1.8ms)[0m   [0;1mSELECT * FROM "donation_options" [0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendered layouts/_header (76.7ms)
Completed in 257ms (View: 185, DB: 4) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 17:32:04) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (1.6ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mDonationOption Load (1.7ms)[0m   [0mSELECT * FROM "donation_options" [0m
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendered layouts/_header (96.6ms)
Completed in 256ms (View: 200, DB: 5) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 17:32:34) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (1.2ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;36;1mDonationOption Load (1.9ms)[0m   [0;1mSELECT * FROM "donation_options" [0m

ActionView::TemplateError (undefined method `stringify_keys' for false:FalseClass) on line #26 of app/views/stories/show.html.haml:
23:       - form_for @story, :action => :donate do |f|
24:         - DonationOption.all.each do |d|
25:           %li
26:             = radio_button_tag("donation_option_#{d.id}", name = "donation_option", value = "#{d.id}", checked = false )
27:             %span.hightlight= h number_to_currency(d.amount)    
28:             = h d.title
29:         = f.submit "Donate to this family"

    app/views/stories/show.html.haml:26:in `_run_haml_app47views47stories47show46html46haml'
    app/views/stories/show.html.haml:24:in `each'
    app/views/stories/show.html.haml:24:in `_run_haml_app47views47stories47show46html46haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:165:in `call'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:165:in `form_for'
    haml (2.0.9) lib/haml/helpers.rb:447:in `call'
    haml (2.0.9) lib/haml/helpers.rb:447:in `haml_bind_proc'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:171:in `form_for'
    app/views/stories/show.html.haml:23:in `_run_haml_app47views47stories47show46html46haml'
    haml (2.0.9) lib/haml/helpers.rb:261:in `call'
    haml (2.0.9) lib/haml/helpers.rb:261:in `capture_haml'
    haml (2.0.9) lib/haml/helpers.rb:430:in `with_haml_buffer'
    haml (2.0.9) lib/haml/helpers.rb:258:in `capture_haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:90:in `capture'
    app/views/stories/show.html.haml:18:in `_run_haml_app47views47stories47show46html46haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (261.8ms)
Rendered rescues/_request_and_response (5.6ms)
Rendering rescues/layout (internal_server_error)


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 17:32:55) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (1.6ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;36;1mDonationOption Load (2.4ms)[0m   [0;1mSELECT * FROM "donation_options" [0m
  [4;35;1mUser Load (2.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendered layouts/_header (100.0ms)
Completed in 412ms (View: 333, DB: 6) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 17:33:39) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (1.8ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mDonationOption Load (2.2ms)[0m   [0mSELECT * FROM "donation_options" [0m
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendered layouts/_header (82.3ms)
Completed in 267ms (View: 190, DB: 5) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 17:35:01) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (1.3ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;36;1mDonationOption Load (1.9ms)[0m   [0;1mSELECT * FROM "donation_options" [0m
  [4;35;1mUser Load (2.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendered layouts/_header (285.6ms)
Completed in 461ms (View: 391, DB: 6) | 200 OK [http://localhost/stories/1]


Processing StoriesController#update (for 127.0.0.1 at 2009-05-16 17:35:20) [PUT]
  Parameters: {"commit"=>"Donate to this family", "authenticity_token"=>"Jmz7YsdZ6NaldNM7H6cmB9w+YuMMZ3I258eTk9GadP8=", "id"=>"1", "donation_option"=>"3"}
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mStory Load (1.6ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
[paperclip] Saving attachments.
Redirected to http://localhost:3000/stories/1
Completed in 186ms (DB: 3) | 302 Found [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 17:35:20) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (1.6ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mDonationOption Load (1.7ms)[0m   [0mSELECT * FROM "donation_options" [0m
  [4;36;1mUser Load (2.9ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendered layouts/_header (99.1ms)
Completed in 281ms (View: 201, DB: 6) | 200 OK [http://localhost/stories/1]


Processing StoriesController#update (for 127.0.0.1 at 2009-05-16 17:35:36) [PUT]
  Parameters: {"commit"=>"Donate to this family", "authenticity_token"=>"Jmz7YsdZ6NaldNM7H6cmB9w+YuMMZ3I258eTk9GadP8=", "id"=>"1", "donation_option"=>"2"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mStory Load (1.3ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
[paperclip] Saving attachments.
Redirected to http://localhost:3000/stories/1
Completed in 317ms (DB: 3) | 302 Found [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 17:35:37) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (1.6ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;36;1mDonationOption Load (1.9ms)[0m   [0;1mSELECT * FROM "donation_options" [0m
  [4;35;1mUser Load (2.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendered layouts/_header (97.7ms)
Completed in 253ms (View: 179, DB: 6) | 200 OK [http://localhost/stories/1]


Processing StoriesController#update (for 127.0.0.1 at 2009-05-16 17:35:45) [PUT]
  Parameters: {"commit"=>"Donate to this family", "authenticity_token"=>"Jmz7YsdZ6NaldNM7H6cmB9w+YuMMZ3I258eTk9GadP8=", "id"=>"1", "donation_option"=>"2"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mStory Load (2.5ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
[paperclip] Saving attachments.
Redirected to http://localhost:3000/stories/1
Completed in 187ms (DB: 4) | 302 Found [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 17:35:46) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (2.0ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mDonationOption Load (1.7ms)[0m   [0mSELECT * FROM "donation_options" [0m
  [4;36;1mUser Load (2.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendered layouts/_header (272.4ms)
Completed in 423ms (View: 347, DB: 6) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 17:36:33) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (1.3ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;36;1mDonationOption Load (1.8ms)[0m   [0;1mSELECT * FROM "donation_options" [0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendered layouts/_header (99.0ms)
Completed in 272ms (View: 201, DB: 4) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 17:36:39) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (1.2ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mDonationOption Load (2.9ms)[0m   [0mSELECT * FROM "donation_options" [0m
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendered layouts/_header (76.9ms)
Completed in 239ms (View: 163, DB: 5) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 17:36:49) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (1.4ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
ERROR: compiling _run_haml_app47views47stories47show46html46haml RAISED compile error
/Users/sabman/Rails/projects/pakistan-map/pakistanmap/app/views/stories/show.html.haml:26: syntax error, unexpected '=', expecting ')'
_hamlout.push_text("    <li>\n      ", false, 1);haml_temp =  radio_button_tag("donation_option", "#{d.id}", :checked = false );
                                                                                                                       ^
Function body:           def _run_haml_app47views47stories47show46html46haml(local_assigns)
            old_output_buffer = output_buffer;;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :format=>:xhtml, :preserve=>["textarea", "pre"], :attr_wrapper=>"'", :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;; title "Story";


_hamlout.push_text("<h2>\n  ", false, 1);haml_temp =  h @story.title;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
_hamlout.push_text("</h2>\n", false, -1);haml_temp =  image_tag @story.photo.url(:small) if @story.photo.exists?;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);

_hamlout.push_text("<p>\n  ", false, 1);haml_temp =  h @story.body;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);

_hamlout.push_text("</p>\n<p>\n  ");haml_temp =  link_to "Edit", edit_story_path(@story);
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
_hamlout.push_text("  |\n  ");haml_temp =  link_to "Destroy", @story, :confirm => 'Are you sure?', :method => :delete;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
_hamlout.push_text("  |\n  ");haml_temp =  link_to "View All", stories_path;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
_hamlout.push_text("</p>\n", false, -1); content_for :sidebar do;




_hamlout.push_text("<div class='block'>\n  <h3>Donation Options</h3>\n  <p>Here are some options to help out. You will need a paypal account or a credit card</p>\n  <ul class='list'>\n", false, 2); form_for @story, :action => :donate do |f|;
 DonationOption.all.each do |d|;

_hamlout.push_text("    <li>\n      ", false, 1);haml_temp =  radio_button_tag("donation_option", "#{d.id}", :checked = false );
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);_hamlout.push_text("      <span class='hightlight'>", false, 1);haml_temp = h number_to_currency(d.amount);
haml_temp = _hamlout.push_script(haml_temp, nil, true, false, false, false);_hamlout.push_text("</span>\n      ", true);haml_temp =  h d.title;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);_hamlout.push_text("    </li>\n", false, -1);end;_hamlout.push_text("    ");haml_temp =  f.submit "Donate to this family";
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);end;_hamlout.push_text("  </ul>\n</div>\n", false, -2);end;
@haml_buffer = @haml_buffer.upper;_erbout;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/sabman/Rails/projects/pakistan-map/pakistanmap/app/views/stories/show.html.haml:34:in `compile!'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:61:in `compile'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:28:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/template.rb:194:in `render_template'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:260:in `render_without_haml'
/usr/local/lib/ruby/gems/1.8/gems/haml-2.0.9/lib/haml/helpers/action_view_mods.rb:14:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:343:in `_render_with_layout'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:257:in `render_without_haml'
/usr/local/lib/ruby/gems/1.8/gems/haml-2.0.9/lib/haml/helpers/action_view_mods.rb:14:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1241:in `render_for_file'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:937:in `render_without_benchmark'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1317:in `default_render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1323:in `perform_action_without_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:617:in `call_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/flash.rb:141:in `perform_action'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `send'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `process_without_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:606:in `sass_old_process'
/usr/local/lib/ruby/gems/1.8/gems/haml-2.0.9/lib/sass/plugin/rails.rb:19:in `process'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:391:in `process'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:386:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/routing/route_set.rb:433:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:88:in `dispatch'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:111:in `_call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:82:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:9:in `cache'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:28:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/head.rb:9:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/methodoverride.rb:24:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/params_parser.rb:15:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rewindable_input.rb:25:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/session/cookie_store.rb:93:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/reloader.rb:9:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/failsafe.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `synchronize'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:106:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/cgi_process.rb:44:in `dispatch_cgi'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:102:in `dispatch_cgi'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:28:in `dispatch'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:76:in `process'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `synchronize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/rails.rb:74:in `process'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:159:in `process_client'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:158:in `each'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:158:in `process_client'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:285:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:285:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:285:in `new'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:285:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:268:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:268:in `new'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel.rb:268:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/configurator.rb:282:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/configurator.rb:281:in `each'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/configurator.rb:281:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:128:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/../lib/mongrel/command.rb:212:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/bin/mongrel_rails:281
/usr/local/bin/mongrel_rails:19:in `load'
/usr/local/bin/mongrel_rails:19

ActionView::TemplateError (compile error
/Users/sabman/Rails/projects/pakistan-map/pakistanmap/app/views/stories/show.html.haml:26: syntax error, unexpected '=', expecting ')'
_hamlout.push_text("    <li>\n      ", false, 1);haml_temp =  radio_button_tag("donation_option", "#{d.id}", :checked = false );
                                                                                                                       ^) on line #26 of app/views/stories/show.html.haml:
23:       - form_for @story, :action => :donate do |f|
24:         - DonationOption.all.each do |d|
25:           %li
26:             = radio_button_tag("donation_option", "#{d.id}", :checked = false )
27:             %span.hightlight= h number_to_currency(d.amount)    
28:             = h d.title
29:         = f.submit "Donate to this family"

    app/views/stories/show.html.haml:34:in `compile!'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (185.6ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 17:37:06) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (3.0ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mDonationOption Load (1.8ms)[0m   [0mSELECT * FROM "donation_options" [0m
  [4;36;1mUser Load (2.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendered layouts/_header (259.0ms)
Completed in 430ms (View: 354, DB: 7) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 17:37:20) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (1.3ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;36;1mDonationOption Load (3.5ms)[0m   [0;1mSELECT * FROM "donation_options" [0m
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendered layouts/_header (86.4ms)
Completed in 287ms (View: 212, DB: 6) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 17:51:57) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (1.7ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mDonationOption Load (2.8ms)[0m   [0mSELECT * FROM "donation_options" [0m
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendered layouts/_header (100.9ms)
Completed in 318ms (View: 219, DB: 6) | 200 OK [http://localhost/stories/1]


Processing StoriesController#update (for 127.0.0.1 at 2009-05-16 17:52:08) [PUT]
  Parameters: {"commit"=>"Donate to this family", "authenticity_token"=>"Jmz7YsdZ6NaldNM7H6cmB9w+YuMMZ3I258eTk9GadP8=", "id"=>"1", "donation_option"=>"2"}
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mStory Load (2.6ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
[paperclip] Saving attachments.
Redirected to http://localhost:3000/stories/1
Completed in 171ms (DB: 4) | 302 Found [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 17:52:09) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (1.5ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;36;1mDonationOption Load (1.7ms)[0m   [0;1mSELECT * FROM "donation_options" [0m
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendered layouts/_header (84.7ms)
Completed in 236ms (View: 170, DB: 5) | 200 OK [http://localhost/stories/1]


Processing StoriesController#update (for 127.0.0.1 at 2009-05-16 17:53:20) [PUT]
  Parameters: {"commit"=>"Donate to this family", "authenticity_token"=>"Jmz7YsdZ6NaldNM7H6cmB9w+YuMMZ3I258eTk9GadP8=", "id"=>"1", "donation_option"=>"2"}
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mStory Load (2.7ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
[paperclip] Saving attachments.
Redirected to http://localhost:3000/stories/1
Completed in 197ms (DB: 4) | 302 Found [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 17:53:22) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (1.2ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mDonationOption Load (3.0ms)[0m   [0mSELECT * FROM "donation_options" [0m
  [4;36;1mUser Load (1.7ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendered layouts/_header (99.2ms)
Completed in 417ms (View: 355, DB: 6) | 200 OK [http://localhost/stories/1]


Processing StoriesController#update (for 127.0.0.1 at 2009-05-16 17:54:26) [PUT]
  Parameters: {"commit"=>"Donate to this family", "authenticity_token"=>"Jmz7YsdZ6NaldNM7H6cmB9w+YuMMZ3I258eTk9GadP8=", "id"=>"1", "donation_option"=>"1"}
  [4;35;1mUser Load (2.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mStory Load (1.6ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
[paperclip] Saving attachments.
Redirected to http://localhost:3000/stories/1
Completed in 189ms (DB: 4) | 302 Found [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 17:54:27) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (1.2ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;36;1mDonationOption Load (1.7ms)[0m   [0;1mSELECT * FROM "donation_options" [0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendered layouts/_header (94.1ms)
Completed in 246ms (View: 177, DB: 4) | 200 OK [http://localhost/stories/1]


Processing StoriesController#update (for 127.0.0.1 at 2009-05-16 17:54:32) [PUT]
  Parameters: {"commit"=>"Donate to this family", "authenticity_token"=>"Jmz7YsdZ6NaldNM7H6cmB9w+YuMMZ3I258eTk9GadP8=", "id"=>"1", "donation_option"=>"1"}
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mStory Load (1.6ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
[paperclip] Saving attachments.
Redirected to http://localhost:3000/stories/1
Completed in 349ms (DB: 3) | 302 Found [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 17:54:33) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (1.6ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mDonationOption Load (3.1ms)[0m   [0mSELECT * FROM "donation_options" [0m
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendered layouts/_header (99.4ms)
Completed in 258ms (View: 188, DB: 6) | 200 OK [http://localhost/stories/1]


Processing StoriesController#update (for 127.0.0.1 at 2009-05-16 17:54:37) [PUT]
  Parameters: {"commit"=>"Donate to this family", "authenticity_token"=>"Jmz7YsdZ6NaldNM7H6cmB9w+YuMMZ3I258eTk9GadP8=", "id"=>"1", "donation_option"=>"2"}
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mStory Load (1.4ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
[paperclip] Saving attachments.
Redirected to http://localhost:3000/stories/1
Completed in 179ms (DB: 3) | 302 Found [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 17:54:38) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (1.3ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;36;1mDonationOption Load (1.7ms)[0m   [0;1mSELECT * FROM "donation_options" [0m
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendered layouts/_header (281.2ms)
Completed in 439ms (View: 366, DB: 4) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 17:58:15) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (1.3ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mDonationOption Load (2.5ms)[0m   [0mSELECT * FROM "donation_options" [0m
  [4;36;1mUser Load (2.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendered layouts/_header (76.9ms)
Completed in 230ms (View: 170, DB: 6) | 200 OK [http://localhost/stories/1]


Processing StoriesController#update (for 127.0.0.1 at 2009-05-16 17:58:18) [PUT]
  Parameters: {"commit"=>"Donate to this family", "authenticity_token"=>"Jmz7YsdZ6NaldNM7H6cmB9w+YuMMZ3I258eTk9GadP8=", "id"=>"1", "donation_option"=>"2"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mStory Load (2.8ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
[paperclip] Saving attachments.
Redirected to http://localhost:3000/stories/1
Completed in 164ms (DB: 4) | 302 Found [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 17:58:19) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (1.2ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;36;1mDonationOption Load (2.4ms)[0m   [0;1mSELECT * FROM "donation_options" [0m
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendered layouts/_header (260.1ms)
Completed in 403ms (View: 347, DB: 5) | 200 OK [http://localhost/stories/1]


Processing StoriesController#update (for 127.0.0.1 at 2009-05-16 17:58:31) [PUT]
  Parameters: {"commit"=>"Donate to this family", "authenticity_token"=>"Jmz7YsdZ6NaldNM7H6cmB9w+YuMMZ3I258eTk9GadP8=", "id"=>"1", "donation_option"=>"2"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mStory Load (1.3ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
[paperclip] Saving attachments.
Redirected to http://localhost:3000/stories/1
Completed in 185ms (DB: 3) | 302 Found [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 17:58:31) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (1.2ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mDonationOption Load (1.8ms)[0m   [0mSELECT * FROM "donation_options" [0m
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendered layouts/_header (77.9ms)
Completed in 224ms (View: 154, DB: 4) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 17:59:27) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (4.9ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;36;1mDonationOption Load (2.3ms)[0m   [0;1mSELECT * FROM "donation_options" [0m
  [4;35;1mUser Load (2.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendered layouts/_header (237.3ms)
Completed in 374ms (View: 315, DB: 9) | 200 OK [http://localhost/stories/1]


Processing StoriesController#update (for 127.0.0.1 at 2009-05-16 17:59:36) [PUT]
  Parameters: {"commit"=>"Donate to this family", "authenticity_token"=>"Jmz7YsdZ6NaldNM7H6cmB9w+YuMMZ3I258eTk9GadP8=", "id"=>"1", "donation_option"=>"3"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mStory Load (1.3ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
[paperclip] Saving attachments.
Redirected to http://localhost:3000/stories/1
Completed in 167ms (DB: 3) | 302 Found [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 17:59:36) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (1.2ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mDonationOption Load (2.4ms)[0m   [0mSELECT * FROM "donation_options" [0m
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendered layouts/_header (90.8ms)
Completed in 236ms (View: 171, DB: 5) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 18:00:17) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (1.2ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;36;1mDonationOption Load (2.0ms)[0m   [0;1mSELECT * FROM "donation_options" [0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendered layouts/_header (104.5ms)
Completed in 434ms (View: 358, DB: 4) | 200 OK [http://localhost/stories/1]


Processing StoriesController#update (for 127.0.0.1 at 2009-05-16 18:00:20) [PUT]
  Parameters: {"commit"=>"Donate to this family", "authenticity_token"=>"Jmz7YsdZ6NaldNM7H6cmB9w+YuMMZ3I258eTk9GadP8=", "id"=>"1", "donation_option"=>"3"}
  [4;36;1mUser Load (2.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mStory Load (1.2ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
[paperclip] Saving attachments.
Redirected to http://localhost:3000/stories/1
Completed in 157ms (DB: 4) | 302 Found [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-16 18:00:20) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (1.2ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mDonationOption Load (1.8ms)[0m   [0mSELECT * FROM "donation_options" [0m
  [4;36;1mUser Load (2.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendered layouts/_header (84.2ms)
Completed in 233ms (View: 174, DB: 6) | 200 OK [http://localhost/stories/1]


Processing StoriesController#1 (for 127.0.0.1 at 2009-05-17 11:25:42) [POST]
  Parameters: {"commit"=>"Donate to this family", "authenticity_token"=>"Jmz7YsdZ6NaldNM7H6cmB9w+YuMMZ3I258eTk9GadP8=", "donation_option"=>"2"}

ActionController::UnknownAction (No action responded to 1. Actions: create, destroy, donate, edit, index, new, show, and update):
  haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'

Rendering rescues/layout (not_found)


Processing StoriesController#show (for 127.0.0.1 at 2009-05-17 11:30:41) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (2.0ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mDonationOption Load (2.3ms)[0m   [0mSELECT * FROM "donation_options" [0m
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendered layouts/_header (133.0ms)
Completed in 549ms (View: 440, DB: 6) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-17 11:30:45) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (1.6ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;36;1mDonationOption Load (1.9ms)[0m   [0;1mSELECT * FROM "donation_options" [0m
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendered layouts/_header (91.4ms)
Completed in 226ms (View: 164, DB: 5) | 200 OK [http://localhost/stories/1]


Processing StoriesController#update (for 127.0.0.1 at 2009-05-17 11:30:50) [PUT]
  Parameters: {"commit"=>"Donate to this family", "authenticity_token"=>"Jmz7YsdZ6NaldNM7H6cmB9w+YuMMZ3I258eTk9GadP8=", "id"=>"1", "donation_option"=>"1"}
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mStory Load (1.3ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
[paperclip] Saving attachments.
Redirected to http://localhost:3000/stories/1
Completed in 179ms (DB: 2) | 302 Found [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-17 11:30:50) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (1.3ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mDonationOption Load (2.4ms)[0m   [0mSELECT * FROM "donation_options" [0m
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendered layouts/_header (88.0ms)
Completed in 231ms (View: 165, DB: 5) | 200 OK [http://localhost/stories/1]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-17 11:32:53) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (1.3ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;36;1mDonationOption Load (1.8ms)[0m   [0;1mSELECT * FROM "donation_options" [0m
  [4;35;1mUser Load (1.7ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendered layouts/_header (93.5ms)
Completed in 251ms (View: 188, DB: 5) | 200 OK [http://localhost/stories/1]


Processing StoriesController#donate (for 127.0.0.1 at 2009-05-17 11:32:58) [PUT]
  Parameters: {"commit"=>"Donate to this family", "authenticity_token"=>"Jmz7YsdZ6NaldNM7H6cmB9w+YuMMZ3I258eTk9GadP8=", "id"=>"1", "donation_option"=>"2"}

ActionView::MissingTemplate (Missing template stories/donate.erb in view path app/views):
  haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'

Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (17.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (2.6ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20090509030350)
Migrating to CreateStories (20090509095110)
Migrating to ActsAsCommentableWithThreadingMigration (20090514113916)
Migrating to AddAttachmentsPhotoToStory (20090515151409)
Migrating to CreateDonationOptions (20090516023338)
Migrating to AddSomeStories (20090516055854)
Migrating to CreateDonations (20090517014145)
  [4;36;1mSQL (2.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCREATE TABLE "donations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "story_id" integer, "donation_option_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090517014145')[0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (1.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mPRAGMA index_list("comments")[0m
  [4;35;1mSQL (0.7ms)[0m   [0mPRAGMA index_info('index_comments_on_commentable_id')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mPRAGMA index_info('index_comments_on_user_id')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("donation_options")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("donations")[0m
  [4;35;1mSQL (0.3ms)[0m   [0mPRAGMA index_list("stories")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mPRAGMA index_list("users")[0m


Processing StoriesController#index (for 127.0.0.1 at 2009-05-17 12:16:44) [GET]
  [4;36;1mStory Load (2.0ms)[0m   [0;1mSELECT * FROM "stories" [0m
Rendering template within layouts/application
Rendering stories/index
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendered layouts/_header (336.1ms)
Completed in 649ms (View: 588, DB: 4) | 200 OK [http://localhost/]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-17 12:16:49) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (2.6ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mDonationOption Load (1.7ms)[0m   [0mSELECT * FROM "donation_options" [0m

ActionView::TemplateError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.paypal_url) on line #29 of app/views/stories/show.html.haml:
26:             = radio_button_tag("donation_option", "#{d.id}", :checked => false )
27:             %span.hightlight= h number_to_currency(d.amount)    
28:             = h d.title
29:         = f.submit "Donate to this family", @donation.paypal_url(story_url(@story))

    app/views/stories/show.html.haml:29:in `_run_haml_app47views47stories47show46html46haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:165:in `call'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:165:in `form_for'
    haml (2.0.9) lib/haml/helpers.rb:447:in `call'
    haml (2.0.9) lib/haml/helpers.rb:447:in `haml_bind_proc'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:171:in `form_for'
    app/views/stories/show.html.haml:23:in `_run_haml_app47views47stories47show46html46haml'
    haml (2.0.9) lib/haml/helpers.rb:261:in `call'
    haml (2.0.9) lib/haml/helpers.rb:261:in `capture_haml'
    haml (2.0.9) lib/haml/helpers.rb:430:in `with_haml_buffer'
    haml (2.0.9) lib/haml/helpers.rb:258:in `capture_haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:90:in `capture'
    app/views/stories/show.html.haml:18:in `_run_haml_app47views47stories47show46html46haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (457.9ms)
Rendered rescues/_request_and_response (4.9ms)
Rendering rescues/layout (internal_server_error)


Processing StoriesController#show (for 127.0.0.1 at 2009-05-17 12:22:49) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (1.2ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mDonationOption Load (1.9ms)[0m   [0mSELECT * FROM "donation_options" [0m
  [4;36;1mUser Load (1.9ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendered layouts/_header (89.9ms)
Completed in 314ms (View: 188, DB: 5) | 200 OK [http://localhost/stories/1]


Processing StoriesController#donate (for 127.0.0.1 at 2009-05-17 12:22:57) [PUT]
  Parameters: {"commit"=>"Donate to this family", "authenticity_token"=>"Jmz7YsdZ6NaldNM7H6cmB9w+YuMMZ3I258eTk9GadP8=", "id"=>"1", "donation_option"=>"2"}
  [4;35;1mDonation Create (0.8ms)[0m   [0mINSERT INTO "donations" ("updated_at", "story_id", "donation_option_id", "created_at") VALUES('2009-05-17 02:22:57', 1, 2, '2009-05-17 02:22:57')[0m

ActionController::RoutingError (story_url failed to generate from {:controller=>"stories", :action=>"show", :id=>nil}, expected: {:controller=>"stories", :action=>"show"}, diff: {:id=>nil}):
  (eval):16:in `story_url'
  app/controllers/stories_controller.rb:50:in `donate'
  haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'

Rendering rescues/layout (not_found)


Processing StoriesController#donate (for 127.0.0.1 at 2009-05-17 12:24:47) [PUT]
  Parameters: {"commit"=>"Donate to this family", "authenticity_token"=>"Jmz7YsdZ6NaldNM7H6cmB9w+YuMMZ3I258eTk9GadP8=", "id"=>"1", "donation_option"=>"2"}
  [4;36;1mDonation Create (0.8ms)[0m   [0;1mINSERT INTO "donations" ("updated_at", "story_id", "donation_option_id", "created_at") VALUES('2009-05-17 02:24:47', 1, 2, '2009-05-17 02:24:47')[0m
  [4;35;1mDonationOption Load (1.0ms)[0m   [0mSELECT * FROM "donation_options" WHERE ("donation_options"."id" = 2) [0m

NameError (undefined local variable or method `values' for #<Donation:0x356ef34>):
  app/models/donation.rb:17:in `paypal_url'
  app/controllers/stories_controller.rb:51:in `donate'
  haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (155.9ms)
Rendered rescues/_request_and_response (0.9ms)
Rendering rescues/layout (internal_server_error)


Processing StoriesController#show (for 127.0.0.1 at 2009-05-17 12:25:21) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (2.0ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mDonationOption Load (2.8ms)[0m   [0mSELECT * FROM "donation_options" [0m
  [4;36;1mUser Load (2.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendered layouts/_header (84.5ms)
Completed in 211ms (View: 157, DB: 7) | 200 OK [http://localhost/stories/1]


Processing StoriesController#donate (for 127.0.0.1 at 2009-05-17 12:25:24) [PUT]
  Parameters: {"commit"=>"Donate to this family", "authenticity_token"=>"Jmz7YsdZ6NaldNM7H6cmB9w+YuMMZ3I258eTk9GadP8=", "id"=>"1", "donation_option"=>"2"}
  [4;35;1mDonation Create (1.1ms)[0m   [0mINSERT INTO "donations" ("updated_at", "story_id", "donation_option_id", "created_at") VALUES('2009-05-17 02:25:24', 1, 2, '2009-05-17 02:25:24')[0m
  [4;36;1mDonationOption Load (1.1ms)[0m   [0;1mSELECT * FROM "donation_options" WHERE ("donation_options"."id" = 2) [0m
Redirected to https://www.sandbox.paypal.com/au/cgi-bin/webscr?item_number=2&upload=1&quantity=1&business=saburq_1242404217_biz@gmail.com&amount=5&invoice=3&return=http://localhost:3000/stories/1&cmd=_cart&item_name=More than just change
Completed in 129ms (DB: 2) | 302 Found [http://localhost/stories/1/donate]


Processing StoriesController#index (for 127.0.0.1 at 2009-05-17 12:49:44) [GET]
  [4;35;1mStory Load (2.6ms)[0m   [0mSELECT * FROM "stories" [0m
Rendering template within layouts/application
Rendering stories/index
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendered layouts/_header (101.9ms)
Completed in 184ms (View: 129, DB: 4) | 200 OK [http://localhost/]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-17 12:49:49) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (1.9ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;36;1mDonationOption Load (2.3ms)[0m   [0;1mSELECT * FROM "donation_options" [0m
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendered layouts/_header (106.3ms)
Completed in 261ms (View: 190, DB: 6) | 200 OK [http://localhost/stories/1]


Processing StoriesController#donate (for 127.0.0.1 at 2009-05-17 12:49:59) [PUT]
  Parameters: {"commit"=>"Donate to this family", "authenticity_token"=>"Jmz7YsdZ6NaldNM7H6cmB9w+YuMMZ3I258eTk9GadP8=", "id"=>"1", "donation_option"=>"3"}
  [4;36;1mDonation Create (1.3ms)[0m   [0;1mINSERT INTO "donations" ("updated_at", "story_id", "donation_option_id", "created_at") VALUES('2009-05-17 02:49:59', 1, 3, '2009-05-17 02:49:59')[0m
  [4;35;1mDonationOption Load (1.3ms)[0m   [0mSELECT * FROM "donation_options" WHERE ("donation_options"."id" = 3) [0m
Redirected to https://www.sandbox.paypal.com/au/cgi-bin/webscr?item_number=3&upload=1&quantity=1&business=saburq_1242404217_biz@gmail.com&amount=10&invoice=4&return=http://localhost:3000/stories/1&cmd=_cart&item_name=Phylantorpist
Completed in 278ms (DB: 3) | 302 Found [http://localhost/stories/1/donate]


Processing StoriesController#index (for 127.0.0.1 at 2009-05-17 18:23:11) [GET]
  [4;36;1mStory Load (22.7ms)[0m   [0;1mSELECT * FROM "stories" [0m
Rendering template within layouts/application
Rendering stories/index
Rendered layouts/_header (265.5ms)
Completed in 640ms (View: 546, DB: 23) | 200 OK [http://localhost/]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-17 18:23:14) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (1.2ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;36;1mDonationOption Load (1.7ms)[0m   [0;1mSELECT * FROM "donation_options" [0m
Rendered layouts/_header (66.1ms)
Completed in 253ms (View: 184, DB: 3) | 200 OK [http://localhost/stories/1]


Processing StoriesController#donate (for 127.0.0.1 at 2009-05-17 18:23:18) [PUT]
  Parameters: {"commit"=>"Donate to this family", "authenticity_token"=>"Ypq9AOZxhmeFlsGkHLoguUws2OuT+4XaIEM9J4tzMbc=", "id"=>"1", "donation_option"=>"2"}
  [4;35;1mDonation Create (1.4ms)[0m   [0mINSERT INTO "donations" ("updated_at", "story_id", "donation_option_id", "created_at") VALUES('2009-05-17 08:23:18', 1, 2, '2009-05-17 08:23:18')[0m
  [4;36;1mDonationOption Load (1.0ms)[0m   [0;1mSELECT * FROM "donation_options" WHERE ("donation_options"."id" = 2) [0m
Redirected to https://www.sandbox.paypal.com/au/cgi-bin/webscr?amount=5&business=saburq_1242404217_biz%40gmail.com&cmd=_cart&invoice=5&item_name=More+than+just+change&item_number=2&quantity=1&return=http%3A%2F%2Flocalhost%3A3000%2Fstories%2F1&upload=1
Completed in 122ms (DB: 2) | 302 Found [http://localhost/stories/1/donate]


Processing StoriesController#index (for 127.0.0.1 at 2009-05-17 18:24:23) [GET]
  [4;35;1mStory Load (3.1ms)[0m   [0mSELECT * FROM "stories" [0m
Rendering template within layouts/application
Rendering stories/index
Rendered layouts/_header (224.3ms)
Completed in 313ms (View: 256, DB: 3) | 200 OK [http://localhost/]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-17 18:24:26) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (2.4ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mDonationOption Load (2.4ms)[0m   [0mSELECT * FROM "donation_options" [0m
Rendered layouts/_header (91.4ms)
Completed in 250ms (View: 173, DB: 5) | 200 OK [http://localhost/stories/1]
  [4;36;1mSQL (2.1ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.7ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateDonations (20090517014145)
  [4;36;1mSQL (30.8ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mDROP TABLE "donations"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090517014145'[0m
Migrating to AddSomeStories (20090516055854)
  [4;35;1mStory Delete all (0.7ms)[0m   [0mDELETE FROM "stories" WHERE 1=1[0m
  [4;36;1mUser Delete all (0.3ms)[0m   [0;1mDELETE FROM "users" WHERE 1=1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20090516055854'[0m
Migrating to CreateDonationOptions (20090516023338)
  [4;36;1mSQL (1.0ms)[0m   [0;1mDROP TABLE "donation_options"[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20090516023338'[0m
Migrating to AddAttachmentsPhotoToStory (20090515151409)
  [4;36;1mSQL (1.9ms)[0m   [0;1mCREATE TEMPORARY TABLE "altered_stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "user_id" integer, "created_at" datetime, "updated_at" datetime, "photo_file_name" varchar(255), "photo_content_type" varchar(255), "photo_file_size" integer, "photo_updated_at" datetime) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("stories")[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mDROP TABLE "stories"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "user_id" integer, "created_at" datetime, "updated_at" datetime, "photo_content_type" varchar(255), "photo_file_size" integer, "photo_updated_at" datetime) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("altered_stories")[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP TABLE "altered_stories"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCREATE TEMPORARY TABLE "altered_stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "user_id" integer, "created_at" datetime, "updated_at" datetime, "photo_content_type" varchar(255), "photo_file_size" integer, "photo_updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mPRAGMA index_list("stories")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP TABLE "stories"[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "user_id" integer, "created_at" datetime, "updated_at" datetime, "photo_file_size" integer, "photo_updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mPRAGMA index_list("altered_stories")[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP TABLE "altered_stories"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCREATE TEMPORARY TABLE "altered_stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "user_id" integer, "created_at" datetime, "updated_at" datetime, "photo_file_size" integer, "photo_updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mPRAGMA index_list("stories")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP TABLE "stories"[0m
  [4;35;1mSQL (0.4ms)[0m   [0mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "user_id" integer, "created_at" datetime, "updated_at" datetime, "photo_updated_at" datetime) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mPRAGMA index_list("altered_stories")[0m
  [4;35;1mSQL (0.6ms)[0m   [0mDROP TABLE "altered_stories"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCREATE TEMPORARY TABLE "altered_stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "user_id" integer, "created_at" datetime, "updated_at" datetime, "photo_updated_at" datetime) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("stories")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDROP TABLE "stories"[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("altered_stories")[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP TABLE "altered_stories"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090515151409'[0m
Migrating to ActsAsCommentableWithThreadingMigration (20090514113916)
  [4;35;1mSQL (1.2ms)[0m   [0mDROP TABLE "comments"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090514113916'[0m
Migrating to CreateStories (20090509095110)
  [4;35;1mSQL (1.0ms)[0m   [0mDROP TABLE "stories"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090509095110'[0m
Migrating to CreateUsers (20090509030350)
  [4;35;1mSQL (1.1ms)[0m   [0mDROP TABLE "users"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090509030350'[0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20090509030350)
  [4;36;1mSQL (0.9ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.7ms)[0m   [0mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "persistence_token" varchar(255), "admin" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090509030350')[0m
Migrating to CreateStories (20090509095110)
  [4;35;1mSQL (1.5ms)[0m   [0mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090509095110')[0m
Migrating to ActsAsCommentableWithThreadingMigration (20090514113916)
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCREATE TABLE "comments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "commentable_id" integer DEFAULT 0, "commentable_type" varchar(15) DEFAULT '', "title" varchar(255) DEFAULT '', "body" text DEFAULT '', "subject" varchar(255) DEFAULT '', "user_id" integer DEFAULT 0 NOT NULL, "parent_id" integer, "lft" integer, "rgt" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mCREATE INDEX "index_comments_on_user_id" ON "comments" ("user_id")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE INDEX "index_comments_on_commentable_id" ON "comments" ("commentable_id")[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090514113916')[0m
Migrating to AddAttachmentsPhotoToStory (20090515151409)
  [4;36;1mSQL (1.0ms)[0m   [0;1mALTER TABLE "stories" ADD "photo_file_name" varchar(255)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mALTER TABLE "stories" ADD "photo_content_type" varchar(255)[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mALTER TABLE "stories" ADD "photo_file_size" integer[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "stories" ADD "photo_updated_at" datetime[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090515151409')[0m
Migrating to CreateDonationOptions (20090516023338)
  [4;35;1mSQL (1.1ms)[0m   [0mCREATE TABLE "donation_options" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" varchar(255), "amount" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mDonationOption Create (0.4ms)[0m   [0;1mINSERT INTO "donation_options" ("updated_at", "title", "description", "amount", "created_at") VALUES('2009-05-17 08:33:21', 'Small change', 'If enough people give up a bit of small change we can make a big change', 1, '2009-05-17 08:33:21')[0m
  [4;35;1mDonationOption Create (0.3ms)[0m   [0mINSERT INTO "donation_options" ("updated_at", "title", "description", "amount", "created_at") VALUES('2009-05-17 08:33:21', 'More than just change', 'So you feel you have more than just small change to spare', 5, '2009-05-17 08:33:21')[0m
  [4;36;1mDonationOption Create (0.3ms)[0m   [0;1mINSERT INTO "donation_options" ("updated_at", "title", "description", "amount", "created_at") VALUES('2009-05-17 08:33:21', 'Phylantorpist', 'Rolling in it? What are you waiting for then?', 10, '2009-05-17 08:33:21')[0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090516023338')[0m
Migrating to AddSomeStories (20090516055854)
  [4;36;1mUser Exists (0.5ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'shoaib@nomad-labs.com') LIMIT 1[0m
  [4;35;1mUser Exists (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."username") = 'shoaib') LIMIT 1[0m
  [4;36;1mUser Exists (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = '7796386aec68d5378c05d3bc0f1ce9ab1acd2eefd41398a1520fd224e67ba4be37898a94c8cf258892df90a25a6e2217cbf3df62bcb46ad3aa3c500d967c9204') LIMIT 1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO "users" ("updated_at", "crypted_password", "username", "password_salt", "admin", "persistence_token", "email", "created_at") VALUES('2009-05-17 08:33:22', 'b9a9e357bb02e4b01d0a4705b5c64bc299290be917983d4a3a103bfd2603032840d2ab8126d06e48f286ac84a518b0a1b2d5d216a0ead97012eba4edb5adbed6', 'shoaib', 'Yxb4s-ex5CXIVhlDbPnZ', NULL, '7796386aec68d5378c05d3bc0f1ce9ab1acd2eefd41398a1520fd224e67ba4be37898a94c8cf258892df90a25a6e2217cbf3df62bcb46ad3aa3c500d967c9204', 'shoaib@nomad-labs.com', '2009-05-17 08:33:22')[0m
  [4;36;1mUser Load (1.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mStory Create (0.5ms)[0m   [0mINSERT INTO "stories" ("updated_at", "photo_file_name", "photo_file_size", "title", "body", "public", "photo_updated_at", "photo_content_type", "user_id", "created_at") VALUES('2009-05-17 08:33:22', NULL, NULL, 'Vel voluptate aliquid et doloribus sint eum ad sequi.', 'Consequatur reprehenderit mollitia repellendus debitis rerum nihil. Ea inventore ut aut soluta dolores dolorem beatae. Voluptas quo minima sapiente voluptatibus sit. Iusto est architecto dolorum omnis provident.', NULL, NULL, NULL, 1, '2009-05-17 08:33:22')[0m
[paperclip] Saving attachments.
  [4;36;1mStory Load (1.6ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090516055854')[0m
Migrating to CreateDonations (20090517014145)
  [4;36;1mSQL (1.2ms)[0m   [0;1mCREATE TABLE "donations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "ip_address" varchar(255), "first_name" varchar(255), "last_name" varchar(255), "card_type" varchar(255), "card_expires_on" date, "story_id" integer, "donation_option_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090517014145')[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (2.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.8ms)[0m   [0mPRAGMA index_list("comments")[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mPRAGMA index_info('index_comments_on_commentable_id')[0m
  [4;35;1mSQL (0.5ms)[0m   [0mPRAGMA index_info('index_comments_on_user_id')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("donation_options")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("donations")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mPRAGMA index_list("stories")[0m
  [4;35;1mSQL (0.4ms)[0m   [0mPRAGMA index_list("users")[0m


Processing StoriesController#1 (for 127.0.0.1 at 2009-05-17 22:37:44) [GET]
  Parameters: {"id"=>"donate"}

ActionController::UnknownAction (No action responded to 1. Actions: create, destroy, donate, edit, index, new, show, and update):
  haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (2.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.9ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateDonations (20090517014145)
  [4;36;1mSQL (0.4ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.1ms)[0m   [0mDROP TABLE "donations"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090517014145'[0m
Migrating to AddSomeStories (20090516055854)
  [4;35;1mStory Delete all (0.7ms)[0m   [0mDELETE FROM "stories" WHERE 1=1[0m
  [4;36;1mUser Delete all (0.3ms)[0m   [0;1mDELETE FROM "users" WHERE 1=1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20090516055854'[0m
Migrating to CreateDonationOptions (20090516023338)
  [4;36;1mSQL (0.9ms)[0m   [0;1mDROP TABLE "donation_options"[0m
  [4;35;1mSQL (3.1ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20090516023338'[0m
Migrating to AddAttachmentsPhotoToStory (20090515151409)
  [4;36;1mSQL (1.5ms)[0m   [0;1mCREATE TEMPORARY TABLE "altered_stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "user_id" integer, "created_at" datetime, "updated_at" datetime, "photo_file_name" varchar(255), "photo_content_type" varchar(255), "photo_file_size" integer, "photo_updated_at" datetime) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("stories")[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mDROP TABLE "stories"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "user_id" integer, "created_at" datetime, "updated_at" datetime, "photo_content_type" varchar(255), "photo_file_size" integer, "photo_updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mPRAGMA index_list("altered_stories")[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP TABLE "altered_stories"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCREATE TEMPORARY TABLE "altered_stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "user_id" integer, "created_at" datetime, "updated_at" datetime, "photo_content_type" varchar(255), "photo_file_size" integer, "photo_updated_at" datetime) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("stories")[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mDROP TABLE "stories"[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "user_id" integer, "created_at" datetime, "updated_at" datetime, "photo_file_size" integer, "photo_updated_at" datetime) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("altered_stories")[0m
  [4;35;1mSQL (6.5ms)[0m   [0mDROP TABLE "altered_stories"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCREATE TEMPORARY TABLE "altered_stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "user_id" integer, "created_at" datetime, "updated_at" datetime, "photo_file_size" integer, "photo_updated_at" datetime) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("stories")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP TABLE "stories"[0m
  [4;35;1mSQL (0.4ms)[0m   [0mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "user_id" integer, "created_at" datetime, "updated_at" datetime, "photo_updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mPRAGMA index_list("altered_stories")[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP TABLE "altered_stories"[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCREATE TEMPORARY TABLE "altered_stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "user_id" integer, "created_at" datetime, "updated_at" datetime, "photo_updated_at" datetime) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("stories")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mDROP TABLE "stories"[0m
  [4;35;1mSQL (0.4ms)[0m   [0mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mPRAGMA index_list("altered_stories")[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP TABLE "altered_stories"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090515151409'[0m
Migrating to ActsAsCommentableWithThreadingMigration (20090514113916)
  [4;35;1mSQL (1.1ms)[0m   [0mDROP TABLE "comments"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090514113916'[0m
Migrating to CreateStories (20090509095110)
  [4;35;1mSQL (0.8ms)[0m   [0mDROP TABLE "stories"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090509095110'[0m
Migrating to CreateUsers (20090509030350)
  [4;35;1mSQL (1.1ms)[0m   [0mDROP TABLE "users"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090509030350'[0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m


Processing DonationsController#new (for 127.0.0.1 at 2009-05-17 23:47:44) [GET]

ActiveRecord::StatementInvalid (Could not find table 'donations'):
  app/controllers/donations_controller.rb:3:in `new'
  app/controllers/donations_controller.rb:3:in `new'
  haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (169.3ms)
Rendered rescues/_request_and_response (5.9ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20090509030350)
  [4;36;1mSQL (0.4ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "persistence_token" varchar(255), "admin" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090509030350')[0m
Migrating to CreateStories (20090509095110)
  [4;35;1mSQL (1.0ms)[0m   [0mCREATE TABLE "stories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "body" text, "public" boolean, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090509095110')[0m
Migrating to ActsAsCommentableWithThreadingMigration (20090514113916)
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mCREATE TABLE "comments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "commentable_id" integer DEFAULT 0, "commentable_type" varchar(15) DEFAULT '', "title" varchar(255) DEFAULT '', "body" text DEFAULT '', "subject" varchar(255) DEFAULT '', "user_id" integer DEFAULT 0 NOT NULL, "parent_id" integer, "lft" integer, "rgt" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE INDEX "index_comments_on_user_id" ON "comments" ("user_id")[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCREATE INDEX "index_comments_on_commentable_id" ON "comments" ("commentable_id")[0m
  [4;35;1mSQL (0.6ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090514113916')[0m
Migrating to AddAttachmentsPhotoToStory (20090515151409)
  [4;36;1mSQL (0.9ms)[0m   [0;1mALTER TABLE "stories" ADD "photo_file_name" varchar(255)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mALTER TABLE "stories" ADD "photo_content_type" varchar(255)[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mALTER TABLE "stories" ADD "photo_file_size" integer[0m
  [4;35;1mSQL (1.2ms)[0m   [0mALTER TABLE "stories" ADD "photo_updated_at" datetime[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090515151409')[0m
Migrating to CreateDonationOptions (20090516023338)
  [4;35;1mSQL (1.0ms)[0m   [0mCREATE TABLE "donation_options" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" varchar(255), "amount" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mDonationOption Create (0.5ms)[0m   [0;1mINSERT INTO "donation_options" ("updated_at", "title", "description", "amount", "created_at") VALUES('2009-05-17 13:48:10', 'Small change', 'If enough people give up a bit of small change we can make a big change', 1, '2009-05-17 13:48:10')[0m
  [4;35;1mDonationOption Create (0.3ms)[0m   [0mINSERT INTO "donation_options" ("updated_at", "title", "description", "amount", "created_at") VALUES('2009-05-17 13:48:10', 'More than just change', 'So you feel you have more than just small change to spare', 5, '2009-05-17 13:48:10')[0m
  [4;36;1mDonationOption Create (0.3ms)[0m   [0;1mINSERT INTO "donation_options" ("updated_at", "title", "description", "amount", "created_at") VALUES('2009-05-17 13:48:10', 'Phylantorpist', 'Rolling in it? What are you waiting for then?', 10, '2009-05-17 13:48:10')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090516023338')[0m
Migrating to AddSomeStories (20090516055854)
  [4;36;1mUser Exists (0.5ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'shoaib@nomad-labs.com') LIMIT 1[0m
  [4;35;1mUser Exists (0.4ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."username") = 'shoaib') LIMIT 1[0m
  [4;36;1mUser Exists (0.4ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = 'c41922f151835de82c46f62adbe965e425c37b1ac93248d92387dbedb34b45568399022525b5449133bd8f0d2217821764c92dca0031bb5f2c4c4cc64b68adcb') LIMIT 1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO "users" ("updated_at", "crypted_password", "username", "password_salt", "admin", "persistence_token", "email", "created_at") VALUES('2009-05-17 13:48:12', 'd97abe0a4e451ec951f745020b1d66619315bff369c286404a8e1b8638e91806556dcb17215bbb78595c8303f587d7e9665603922ca79ff0589c9c6b93334002', 'shoaib', 'Bl6-5f_GLhbHZkHc-729', NULL, 'c41922f151835de82c46f62adbe965e425c37b1ac93248d92387dbedb34b45568399022525b5449133bd8f0d2217821764c92dca0031bb5f2c4c4cc64b68adcb', 'shoaib@nomad-labs.com', '2009-05-17 13:48:12')[0m
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mStory Create (0.4ms)[0m   [0mINSERT INTO "stories" ("updated_at", "photo_file_name", "photo_file_size", "title", "body", "public", "photo_updated_at", "photo_content_type", "user_id", "created_at") VALUES('2009-05-17 13:48:12', NULL, NULL, 'Vel voluptate aliquid et doloribus sint eum ad sequi.', 'Consequatur reprehenderit mollitia repellendus debitis rerum nihil. Ea inventore ut aut soluta dolores dolorem beatae. Voluptas quo minima sapiente voluptatibus sit. Iusto est architecto dolorum omnis provident.', NULL, NULL, NULL, 1, '2009-05-17 13:48:12')[0m
[paperclip] Saving attachments.
  [4;36;1mStory Load (1.7ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090516055854')[0m
Migrating to CreateDonations (20090517014145)
  [4;36;1mSQL (1.0ms)[0m   [0;1mCREATE TABLE "donations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "ip_address" varchar(255), "first_name" varchar(255), "last_name" varchar(255), "card_type" varchar(255), "card_expires_on" date, "story_id" integer, "donation_option_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090517014145')[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (3.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.8ms)[0m   [0mPRAGMA index_list("comments")[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mPRAGMA index_info('index_comments_on_commentable_id')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mPRAGMA index_info('index_comments_on_user_id')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("donation_options")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("donations")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("stories")[0m
  [4;35;1mSQL (0.4ms)[0m   [0mPRAGMA index_list("users")[0m


Processing DonationsController#new (for 127.0.0.1 at 2009-05-17 23:48:14) [GET]
Rendering template within layouts/application
Rendering donations/new
Rendered layouts/_header (95.4ms)
Completed in 398ms (View: 350, DB: 0) | 200 OK [http://localhost/donations/new]


Processing DonationsController#new (for 127.0.0.1 at 2009-05-17 23:55:37) [GET]
Rendering template within layouts/application
Rendering donations/new

ActionView::TemplateError (undefined method `card_number' for #<Donation:0x361e8f8>) on line #20 of app/views/donations/new.html.haml:
17:   %p
18:     = f.label :card_number
19:     %br
20:     = f.text_field :card_number
21:   %p
22:     = f.label :card_verification_code, "Card Verification Value (CVV)"
23:     %br

    app/views/donations/new.html.haml:20:in `_run_haml_app47views47donations47new46html46haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:165:in `call'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:165:in `form_for'
    haml (2.0.9) lib/haml/helpers.rb:447:in `call'
    haml (2.0.9) lib/haml/helpers.rb:447:in `haml_bind_proc'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:171:in `form_for'
    app/views/donations/new.html.haml:3:in `_run_haml_app47views47donations47new46html46haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (342.7ms)
Rendered rescues/_request_and_response (1.2ms)
Rendering rescues/layout (internal_server_error)


Processing DonationsController#new (for 127.0.0.1 at 2009-05-18 00:02:35) [GET]
Rendering template within layouts/application
Rendering donations/new

ActionView::TemplateError (undefined method `card_number' for #<Donation:0x35c5c6c>) on line #20 of app/views/donations/new.html.haml:
17:   %p
18:     = f.label :card_number
19:     %br
20:     = f.text_field :card_number
21:   %p
22:     = f.label :card_verification_code, "Card Verification Value (CVV)"
23:     %br

    app/views/donations/new.html.haml:20:in `_run_haml_app47views47donations47new46html46haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:165:in `call'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:165:in `form_for'
    haml (2.0.9) lib/haml/helpers.rb:447:in `call'
    haml (2.0.9) lib/haml/helpers.rb:447:in `haml_bind_proc'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:171:in `form_for'
    app/views/donations/new.html.haml:3:in `_run_haml_app47views47donations47new46html46haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (403.1ms)
Rendered rescues/_request_and_response (1.8ms)
Rendering rescues/layout (internal_server_error)


Processing DonationsController#new (for 127.0.0.1 at 2009-05-18 00:08:03) [GET]
Rendering template within layouts/application
Rendering donations/new

ActionView::TemplateError (undefined method `card_verification_code' for #<Donation:0x35b91b0>) on line #24 of app/views/donations/new.html.haml:
21:   %p
22:     = f.label :card_verification_code, "Card Verification Value (CVV)"
23:     %br
24:     = f.text_field :card_verification_code
25:   %p
26:     = f.label :card_expires_on
27:     %br

    app/views/donations/new.html.haml:24:in `_run_haml_app47views47donations47new46html46haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:165:in `call'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:165:in `form_for'
    haml (2.0.9) lib/haml/helpers.rb:447:in `call'
    haml (2.0.9) lib/haml/helpers.rb:447:in `haml_bind_proc'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:171:in `form_for'
    app/views/donations/new.html.haml:3:in `_run_haml_app47views47donations47new46html46haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (382.3ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (internal_server_error)


Processing DonationsController#new (for 127.0.0.1 at 2009-05-18 00:09:11) [GET]
Rendering template within layouts/application
Rendering donations/new
Rendered layouts/_header (69.5ms)
Completed in 804ms (View: 750, DB: 0) | 200 OK [http://localhost/donations/new]


Processing StoriesController#index (for 127.0.0.1 at 2009-05-18 00:30:18) [GET]
  [4;36;1mStory Load (1.7ms)[0m   [0;1mSELECT * FROM "stories" [0m
Rendering template within layouts/application
Rendering stories/index
Rendered layouts/_header (74.5ms)
Completed in 572ms (View: 483, DB: 2) | 200 OK [http://localhost/]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-18 00:30:21) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (1.2ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;36;1mDonationOption Load (2.6ms)[0m   [0;1mSELECT * FROM "donation_options" [0m
Rendered layouts/_header (79.3ms)
Completed in 277ms (View: 221, DB: 4) | 200 OK [http://localhost/stories/1]


Processing StoriesController#donate (for 127.0.0.1 at 2009-05-18 00:30:24) [PUT]
  Parameters: {"commit"=>"Donate to this family", "authenticity_token"=>"Ypq9AOZxhmeFlsGkHLoguUws2OuT+4XaIEM9J4tzMbc=", "id"=>"1", "donation_option"=>"2"}
Redirected to http://localhost:3000/donations/new.%23%3Cdonation:0x3517090%3E
Completed in 61ms (DB: 0) | 302 Found [http://localhost/stories/1/donate]


Processing DonationsController#new to #<donation:0x3517090> (for 127.0.0.1 at 2009-05-18 00:30:25) [GET]

ActionView::MissingTemplate (Missing template donations/new.erb in view path app/views):
  haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'

Rendering rescues/layout (internal_server_error)


Processing DonationsController#new (for 127.0.0.1 at 2009-05-18 00:31:05) [GET]
Rendering template within layouts/application
Rendering donations/new
Rendered layouts/_header (109.9ms)
Completed in 1081ms (View: 1028, DB: 0) | 200 OK [http://localhost/donations/new]


Processing DonationsController#new (for 127.0.0.1 at 2009-05-18 00:31:34) [GET]
Rendering template within layouts/application
Rendering donations/new

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #3 of app/views/donations/new.html.haml:
1: - title "New Donation"
2: 
3: - form_for @donation do |f|
4:   = f.error_messages
5:   %p
6:     = f.label :first_name

    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:171:in `form_for'
    app/views/donations/new.html.haml:3:in `_run_haml_app47views47donations47new46html46haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render'
    haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (214.4ms)
Rendered rescues/_request_and_response (5.2ms)
Rendering rescues/layout (internal_server_error)


Processing StoriesController#show (for 127.0.0.1 at 2009-05-18 00:32:15) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mStory Load (2.4ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;35;1mDonationOption Load (2.0ms)[0m   [0mSELECT * FROM "donation_options" [0m
Rendered layouts/_header (237.9ms)
Completed in 476ms (View: 407, DB: 4) | 200 OK [http://localhost/stories/1]


Processing StoriesController#donate (for 127.0.0.1 at 2009-05-18 00:32:18) [PUT]
  Parameters: {"commit"=>"Donate to this family", "authenticity_token"=>"Ypq9AOZxhmeFlsGkHLoguUws2OuT+4XaIEM9J4tzMbc=", "id"=>"1", "donation_option"=>"3"}
Redirected to http://localhost:3000/donations/new.%23%3Cdonation:0x36367dc%3E
Completed in 60ms (DB: 0) | 302 Found [http://localhost/stories/1/donate]


Processing DonationsController#new to #<donation:0x36367dc> (for 127.0.0.1 at 2009-05-18 00:32:18) [GET]

ArgumentError (wrong number of arguments (0 for 1)):
  haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (146.9ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing DonationsController#new (for 127.0.0.1 at 2009-05-18 00:32:23) [GET]

ArgumentError (wrong number of arguments (0 for 1)):
  haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (279.7ms)
Rendered rescues/_request_and_response (1.4ms)
Rendering rescues/layout (internal_server_error)


Processing DonationsController#new (for 127.0.0.1 at 2009-05-18 00:32:33) [GET]

ArgumentError (wrong number of arguments (0 for 1)):
  haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (157.0ms)
Rendered rescues/_request_and_response (1.1ms)
Rendering rescues/layout (internal_server_error)


Processing StoriesController#donate (for 127.0.0.1 at 2009-05-18 00:37:02) [PUT]
  Parameters: {"commit"=>"Donate to this family", "authenticity_token"=>"Ypq9AOZxhmeFlsGkHLoguUws2OuT+4XaIEM9J4tzMbc=", "id"=>"1", "donation_option"=>"3"}
Redirected to http://localhost:3000/donations/new
Completed in 20ms (DB: 0) | 302 Found [http://localhost/stories/1/donate]


Processing DonationsController#new (for 127.0.0.1 at 2009-05-18 00:37:03) [GET]
Rendering template within layouts/application
Rendering donations/new
Rendered layouts/_header (69.9ms)
Completed in 175ms (View: 116, DB: 0) | 200 OK [http://localhost/donations/new]


Processing DonationsController#create (for 127.0.0.1 at 2009-05-18 00:37:20) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"Ypq9AOZxhmeFlsGkHLoguUws2OuT+4XaIEM9J4tzMbc=", "donation"=>{"card_type"=>"visa", "card_expires_on(1i)"=>"2009", "card_number"=>"12341345", "card_expires_on(2i)"=>"5", "card_expires_on(3i)"=>"1", "first_name"=>"Shoaib", "last_name"=>"Burq", "card_verification"=>"1234567"}}
  [4;36;1mStory Load (2.4ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
  [4;35;1mDonationOption Load (0.9ms)[0m   [0mSELECT * FROM "donation_options" WHERE ("donation_options"."id" = 3) [0m
  [4;36;1mDonation Create (0.8ms)[0m   [0;1mINSERT INTO "donations" ("updated_at", "card_type", "story_id", "donation_option_id", "card_expires_on", "first_name", "last_name", "ip_address", "created_at") VALUES('2009-05-17 14:37:20', 'visa', 1, 3, '2009-05-01', 'Shoaib', 'Burq', NULL, '2009-05-17 14:37:20')[0m
Redirected to http://localhost:3000/donations
Completed in 180ms (DB: 4) | 302 Found [http://localhost/donations]


Processing DonationsController#index (for 127.0.0.1 at 2009-05-18 00:37:20) [GET]

ActionController::UnknownAction (No action responded to index. Actions: create and new):
  haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'

Rendering rescues/layout (not_found)


Processing DonationsController#create (for 127.0.0.1 at 2009-05-18 00:54:38) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"Ypq9AOZxhmeFlsGkHLoguUws2OuT+4XaIEM9J4tzMbc=", "donation"=>{"card_type"=>"visa", "card_expires_on(1i)"=>"2009", "card_number"=>"12341345", "card_expires_on(2i)"=>"5", "card_expires_on(3i)"=>"1", "first_name"=>"Shoaib", "last_name"=>"Burq", "card_verification"=>"1234567"}}

ActiveRecord::RecordNotFound (Couldn't find Story without an ID):
  app/controllers/donations_controller.rb:8:in `create'
  haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (154.4ms)
Rendered rescues/_request_and_response (0.9ms)
Rendering rescues/layout (not_found)


Processing StoriesController#donate (for 127.0.0.1 at 2009-05-18 00:55:27) [PUT]
  Parameters: {"commit"=>"Donate to this family", "authenticity_token"=>"Ypq9AOZxhmeFlsGkHLoguUws2OuT+4XaIEM9J4tzMbc=", "id"=>"1", "donation_option"=>"3"}
Redirected to http://localhost:3000/donations/new
Completed in 30ms (DB: 0) | 302 Found [http://localhost/stories/1/donate]


Processing DonationsController#new (for 127.0.0.1 at 2009-05-18 00:55:28) [GET]
Rendering template within layouts/application
Rendering donations/new
Rendered layouts/_header (67.1ms)
Completed in 169ms (View: 114, DB: 0) | 200 OK [http://localhost/donations/new]


Processing StoriesController#show (for 127.0.0.1 at 2009-05-18 00:55:47) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mStory Load (2.4ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
Rendering template within layouts/application
Rendering stories/show
  [4;36;1mDonationOption Load (3.5ms)[0m   [0;1mSELECT * FROM "donation_options" [0m
Rendered layouts/_header (64.2ms)
Completed in 388ms (View: 176, DB: 6) | 200 OK [http://localhost/stories/1]


Processing StoriesController#donate (for 127.0.0.1 at 2009-05-18 00:55:51) [PUT]
  Parameters: {"commit"=>"Donate to this family", "authenticity_token"=>"Ypq9AOZxhmeFlsGkHLoguUws2OuT+4XaIEM9J4tzMbc=", "id"=>"1", "donation_option"=>"2"}
Redirected to http://localhost:3000/donations/new
Completed in 22ms (DB: 0) | 302 Found [http://localhost/stories/1/donate]


Processing DonationsController#new (for 127.0.0.1 at 2009-05-18 00:55:51) [GET]
Rendering template within layouts/application
Rendering donations/new
Rendered layouts/_header (62.2ms)
Completed in 156ms (View: 104, DB: 0) | 200 OK [http://localhost/donations/new]


Processing DonationsController#create (for 127.0.0.1 at 2009-05-18 00:56:08) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"Ypq9AOZxhmeFlsGkHLoguUws2OuT+4XaIEM9J4tzMbc=", "donation"=>{"card_type"=>"visa", "card_expires_on(1i)"=>"2009", "card_number"=>"1234567890", "card_expires_on(2i)"=>"7", "card_expires_on(3i)"=>"1", "first_name"=>"Shoaib", "last_name"=>"Burq", "card_verification"=>"123"}}
  [4;35;1mStory Load (1.3ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
  [4;36;1mDonationOption Load (1.1ms)[0m   [0;1mSELECT * FROM "donation_options" WHERE ("donation_options"."id" = 2) [0m
Rendering template within layouts/application
Rendering donations/new
Rendered layouts/_header (240.1ms)
Completed in 439ms (View: 286, DB: 2) | 200 OK [http://localhost/donations]


Processing DonationsController#create (for 127.0.0.1 at 2009-05-18 00:56:14) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"Ypq9AOZxhmeFlsGkHLoguUws2OuT+4XaIEM9J4tzMbc=", "donation"=>{"card_type"=>"visa", "card_expires_on(1i)"=>"2009", "card_number"=>"12345678902", "card_expires_on(2i)"=>"7", "card_expires_on(3i)"=>"1", "first_name"=>"Shoaib", "last_name"=>"Burq", "card_verification"=>"123"}}

ActiveRecord::RecordNotFound (Couldn't find Story without an ID):
  app/controllers/donations_controller.rb:8:in `create'
  haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (166.5ms)
Rendered rescues/_request_and_response (1.8ms)
Rendering rescues/layout (not_found)


Processing StoriesController#donate (for 127.0.0.1 at 2009-05-18 00:57:41) [PUT]
  Parameters: {"commit"=>"Donate to this family", "authenticity_token"=>"Ypq9AOZxhmeFlsGkHLoguUws2OuT+4XaIEM9J4tzMbc=", "id"=>"1", "donation_option"=>"2"}
Redirected to http://localhost:3000/donations/new
Completed in 19ms (DB: 0) | 302 Found [http://localhost/stories/1/donate]


Processing DonationsController#new (for 127.0.0.1 at 2009-05-18 00:57:41) [GET]
Rendering template within layouts/application
Rendering donations/new
Rendered layouts/_header (70.1ms)
Completed in 344ms (View: 295, DB: 0) | 200 OK [http://localhost/donations/new]


Processing DonationsController#create (for 127.0.0.1 at 2009-05-18 00:57:57) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"Ypq9AOZxhmeFlsGkHLoguUws2OuT+4XaIEM9J4tzMbc=", "donation"=>{"card_type"=>"visa", "card_expires_on(1i)"=>"2009", "card_number"=>"3213125464233", "card_expires_on(2i)"=>"5", "card_expires_on(3i)"=>"1", "first_name"=>"Shoaib", "last_name"=>"Burq", "card_verification"=>"1232"}}
  [4;35;1mStory Load (1.6ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
  [4;36;1mDonationOption Load (1.1ms)[0m   [0;1mSELECT * FROM "donation_options" WHERE ("donation_options"."id" = 2) [0m
Rendering template within layouts/application
Rendering donations/new
Rendered layouts/_header (68.0ms)
Completed in 260ms (View: 103, DB: 3) | 200 OK [http://localhost/donations]


Processing DonationsController#create (for 127.0.0.1 at 2009-05-18 00:58:40) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"Ypq9AOZxhmeFlsGkHLoguUws2OuT+4XaIEM9J4tzMbc=", "donation"=>{"card_type"=>"visa", "card_expires_on(1i)"=>"2009", "card_number"=>"4024007148673576", "card_expires_on(2i)"=>"5", "card_expires_on(3i)"=>"1", "first_name"=>"Shoaib", "last_name"=>"Burq", "card_verification"=>"123"}}
  [4;35;1mStory Load (1.3ms)[0m   [0mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
  [4;36;1mDonationOption Load (1.0ms)[0m   [0;1mSELECT * FROM "donation_options" WHERE ("donation_options"."id" = 2) [0m
  [4;35;1mDonation Create (0.8ms)[0m   [0mINSERT INTO "donations" ("updated_at", "card_type", "story_id", "donation_option_id", "card_expires_on", "first_name", "last_name", "ip_address", "created_at") VALUES('2009-05-17 14:58:41', 'visa', 1, 2, '2009-05-01', 'Shoaib', 'Burq', '127.0.0.1', '2009-05-17 14:58:41')[0m
Rendering template within layouts/application
Rendering donations/success
Rendered layouts/_header (249.8ms)
Completed in 22944ms (View: 285, DB: 3) | 200 OK [http://localhost/donations]


Processing DonationsController#create (for 127.0.0.1 at 2009-05-18 00:59:04) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"Ypq9AOZxhmeFlsGkHLoguUws2OuT+4XaIEM9J4tzMbc=", "donation"=>{"card_type"=>"visa", "card_expires_on(1i)"=>"2009", "card_number"=>"4024007148673576", "card_expires_on(2i)"=>"5", "card_expires_on(3i)"=>"1", "first_name"=>"Shoaib", "last_name"=>"Burq", "card_verification"=>"123"}}
  [4;36;1mStory Load (1.2ms)[0m   [0;1mSELECT * FROM "stories" WHERE ("stories"."id" = 1) [0m
  [4;35;1mDonationOption Load (1.0ms)[0m   [0mSELECT * FROM "donation_options" WHERE ("donation_options"."id" = 2) [0m
  [4;36;1mDonation Create (0.9ms)[0m   [0;1mINSERT INTO "donations" ("updated_at", "card_type", "story_id", "donation_option_id", "card_expires_on", "first_name", "last_name", "ip_address", "created_at") VALUES('2009-05-17 14:59:04', 'visa', 1, 2, '2009-05-01', 'Shoaib', 'Burq', '127.0.0.1', '2009-05-17 14:59:04')[0m
Rendering template within layouts/application
Rendering donations/success
Rendered layouts/_header (68.6ms)
Completed in 7921ms (View: 74, DB: 3) | 200 OK [http://localhost/donations]


Processing StoriesController#index (for 127.0.0.1 at 2009-05-18 00:59:53) [GET]
  [4;35;1mStory Load (1.7ms)[0m   [0mSELECT * FROM "stories" [0m
Rendering template within layouts/application
Rendering stories/index
Rendered layouts/_header (84.4ms)
Completed in 238ms (View: 176, DB: 2) | 200 OK [http://localhost/]
